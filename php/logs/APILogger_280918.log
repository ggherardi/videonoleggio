[28/09/2018 00:02:38] - corrId_5bad537ec6ace6.78051136 - Reached AuthenticationService API 
[28/09/2018 00:02:38] - corrId_5bad537ec6ace6.78051136 - Token is valid 
[28/09/2018 00:02:39] - corrId_5bad537fd49813.38566838 - Reached RentalManagementService API 
[28/09/2018 00:02:39] - corrId_5bad537fd49813.38566838 - Establishing connection to DB 
API 
[28/09/2018 00:02:39] - corrId_5bad537fd4d6a0.79085891 - Establishing connection to DB 
[28/09/2018 00:02:39] - corrId_5bad537fd49813.38566838 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 00:02:39] - corrId_5bad537fd49813.38566838 - Token is valid 
entalBookings request. 
[28/09/2018 00:02:39] - corrId_5bad537fd49813.38566838 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:02:39] - corrId_5bad537fd49813.38566838 - Executing query 
[28/09/2018 00:02:39] - corrId_5bad537fd4d6a0.79085891 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:02:39] - corrId_5bad537fd4d6a0.79085891 - Executing query 
[28/09/2018 00:02:39] - corrId_5bad537fd49813.38566838 - Query executed successfully 
[28/09/2018 00:02:39] - corrId_5bad537fd4d6a0.79085891 - Query executed successfully 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Reached RentalManagementService API 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Establishing connection to DB 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Token is valid 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Executing query 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Query executed successfully 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Executing query 
[28/09/2018 00:02:39] - corrId_5bad537fded8f7.73708490 - Query executed successfully 
[28/09/2018 00:02:43] - corrId_5bad5383b1d298.22826530 - Reached RestitutionManagementService API 
[28/09/2018 00:02:43] - corrId_5bad5383b1d298.22826530 - Establishing connection to DB 
[28/09/2018 00:02:43] - corrId_5bad5383b1d298.22826530 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:02:43] - corrId_5bad5383b1d298.22826530 - Token is valid 
[28/09/2018 00:02:43] - corrId_5bad5383b1d298.22826530 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:02:43] - corrId_5bad5383b1d298.22826530 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:02:43] - corrId_5bad5383b1d298.22826530 - Executing query 
[28/09/2018 00:02:43] - corrId_5bad5383b1d298.22826530 - Query executed successfully 
[28/09/2018 00:03:26] - corrId_5bad53ae8c7701.40346728 - Reached AuthenticationService API 
[28/09/2018 00:03:26] - corrId_5bad53ae8c7701.40346728 - Token is valid 
[28/09/2018 00:03:29] - corrId_5bad53b118eda4.81963340 - Reached RestitutionManagementService API 
[28/09/2018 00:03:29] - corrId_5bad53b118eda4.81963340 - Establishing connection to DB 
[28/09/2018 00:03:29] - corrId_5bad53b118eda4.81963340 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:03:29] - corrId_5bad53b118eda4.81963340 - Token is valid 
[28/09/2018 00:03:29] - corrId_5bad53b118eda4.81963340 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:03:29] - corrId_5bad53b118eda4.81963340 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:03:29] - corrId_5bad53b118eda4.81963340 - Executing query 
[28/09/2018 00:03:29] - corrId_5bad53b118eda4.81963340 - Query executed successfully 
[28/09/2018 00:10:14] - corrId_5bad5546254184.94612270 - Reached RentalManagementService API 
[28/09/2018 00:10:14] - corrId_5bad5546254184.94612270 - Establishing connection to DB 
[28/09/2018 00:10:14] - corrId_5bad554625fcf1.93864295 - Reached RentalManagementService API 
[28/09/2018 00:10:14] - corrId_5bad5546254184.94612270 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 00:10:14] - corrId_5bad554625fcf1.93864295 - Establishing connection to DB 
[28/09/2018 00:10:14] - corrId_5bad5546254184.94612270 - Token is valid 
[28/09/2018 00:10:14] - corrId_5bad5546254184.94612270 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:14] - corrId_5bad554625fcf1.93864295 - Processing ClearRentalBookings request. 
[28/09/2018 00:10:14] - corrId_5bad5546254184.94612270 - Executing query 
[28/09/2018 00:10:14] - corrId_5bad554625fcf1.93864295 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:14] - corrId_5bad5546254184.94612270 - Query executed successfully 
[28/09/2018 00:10:14] - corrId_5bad554625fcf1.93864295 - Executing query 
[28/09/2018 00:10:14] - corrId_5bad554625fcf1.93864295 - Query executed successfully 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Reached RentalManagementService API 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Establishing connection to DB 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Token is valid 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Executing query 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Query executed successfully 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Executing query 
[28/09/2018 00:10:14] - corrId_5bad55462f4463.77679979 - Query executed successfully 
[28/09/2018 00:10:15] - corrId_5bad5547982685.84582134 - Reached AuthenticationService API 
[28/09/2018 00:10:15] - corrId_5bad5547982685.84582134 - Token is valid 
[28/09/2018 00:10:15] - corrId_5bad5547e50e22.87314901 - Reached RentalManagementService API 
[28/09/2018 00:10:15] - corrId_5bad5547e50e23.03170533 - Reached RentalManagementService API 
[28/09/2018 00:10:15] - corrId_5bad5547e50e22.87314901 - Establishing connection to DB 
[28/09/2018 00:10:15] - corrId_5bad5547e50e23.03170533 - Establishing connection to DB 
[28/09/2018 00:10:15] - corrId_5bad5547e50e22.87314901 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 00:10:15] - corrId_5bad5547e50e23.03170533 - Processing ClearRentalBookings request. 
[28/09/2018 00:10:15] - corrId_5bad5547e50e23.03170533 - Token is valid 
[28/09/2018 00:10:15] - corrId_5bad5547e50e22.87314901 - Token is valid 
[28/09/2018 00:10:15] - corrId_5bad5547e50e23.03170533 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:15] - corrId_5bad5547e50e22.87314901 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:15] - corrId_5bad5547e50e23.03170533 - Executing query 
[28/09/2018 00:10:15] - corrId_5bad5547e50e22.87314901 - Query executed successfully 
[28/09/2018 00:10:15] - corrId_5bad5547e50e23.03170533 - Query executed successfully 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Reached RentalManagementService API 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Establishing connection to DB 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Token is valid 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Executing query 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Query executed successfully 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Executing query 
[28/09/2018 00:10:15] - corrId_5bad5547ebe3f3.85204765 - Query executed successfully 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Reached RentalManagementService API 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Establishing connection to DB 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Processing GetMostRecentCopies request. 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Token is valid 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Starting transaction 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Executing query 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Query executed successfully 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 127
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Executing query 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Query executed successfully 
[28/09/2018 00:10:18] - corrId_5bad554ac7da28.15691563 - Committing transaction 
[28/09/2018 00:10:18] - corrId_5bad554ad68049.67469002 - Reached RentalManagementService API 
[28/09/2018 00:10:18] - corrId_5bad554ad68049.67469002 - Establishing connection to DB 
[28/09/2018 00:10:18] - corrId_5bad554ad68049.67469002 - Processing GetActiveDiscount request. 
[28/09/2018 00:10:18] - corrId_5bad554ad68049.67469002 - Token is valid 
[28/09/2018 00:10:18] - corrId_5bad554ad68049.67469002 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:18] - corrId_5bad554ad68049.67469002 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[28/09/2018 00:10:18] - corrId_5bad554ad68049.67469002 - Executing query 
[28/09/2018 00:10:18] - corrId_5bad554ad68049.67469002 - Query executed successfully 
[28/09/2018 00:10:26] - corrId_5bad5552599fb6.70104313 - Reached RentalManagementService API 
[28/09/2018 00:10:26] - corrId_5bad5552599fb6.70104313 - Establishing connection to DB 
[28/09/2018 00:10:26] - corrId_5bad5552599fb6.70104313 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 00:10:26] - corrId_5bad5552599fb6.70104313 - Token is valid 
[28/09/2018 00:10:26] - corrId_5bad5552599fb6.70104313 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:26] - corrId_5bad5552599fb6.70104313 - Executing query 
[28/09/2018 00:10:26] - corrId_5bad5552599fb6.70104313 - Query executed successfully 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Reached RentalManagementService API 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Establishing connection to DB 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Processing GetMostRecentCopies request. 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Token is valid 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Starting transaction 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Executing query 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Query executed successfully 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 127
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Executing query 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Query executed successfully 
[28/09/2018 00:10:31] - corrId_5bad55571f83d3.58493877 - Committing transaction 
[28/09/2018 00:10:31] - corrId_5bad55572a4187.64207616 - Reached RentalManagementService API 
[28/09/2018 00:10:31] - corrId_5bad55572a4187.64207616 - Establishing connection to DB 
[28/09/2018 00:10:31] - corrId_5bad55572a4187.64207616 - Processing GetActiveDiscount request. 
[28/09/2018 00:10:31] - corrId_5bad55572a4187.64207616 - Token is valid 
[28/09/2018 00:10:31] - corrId_5bad55572a4187.64207616 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:31] - corrId_5bad55572a4187.64207616 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[28/09/2018 00:10:31] - corrId_5bad55572a4187.64207616 - Executing query 
[28/09/2018 00:10:31] - corrId_5bad55572a4187.64207616 - Query executed successfully 
[28/09/2018 00:10:39] - corrId_5bad555f406171.93892627 - Reached CustomerManagementService API 
[28/09/2018 00:10:39] - corrId_5bad555f406171.93892627 - Processing FindCustomerById request. 
[28/09/2018 00:10:39] - corrId_5bad555f406171.93892627 - Token is valid 
[28/09/2018 00:10:39] - corrId_5bad555f406171.93892627 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:39] - corrId_5bad555f406171.93892627 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 35
            LIMIT 1 
[28/09/2018 00:10:39] - corrId_5bad555f406171.93892627 - Establishing connection to DB 
[28/09/2018 00:10:39] - corrId_5bad555f406171.93892627 - Executing query 
[28/09/2018 00:10:39] - corrId_5bad555f406171.93892627 - Query executed successfully 
[28/09/2018 00:10:42] - corrId_5bad5562b6b0b9.44397231 - Reached RentalManagementService API 
[28/09/2018 00:10:42] - corrId_5bad5562b6b0b9.44397231 - Establishing connection to DB 
[28/09/2018 00:10:42] - corrId_5bad5562b6b0b9.44397231 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 00:10:42] - corrId_5bad5562b6b0b9.44397231 - Token is valid 
[28/09/2018 00:10:42] - corrId_5bad5562b6b0b9.44397231 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:10:42] - corrId_5bad5562b6b0b9.44397231 - Executing query 
[28/09/2018 00:10:42] - corrId_5bad5562b6b0b9.44397231 - Query executed successfully 
[28/09/2018 00:11:09] - corrId_5bad557d696845.49886068 - Reached RestitutionManagementService API 
[28/09/2018 00:11:09] - corrId_5bad557d696845.49886068 - Establishing connection to DB 
[28/09/2018 00:11:09] - corrId_5bad557d696845.49886068 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:11:09] - corrId_5bad557d696845.49886068 - Token is valid 
[28/09/2018 00:11:09] - corrId_5bad557d696845.49886068 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:11:09] - corrId_5bad557d696845.49886068 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:11:09] - corrId_5bad557d696845.49886068 - Executing query 
[28/09/2018 00:11:09] - corrId_5bad557d696845.49886068 - Query executed successfully 
[28/09/2018 00:19:01] - corrId_5bad5755827805.57058010 - Reached AuthenticationService API 
[28/09/2018 00:19:01] - corrId_5bad5755827805.57058010 - Token is valid 
[28/09/2018 00:19:04] - corrId_5bad5758b0c085.27611941 - Reached RestitutionManagementService API 
[28/09/2018 00:19:04] - corrId_5bad5758b0c085.27611941 - Establishing connection to DB 
[28/09/2018 00:19:04] - corrId_5bad5758b0c085.27611941 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:19:04] - corrId_5bad5758b0c085.27611941 - Token is valid 
[28/09/2018 00:19:04] - corrId_5bad5758b0c085.27611941 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:19:04] - corrId_5bad5758b0c085.27611941 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:19:04] - corrId_5bad5758b0c085.27611941 - Executing query 
[28/09/2018 00:19:04] - corrId_5bad5758b0c085.27611941 - Query executed successfully 
[28/09/2018 00:20:46] - corrId_5bad57be6e95c6.55153986 - Reached AuthenticationService API 
[28/09/2018 00:20:46] - corrId_5bad57be6e95c6.55153986 - Token is valid 
[28/09/2018 00:20:48] - corrId_5bad57c09f7b28.40426283 - Reached RestitutionManagementService API 
[28/09/2018 00:20:48] - corrId_5bad57c09f7b28.40426283 - Establishing connection to DB 
[28/09/2018 00:20:48] - corrId_5bad57c09f7b28.40426283 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:20:48] - corrId_5bad57c09f7b28.40426283 - Token is valid 
[28/09/2018 00:20:48] - corrId_5bad57c09f7b28.40426283 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:20:48] - corrId_5bad57c09f7b28.40426283 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:20:48] - corrId_5bad57c09f7b28.40426283 - Executing query 
[28/09/2018 00:20:48] - corrId_5bad57c09f7b28.40426283 - Query executed successfully 
[28/09/2018 00:21:48] - corrId_5bad57fcec0bb2.67092368 - Reached AuthenticationService API 
[28/09/2018 00:21:48] - corrId_5bad57fcec0bb2.67092368 - Token is valid 
[28/09/2018 00:21:51] - corrId_5bad57ffc44769.22488571 - Reached RestitutionManagementService API 
[28/09/2018 00:21:51] - corrId_5bad57ffc44769.22488571 - Establishing connection to DB 
[28/09/2018 00:21:51] - corrId_5bad57ffc44769.22488571 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:21:51] - corrId_5bad57ffc44769.22488571 - Token is valid 
[28/09/2018 00:21:51] - corrId_5bad57ffc44769.22488571 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:21:51] - corrId_5bad57ffc44769.22488571 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:21:51] - corrId_5bad57ffc44769.22488571 - Executing query 
[28/09/2018 00:21:51] - corrId_5bad57ffc44769.22488571 - Query executed successfully 
[28/09/2018 00:22:26] - corrId_5bad5822a8cca7.14796867 - Reached AuthenticationService API 
[28/09/2018 00:22:26] - corrId_5bad5822a8cca7.14796867 - Token is valid 
[28/09/2018 00:22:28] - corrId_5bad5824d60568.32801639 - Reached RestitutionManagementService API 
[28/09/2018 00:22:28] - corrId_5bad5824d60568.32801639 - Establishing connection to DB 
[28/09/2018 00:22:28] - corrId_5bad5824d60568.32801639 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:22:28] - corrId_5bad5824d60568.32801639 - Token is valid 
[28/09/2018 00:22:28] - corrId_5bad5824d60568.32801639 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:22:28] - corrId_5bad5824d60568.32801639 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:22:28] - corrId_5bad5824d60568.32801639 - Executing query 
[28/09/2018 00:22:28] - corrId_5bad5824d60568.32801639 - Query executed successfully 
[28/09/2018 00:26:02] - corrId_5bad58fac9af67.79318974 - Reached AuthenticationService API 
[28/09/2018 00:26:02] - corrId_5bad58fac9af67.79318974 - Token is valid 
[28/09/2018 00:26:04] - corrId_5bad58fc280fb9.23401033 - Reached RentalManagementService API 
[28/09/2018 00:26:04] - corrId_5bad58fc280fb9.23401033 - Establishing connection to DB 
[28/09/2018 00:26:04] - corrId_5bad58fc280fb9.23401033 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 00:26:04] - corrId_5bad58fc280fb9.23401033 - Token is valid 
[28/09/2018 00:26:04] - corrId_5bad58fc280fb9.23401033 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:26:04] - corrId_5bad58fc280fb9.23401033 - Executing query 
[28/09/2018 00:26:04] - corrId_5bad58fc280fb9.23401033 - Query executed successfully 
[28/09/2018 00:26:04] - corrId_5bad58fc3388d0.21544171 - Reached RentalManagementService API 
[28/09/2018 00:26:04] - corrId_5bad58fc3388d0.21544171 - Establishing connection to DB 
[28/09/2018 00:26:04] - corrId_5bad58fc3388d0.21544171 - Processing ClearRentalBookings request. 
[28/09/2018 00:26:04] - corrId_5bad58fc3388d0.21544171 - Token is valid 
[28/09/2018 00:26:04] - corrId_5bad58fc3388d0.21544171 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:26:04] - corrId_5bad58fc3388d0.21544171 - Executing query 
[28/09/2018 00:26:04] - corrId_5bad58fc3388d0.21544171 - Query executed successfully 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Reached RentalManagementService API 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Establishing connection to DB 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Token is valid 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Executing query 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Query executed successfully 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Executing query 
[28/09/2018 00:26:04] - corrId_5bad58fc3a2061.12877250 - Query executed successfully 
[28/09/2018 00:26:07] - corrId_5bad58ff7b8851.10873456 - Reached RestitutionManagementService API 
[28/09/2018 00:26:07] - corrId_5bad58ff7b8851.10873456 - Establishing connection to DB 
[28/09/2018 00:26:07] - corrId_5bad58ff7b8851.10873456 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:26:07] - corrId_5bad58ff7b8851.10873456 - Token is valid 
[28/09/2018 00:26:07] - corrId_5bad58ff7b8851.10873456 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:26:07] - corrId_5bad58ff7b8851.10873456 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:26:07] - corrId_5bad58ff7b8851.10873456 - Executing query 
[28/09/2018 00:26:07] - corrId_5bad58ff7b8851.10873456 - Query executed successfully 
[28/09/2018 00:27:08] - corrId_5bad593ca01c80.32719278 - Reached AuthenticationService API 
[28/09/2018 00:27:08] - corrId_5bad593ca01c80.32719278 - Token is valid 
[28/09/2018 00:27:11] - corrId_5bad593f4820e3.29014914 - Reached RestitutionManagementService API 
[28/09/2018 00:27:11] - corrId_5bad593f4820e3.29014914 - Establishing connection to DB 
[28/09/2018 00:27:11] - corrId_5bad593f4820e3.29014914 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:27:11] - corrId_5bad593f4820e3.29014914 - Token is valid 
[28/09/2018 00:27:11] - corrId_5bad593f4820e3.29014914 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:27:11] - corrId_5bad593f4820e3.29014914 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:27:11] - corrId_5bad593f4820e3.29014914 - Executing query 
[28/09/2018 00:27:11] - corrId_5bad593f4820e3.29014914 - Query executed successfully 
[28/09/2018 00:29:19] - corrId_5bad59bf4f2800.61485522 - Reached AuthenticationService API 
[28/09/2018 00:29:19] - corrId_5bad59bf4f2800.61485522 - Token is valid 
[28/09/2018 00:29:21] - corrId_5bad59c165e8a7.85484842 - Reached RestitutionManagementService API 
[28/09/2018 00:29:21] - corrId_5bad59c165e8a7.85484842 - Establishing connection to DB 
[28/09/2018 00:29:21] - corrId_5bad59c165e8a7.85484842 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:29:21] - corrId_5bad59c165e8a7.85484842 - Token is valid 
[28/09/2018 00:29:21] - corrId_5bad59c165e8a7.85484842 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:29:21] - corrId_5bad59c165e8a7.85484842 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:29:21] - corrId_5bad59c165e8a7.85484842 - Executing query 
[28/09/2018 00:29:21] - corrId_5bad59c165e8a7.85484842 - Query executed successfully 
[28/09/2018 00:30:12] - corrId_5bad59f4c47b23.50463259 - Reached AuthenticationService API 
[28/09/2018 00:30:12] - corrId_5bad59f4c47b23.50463259 - Token is valid 
[28/09/2018 00:30:14] - corrId_5bad59f6e2ba66.50982236 - Reached RestitutionManagementService API 
[28/09/2018 00:30:14] - corrId_5bad59f6e2ba66.50982236 - Establishing connection to DB 
[28/09/2018 00:30:14] - corrId_5bad59f6e2ba66.50982236 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:30:14] - corrId_5bad59f6e2ba66.50982236 - Token is valid 
[28/09/2018 00:30:14] - corrId_5bad59f6e2ba66.50982236 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:30:14] - corrId_5bad59f6e2ba66.50982236 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:30:14] - corrId_5bad59f6e2ba66.50982236 - Executing query 
[28/09/2018 00:30:14] - corrId_5bad59f6e2ba66.50982236 - Query executed successfully 
[28/09/2018 00:31:28] - corrId_5bad5a40b423c9.29021643 - Reached AuthenticationService API 
[28/09/2018 00:31:28] - corrId_5bad5a40b423c9.29021643 - Token is valid 
[28/09/2018 00:31:30] - corrId_5bad5a42dac366.32430349 - Reached RestitutionManagementService API 
[28/09/2018 00:31:30] - corrId_5bad5a42dac366.32430349 - Establishing connection to DB 
[28/09/2018 00:31:30] - corrId_5bad5a42dac366.32430349 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:31:30] - corrId_5bad5a42dac366.32430349 - Token is valid 
[28/09/2018 00:31:30] - corrId_5bad5a42dac366.32430349 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:31:30] - corrId_5bad5a42dac366.32430349 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:31:30] - corrId_5bad5a42dac366.32430349 - Executing query 
[28/09/2018 00:31:30] - corrId_5bad5a42dac366.32430349 - Query executed successfully 
[28/09/2018 00:32:05] - corrId_5bad5a656d5fc0.97614087 - Reached AuthenticationService API 
[28/09/2018 00:32:05] - corrId_5bad5a656d5fc0.97614087 - Token is valid 
[28/09/2018 00:32:07] - corrId_5bad5a6765cb04.10803889 - Reached RestitutionManagementService API 
[28/09/2018 00:32:07] - corrId_5bad5a6765cb04.10803889 - Establishing connection to DB 
[28/09/2018 00:32:07] - corrId_5bad5a6765cb04.10803889 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:32:07] - corrId_5bad5a6765cb04.10803889 - Token is valid 
[28/09/2018 00:32:07] - corrId_5bad5a6765cb04.10803889 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:32:07] - corrId_5bad5a6765cb04.10803889 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:32:07] - corrId_5bad5a6765cb04.10803889 - Executing query 
[28/09/2018 00:32:07] - corrId_5bad5a6765cb04.10803889 - Query executed successfully 
[28/09/2018 00:32:45] - corrId_5bad5a8d37f0b5.92850928 - Reached AuthenticationService API 
[28/09/2018 00:32:45] - corrId_5bad5a8d37f0b5.92850928 - Token is valid 
[28/09/2018 00:32:47] - corrId_5bad5a8f6532d0.80060346 - Reached RestitutionManagementService API 
[28/09/2018 00:32:47] - corrId_5bad5a8f6532d0.80060346 - Establishing connection to DB 
[28/09/2018 00:32:47] - corrId_5bad5a8f6532d0.80060346 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:32:47] - corrId_5bad5a8f6532d0.80060346 - Token is valid 
[28/09/2018 00:32:47] - corrId_5bad5a8f6532d0.80060346 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:32:47] - corrId_5bad5a8f6532d0.80060346 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:32:47] - corrId_5bad5a8f6532d0.80060346 - Executing query 
[28/09/2018 00:32:47] - corrId_5bad5a8f6532d0.80060346 - Query executed successfully 
[28/09/2018 00:34:03] - corrId_5bad5adbc84824.60415730 - Reached AuthenticationService API 
[28/09/2018 00:34:03] - corrId_5bad5adbc84824.60415730 - Token is valid 
[28/09/2018 00:34:07] - corrId_5bad5adf53eaf1.23767221 - Reached RestitutionManagementService API 
[28/09/2018 00:34:07] - corrId_5bad5adf53eaf1.23767221 - Establishing connection to DB 
[28/09/2018 00:34:07] - corrId_5bad5adf53eaf1.23767221 - Processing GetRentedVideoForUser request. 
[28/09/2018 00:34:07] - corrId_5bad5adf53eaf1.23767221 - Token is valid 
[28/09/2018 00:34:07] - corrId_5bad5adf53eaf1.23767221 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 00:34:07] - corrId_5bad5adf53eaf1.23767221 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 00:34:07] - corrId_5bad5adf53eaf1.23767221 - Executing query 
[28/09/2018 00:34:07] - corrId_5bad5adf53eaf1.23767221 - Query executed successfully 
[28/09/2018 08:49:46] - corrId_5badcf0ad664a4.84268089 - Reached AuthenticationService API 
[28/09/2018 08:49:46] - corrId_5badcf0ad664a4.84268089 - Processing Login request. 
[28/09/2018 08:49:46] - corrId_5badcf0ad664a4.84268089 - Establishing connection to DB 
[28/09/2018 08:49:46] - corrId_5badcf0ad664a4.84268089 - Executing query 
[28/09/2018 08:49:46] - corrId_5badcf0ad664a4.84268089 - Query executed successfully 
[28/09/2018 08:49:46] - corrId_5badcf0ad664a4.84268089 - User admin validated, starting token generation. 
[28/09/2018 08:49:46] - corrId_5badcf0ad664a4.84268089 - Token generated succesfully. 
[28/09/2018 08:49:47] - corrId_5badcf0ad664a4.84268089 - Authentication cookie has been set:  
[28/09/2018 08:49:50] - corrId_5badcf0e768529.14656732 - Reached RentalManagementService API 
[28/09/2018 08:49:50] - corrId_5badcf0e768529.14656732 - Establishing connection to DB 
[28/09/2018 08:49:50] - corrId_5badcf0e768529.14656732 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 08:49:50] - corrId_5badcf0e768529.14656732 - Token is valid 
[28/09/2018 08:49:50] - corrId_5badcf0e768529.14656732 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 08:49:50] - corrId_5badcf0e768529.14656732 - Executing query 
[28/09/2018 08:49:50] - corrId_5badcf0e768529.14656732 - Query executed successfully 
[28/09/2018 08:49:50] - corrId_5badcf0e86fc35.66295231 - Reached RentalManagementService API 
[28/09/2018 08:49:50] - corrId_5badcf0e86fc35.66295231 - Establishing connection to DB 
[28/09/2018 08:49:50] - corrId_5badcf0e86fc35.66295231 - Processing ClearRentalBookings request. 
[28/09/2018 08:49:50] - corrId_5badcf0e86fc35.66295231 - Token is valid 
[28/09/2018 08:49:50] - corrId_5badcf0e86fc35.66295231 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 08:49:50] - corrId_5badcf0e86fc35.66295231 - Executing query 
[28/09/2018 08:49:50] - corrId_5badcf0e86fc35.66295231 - Query executed successfully 
[28/09/2018 08:49:50] - corrId_5badcf0eefcdd7.50945440 - Reached RentalManagementService API 
[28/09/2018 08:49:50] - corrId_5badcf0eefcdd7.50945440 - Establishing connection to DB 
[28/09/2018 08:49:50] - corrId_5badcf0eefcdd7.50945440 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 08:49:50] - corrId_5badcf0eefcdd7.50945440 - Token is valid 
[28/09/2018 08:49:50] - corrId_5badcf0eefcdd7.50945440 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 08:49:51] - corrId_5badcf0eefcdd7.50945440 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 08:49:51] - corrId_5badcf0eefcdd7.50945440 - Executing query 
[28/09/2018 08:49:51] - corrId_5badcf0eefcdd7.50945440 - Query executed successfully 
[28/09/2018 08:49:51] - corrId_5badcf0eefcdd7.50945440 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 08:49:51] - corrId_5badcf0eefcdd7.50945440 - Executing query 
[28/09/2018 08:49:51] - corrId_5badcf0eefcdd7.50945440 - Query executed successfully 
[28/09/2018 08:49:54] - corrId_5badcf1250e361.92840381 - Reached RentalManagementService API 
[28/09/2018 08:49:54] - corrId_5badcf1250e361.92840381 - Establishing connection to DB 
[28/09/2018 08:49:57] - corrId_5badcf15d84e01.08745148 - Reached RentalManagementService API 
[28/09/2018 08:49:57] - corrId_5badcf15d84e01.08745148 - Establishing connection to DB 
[28/09/2018 08:50:05] - corrId_5badcf1d458ff4.06570285 - Reached AuthenticationService API 
[28/09/2018 08:50:05] - corrId_5badcf1d458ff4.06570285 - Token is valid 
[28/09/2018 08:50:08] - corrId_5badcf20b028b7.49557291 - Reached RestitutionManagementService API 
[28/09/2018 08:50:08] - corrId_5badcf20b028b7.49557291 - Establishing connection to DB 
[28/09/2018 08:50:08] - corrId_5badcf20b028b7.49557291 - Processing GetRentedVideoForUser request. 
[28/09/2018 08:50:08] - corrId_5badcf20b028b7.49557291 - Token is valid 
[28/09/2018 08:50:08] - corrId_5badcf20b028b7.49557291 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 08:50:08] - corrId_5badcf20b028b7.49557291 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 08:50:08] - corrId_5badcf20b028b7.49557291 - Executing query 
[28/09/2018 08:50:08] - corrId_5badcf20b028b7.49557291 - Query executed successfully 
[28/09/2018 10:42:44] - corrId_5bade984ce2ed5.11570310 - Reached AuthenticationService API 
[28/09/2018 10:42:44] - corrId_5bade984ce2ed5.11570310 - Token is valid 
[28/09/2018 10:42:46] - corrId_5bade98673dd37.58672154 - Reached RentalManagementService API 
[28/09/2018 10:42:46] - corrId_5bade98673dd37.58672154 - Establishing connection to DB 
[28/09/2018 10:42:46] - corrId_5bade98673dd37.58672154 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 10:42:46] - corrId_5bade98673dd37.58672154 - Token is valid 
[28/09/2018 10:42:46] - corrId_5bade98673dd37.58672154 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 10:42:46] - corrId_5bade98673dd37.58672154 - Executing query 
[28/09/2018 10:42:46] - corrId_5bade98673dd37.58672154 - Query executed successfully 
[28/09/2018 10:42:46] - corrId_5bade9867d5603.74885958 - Reached RentalManagementService API 
[28/09/2018 10:42:46] - corrId_5bade9867d5603.74885958 - Establishing connection to DB 
[28/09/2018 10:42:46] - corrId_5bade9867d5603.74885958 - Processing ClearRentalBookings request. 
[28/09/2018 10:42:46] - corrId_5bade9867d5603.74885958 - Token is valid 
[28/09/2018 10:42:46] - corrId_5bade9867d5603.74885958 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 10:42:46] - corrId_5bade9867d5603.74885958 - Executing query 
[28/09/2018 10:42:46] - corrId_5bade9867d5603.74885958 - Query executed successfully 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Reached RentalManagementService API 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Establishing connection to DB 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Token is valid 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Executing query 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Query executed successfully 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Executing query 
[28/09/2018 10:42:46] - corrId_5bade986e70734.35330014 - Query executed successfully 
[28/09/2018 10:42:50] - corrId_5bade98a97d312.04235717 - Reached RestitutionManagementService API 
[28/09/2018 10:42:50] - corrId_5bade98a97d312.04235717 - Establishing connection to DB 
[28/09/2018 10:42:50] - corrId_5bade98a97d312.04235717 - Processing GetRentedVideoForUser request. 
[28/09/2018 10:42:50] - corrId_5bade98a97d312.04235717 - Token is valid 
[28/09/2018 10:42:50] - corrId_5bade98a97d312.04235717 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 10:42:50] - corrId_5bade98a97d312.04235717 - Query: SELECT co.id_copia, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 10:42:50] - corrId_5bade98a97d312.04235717 - Executing query 
[28/09/2018 10:42:50] - corrId_5bade98a97d312.04235717 - Query executed successfully 
[28/09/2018 10:52:59] - corrId_5badebebb0e086.11512104 - Reached AuthenticationService API 
[28/09/2018 10:52:59] - corrId_5badebebb0e086.11512104 - Token is valid 
[28/09/2018 10:53:02] - corrId_5badebee520585.47492757 - Reached RestitutionManagementService API 
[28/09/2018 10:53:02] - corrId_5badebee520585.47492757 - Establishing connection to DB 
[28/09/2018 10:53:02] - corrId_5badebee520585.47492757 - Processing GetRentedVideoForUser request. 
[28/09/2018 10:53:02] - corrId_5badebee520585.47492757 - Token is valid 
[28/09/2018 10:53:02] - corrId_5badebee520585.47492757 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 10:53:02] - corrId_5badebee520585.47492757 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 10:53:02] - corrId_5badebee520585.47492757 - Executing query 
[28/09/2018 10:53:02] - corrId_5badebee520585.47492757 - Query executed successfully 
[28/09/2018 17:01:30] - corrId_5bae424a0429c2.38879435 - Reached AuthenticationService API 
[28/09/2018 17:01:30] - corrId_5bae424a0429c2.38879435 - Token is valid 
[28/09/2018 17:01:32] - corrId_5bae424ce8b6f6.54450747 - Reached RestitutionManagementService API 
[28/09/2018 17:01:32] - corrId_5bae424ce8b6f6.54450747 - Establishing connection to DB 
[28/09/2018 17:01:32] - corrId_5bae424ce8b6f6.54450747 - Processing GetRentedVideoForUser request. 
[28/09/2018 17:01:32] - corrId_5bae424ce8b6f6.54450747 - Token is valid 
[28/09/2018 17:01:32] - corrId_5bae424ce8b6f6.54450747 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:01:32] - corrId_5bae424ce8b6f6.54450747 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 17:01:32] - corrId_5bae424ce8b6f6.54450747 - Executing query 
[28/09/2018 17:01:32] - corrId_5bae424ce8b6f6.54450747 - Query executed successfully 
[28/09/2018 17:01:37] - corrId_5bae425124c607.11066748 - Reached AuthenticationService API 
[28/09/2018 17:01:37] - corrId_5bae425124c607.11066748 - Token is valid 
[28/09/2018 17:01:40] - corrId_5bae42542c8d52.34942581 - Reached RentalManagementService API 
[28/09/2018 17:01:40] - corrId_5bae42542c8d52.34942581 - Establishing connection to DB 
[28/09/2018 17:01:40] - corrId_5bae42542c8d52.34942581 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 17:01:40] - corrId_5bae42542c8d52.34942581 - Token is valid 
[28/09/2018 17:01:40] - corrId_5bae42542c8d52.34942581 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:01:40] - corrId_5bae42542c8d52.34942581 - Executing query 
[28/09/2018 17:01:40] - corrId_5bae42542c8d52.34942581 - Query executed successfully 
[28/09/2018 17:01:40] - corrId_5bae42543adc25.35847427 - Reached RentalManagementService API 
[28/09/2018 17:01:40] - corrId_5bae42543adc25.35847427 - Establishing connection to DB 
[28/09/2018 17:01:40] - corrId_5bae42543adc25.35847427 - Processing ClearRentalBookings request. 
[28/09/2018 17:01:40] - corrId_5bae42543adc25.35847427 - Token is valid 
[28/09/2018 17:01:40] - corrId_5bae42543adc25.35847427 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:01:40] - corrId_5bae42543adc25.35847427 - Executing query 
[28/09/2018 17:01:40] - corrId_5bae42543adc25.35847427 - Query executed successfully 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Reached RentalManagementService API 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Establishing connection to DB 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Token is valid 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Executing query 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Query executed successfully 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Executing query 
[28/09/2018 17:01:40] - corrId_5bae4254a44791.76467543 - Query executed successfully 
[28/09/2018 17:02:07] - corrId_5bae426fa54cf7.43282518 - Reached RestitutionManagementService API 
[28/09/2018 17:02:07] - corrId_5bae426fa54cf7.43282518 - Establishing connection to DB 
[28/09/2018 17:02:07] - corrId_5bae426fa54cf7.43282518 - Processing GetRentedVideoForUser request. 
[28/09/2018 17:02:07] - corrId_5bae426fa54cf7.43282518 - Token is valid 
[28/09/2018 17:02:07] - corrId_5bae426fa54cf7.43282518 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:02:07] - corrId_5bae426fa54cf7.43282518 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 17:02:07] - corrId_5bae426fa54cf7.43282518 - Executing query 
[28/09/2018 17:02:07] - corrId_5bae426fa54cf7.43282518 - Query executed successfully 
[28/09/2018 17:02:59] - corrId_5bae42a35cd3b6.81830010 - Reached AuthenticationService API 
[28/09/2018 17:02:59] - corrId_5bae42a35cd3b6.81830010 - Token is valid 
[28/09/2018 17:03:07] - corrId_5bae42ab14a649.75199028 - Reached AuthenticationService API 
[28/09/2018 17:03:07] - corrId_5bae42ab14a649.75199028 - Token is valid 
[28/09/2018 17:03:09] - corrId_5bae42ada8a5a0.17817955 - Reached RestitutionManagementService API 
[28/09/2018 17:03:09] - corrId_5bae42ada8a5a0.17817955 - Establishing connection to DB 
[28/09/2018 17:03:09] - corrId_5bae42ada8a5a0.17817955 - Processing GetRentedVideoForUser request. 
[28/09/2018 17:03:09] - corrId_5bae42ada8a5a0.17817955 - Token is valid 
[28/09/2018 17:03:09] - corrId_5bae42ada8a5a0.17817955 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:03:09] - corrId_5bae42ada8a5a0.17817955 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 17:03:09] - corrId_5bae42ada8a5a0.17817955 - Executing query 
[28/09/2018 17:03:09] - corrId_5bae42ada8a5a0.17817955 - Query executed successfully 
[28/09/2018 17:03:15] - corrId_5bae42b318df95.75583545 - Reached RestitutionManagementService API 
[28/09/2018 17:03:15] - corrId_5bae42b318df95.75583545 - Establishing connection to DB 
[28/09/2018 17:03:15] - corrId_5bae42b318df95.75583545 - Processing ReturnCopies request. 
[28/09/2018 17:03:15] - corrId_5bae42b318df95.75583545 - Token is valid 
[28/09/2018 17:03:15] - corrId_5bae42b318df95.75583545 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:03:15] - corrId_5bae42b318df95.75583545 - Starting transaction 
[28/09/2018 17:03:15] - corrId_5bae42b318df95.75583545 - Committing transaction 
[28/09/2018 17:04:57] - corrId_5bae4319456c63.39957525 - Reached RestitutionManagementService API 
[28/09/2018 17:04:57] - corrId_5bae4319456c63.39957525 - Establishing connection to DB 
[28/09/2018 17:04:57] - corrId_5bae4319456c63.39957525 - Processing ReturnCopies request. 
[28/09/2018 17:04:57] - corrId_5bae4319456c63.39957525 - Token is valid 
[28/09/2018 17:04:57] - corrId_5bae4319456c63.39957525 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:04:57] - corrId_5bae4319456c63.39957525 - Starting transaction 
[28/09/2018 17:04:57] - corrId_5bae4319456c63.39957525 - Committing transaction 
[28/09/2018 17:05:32] - corrId_5bae433cd3ea29.67446783 - Reached RestitutionManagementService API 
[28/09/2018 17:05:32] - corrId_5bae433cd3ea29.67446783 - Establishing connection to DB 
[28/09/2018 17:05:32] - corrId_5bae433cd3ea29.67446783 - Processing ReturnCopies request. 
[28/09/2018 17:05:32] - corrId_5bae433cd3ea29.67446783 - Token is valid 
[28/09/2018 17:05:32] - corrId_5bae433cd3ea29.67446783 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 17:05:32] - corrId_5bae433cd3ea29.67446783 - COPIES  
[28/09/2018 17:05:32] - corrId_5bae433cd3ea29.67446783 - Starting transaction 
[28/09/2018 17:05:32] - corrId_5bae433cd3ea29.67446783 - Committing transaction 
[28/09/2018 19:21:11] - corrId_5bae6307e83d03.67673148 - Reached AuthenticationService API 
[28/09/2018 19:21:11] - corrId_5bae6307e83d03.67673148 - Token is valid 
[28/09/2018 19:21:18] - corrId_5bae630e043413.40006993 - Reached AuthenticationService API 
[28/09/2018 19:21:18] - corrId_5bae630e043413.40006993 - Token is valid 
[28/09/2018 19:57:01] - corrId_5bae6b6deabe24.72973594 - Reached AuthenticationService API 
[28/09/2018 19:57:01] - corrId_5bae6b6deabe24.72973594 - Processing Login request. 
[28/09/2018 19:57:01] - corrId_5bae6b6deabe24.72973594 - Establishing connection to DB 
[28/09/2018 19:57:01] - corrId_5bae6b6deabe24.72973594 - Executing query 
[28/09/2018 19:57:01] - corrId_5bae6b6deabe24.72973594 - Query executed successfully 
[28/09/2018 19:57:02] - corrId_5bae6b6deabe24.72973594 - User admin validated, starting token generation. 
[28/09/2018 19:57:02] - corrId_5bae6b6deabe24.72973594 - Token generated succesfully. 
[28/09/2018 19:57:02] - corrId_5bae6b6deabe24.72973594 - Authentication cookie has been set:  
[28/09/2018 19:57:05] - corrId_5bae6b716b3af2.28884841 - Reached CustomerManagementService API 
[28/09/2018 19:57:05] - corrId_5bae6b716b3af2.28884841 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 19:57:05] - corrId_5bae6b716b3af2.28884841 - Token is valid 
[28/09/2018 19:57:05] - corrId_5bae6b716b3af2.28884841 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 19:57:05] - corrId_5bae6b716b3af2.28884841 - Establishing connection to DB 
[28/09/2018 19:57:05] - corrId_5bae6b716b3af2.28884841 - Executing query 
[28/09/2018 19:57:05] - corrId_5bae6b716b3af2.28884841 - Query executed successfully 
[28/09/2018 19:57:09] - corrId_5bae6b750355f0.16632200 - Reached RestitutionManagementService API 
[28/09/2018 19:57:09] - corrId_5bae6b750355f0.16632200 - Establishing connection to DB 
[28/09/2018 19:57:09] - corrId_5bae6b750355f0.16632200 - Processing GetRentedVideoForUser request. 
[28/09/2018 19:57:09] - corrId_5bae6b750355f0.16632200 - Token is valid 
[28/09/2018 19:57:09] - corrId_5bae6b750355f0.16632200 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 19:57:09] - corrId_5bae6b750355f0.16632200 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 19:57:09] - corrId_5bae6b750355f0.16632200 - Executing query 
[28/09/2018 19:57:09] - corrId_5bae6b750355f0.16632200 - Query executed successfully 
[28/09/2018 19:57:15] - corrId_5bae6b7b0b3906.51816392 - Reached RestitutionManagementService API 
[28/09/2018 19:57:15] - corrId_5bae6b7b0b3906.51816392 - Establishing connection to DB 
[28/09/2018 19:57:15] - corrId_5bae6b7b0b3906.51816392 - Processing ReturnCopies request. 
[28/09/2018 19:57:15] - corrId_5bae6b7b0b3906.51816392 - Token is valid 
[28/09/2018 19:57:15] - corrId_5bae6b7b0b3906.51816392 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 19:57:15] - corrId_5bae6b7b0b3906.51816392 - COPIES  
[28/09/2018 19:57:15] - corrId_5bae6b7b0b3906.51816392 - Starting transaction 
[28/09/2018 19:57:15] - corrId_5bae6b7b0b3906.51816392 - Committing transaction 
[28/09/2018 19:58:57] - corrId_5bae6be15ddf81.31345161 - Reached RestitutionManagementService API 
[28/09/2018 19:58:57] - corrId_5bae6be15ddf81.31345161 - Establishing connection to DB 
[28/09/2018 19:58:57] - corrId_5bae6be15ddf81.31345161 - Processing ReturnCopies request. 
[28/09/2018 19:58:57] - corrId_5bae6be15ddf81.31345161 - Token is valid 
[28/09/2018 19:58:57] - corrId_5bae6be15ddf81.31345161 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 19:58:57] - corrId_5bae6be15ddf81.31345161 - COPIES null 
[28/09/2018 19:58:57] - corrId_5bae6be15ddf81.31345161 - Error occured -> Error: Can only throw objects in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:57
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#2 {main} 
[28/09/2018 19:59:41] - corrId_5bae6c0dbec6d6.04049525 - Reached RestitutionManagementService API 
[28/09/2018 19:59:41] - corrId_5bae6c0dbec6d6.04049525 - Establishing connection to DB 
[28/09/2018 19:59:41] - corrId_5bae6c0dbec6d6.04049525 - Processing ReturnCopies request. 
[28/09/2018 19:59:41] - corrId_5bae6c0dbec6d6.04049525 - Token is valid 
[28/09/2018 19:59:41] - corrId_5bae6c0dbec6d6.04049525 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 19:59:41] - corrId_5bae6c0dbec6d6.04049525 - COPIES null 
[28/09/2018 19:59:41] - corrId_5bae6c0dbec6d6.04049525 - Error occured -> Error: Can only throw objects in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:57
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#2 {main} 
[28/09/2018 19:59:50] - corrId_5bae6c167cd985.46380844 - Reached AuthenticationService API 
[28/09/2018 19:59:50] - corrId_5bae6c167cd985.46380844 - Token is valid 
[28/09/2018 19:59:52] - corrId_5bae6c18ba6230.40267839 - Reached RestitutionManagementService API 
[28/09/2018 19:59:52] - corrId_5bae6c18ba6230.40267839 - Establishing connection to DB 
[28/09/2018 19:59:52] - corrId_5bae6c18ba6230.40267839 - Processing GetRentedVideoForUser request. 
[28/09/2018 19:59:52] - corrId_5bae6c18ba6230.40267839 - Token is valid 
[28/09/2018 19:59:52] - corrId_5bae6c18ba6230.40267839 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 19:59:52] - corrId_5bae6c18ba6230.40267839 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 19:59:52] - corrId_5bae6c18ba6230.40267839 - Executing query 
[28/09/2018 19:59:52] - corrId_5bae6c18ba6230.40267839 - Query executed successfully 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Reached RestitutionManagementService API 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Establishing connection to DB 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Processing ReturnCopies request. 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Token is valid 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Starting transaction 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Query: SELECT * FROM noleggio WHERE id_noleggio = 0 LIMIT 1 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Executing query 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Query executed successfully 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (0, 0, 0, 0, 0, '', '', 0.000000, 0.000000) 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Executing query 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Error while executing query -> Incorrect datetime value: '' for column 'data_inizio' at row 1 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Error while processing ReturnCopies request: Exception: Exception: Incorrect datetime value: '' for column 'data_inizio' at row 1 in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:66
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:76
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} 
[28/09/2018 19:59:56] - corrId_5bae6c1c873f75.04121963 - Rolling back current transaction 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Reached RestitutionManagementService API 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Establishing connection to DB 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Processing ReturnCopies request. 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Token is valid 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Starting transaction 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Query: SELECT * FROM noleggio WHERE id_noleggio = 0 LIMIT 1 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Executing query 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Query executed successfully 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (0, 0, 0, 0, 0, '', '', 0.000000, 0.000000) 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Executing query 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Error while executing query -> Incorrect datetime value: '' for column 'data_inizio' at row 1 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Error while processing ReturnCopies request: Exception: Exception: Incorrect datetime value: '' for column 'data_inizio' at row 1 in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:66
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:76
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} 
[28/09/2018 20:00:36] - corrId_5bae6c449b31e7.61893149 - Rolling back current transaction 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Reached RestitutionManagementService API 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Establishing connection to DB 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Processing ReturnCopies request. 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Token is valid 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Starting transaction 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Query: SELECT * FROM noleggio WHERE id_noleggio = 0 LIMIT 1 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Executing query 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Query executed successfully 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (0, 0, 0, 0, 0, '', '', 0.000000, 0.000000) 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Executing query 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Error while executing query -> Incorrect datetime value: '' for column 'data_inizio' at row 1 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Error while processing ReturnCopies request: Exception: Exception: Incorrect datetime value: '' for column 'data_inizio' at row 1 in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:66
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:76
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} 
[28/09/2018 20:01:49] - corrId_5bae6c8dc9af09.13697829 - Rolling back current transaction 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Reached RestitutionManagementService API 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Establishing connection to DB 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Processing ReturnCopies request. 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Token is valid 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - COPIES null 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Starting transaction 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Query: SELECT * FROM noleggio WHERE id_noleggio = 0 LIMIT 1 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Executing query 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Query executed successfully 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (0, 0, 0, 0, 0, '', '', 0.000000, 0.000000) 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Executing query 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Error while executing query -> Incorrect datetime value: '' for column 'data_inizio' at row 1 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Error while processing ReturnCopies request: Exception: Exception: Incorrect datetime value: '' for column 'data_inizio' at row 1 in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:66
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:76
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} 
[28/09/2018 20:02:33] - corrId_5bae6cb9724ce6.38179557 - Rolling back current transaction 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Reached RestitutionManagementService API 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Establishing connection to DB 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Processing ReturnCopies request. 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Token is valid 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - COPIES null 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Starting transaction 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Query: SELECT * FROM noleggio WHERE id_noleggio = 0 LIMIT 1 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Executing query 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Query executed successfully 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (0, 0, 0, 0, 0, '', '', 0.000000, 0.000000) 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Executing query 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Error while executing query -> Incorrect datetime value: '' for column 'data_inizio' at row 1 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Error while processing ReturnCopies request: Exception: Exception: Incorrect datetime value: '' for column 'data_inizio' at row 1 in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:66
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:76
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} 
[28/09/2018 20:03:02] - corrId_5bae6cd62f01a1.10323838 - Rolling back current transaction 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Reached RestitutionManagementService API 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Establishing connection to DB 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Processing ReturnCopies request. 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Token is valid 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Starting transaction 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Query: SELECT * FROM noleggio WHERE id_noleggio = 0 LIMIT 1 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Executing query 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Query executed successfully 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (0, 0, 0, 0, 0, '', '', 0.000000, 0.000000) 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Executing query 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Error while executing query -> Incorrect datetime value: '' for column 'data_inizio' at row 1 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Error while processing ReturnCopies request: Exception: Exception: Incorrect datetime value: '' for column 'data_inizio' at row 1 in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:66
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:76
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('INSERT INTO sto...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(104): RestitutionManagementService->ExecuteQuery('INSERT INTO sto...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(63): RestitutionManagementService->ArchiveRent(NULL)
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(121): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(139): RestitutionManagementService->Init()
#5 {main} 
[28/09/2018 20:03:22] - corrId_5bae6cead5db08.82429407 - Rolling back current transaction 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Reached RestitutionManagementService API 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Establishing connection to DB 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Processing ReturnCopies request. 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Token is valid 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Starting transaction 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Query: SELECT * FROM noleggio WHERE id_noleggio = 56 LIMIT 1 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Executing query 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Query executed successfully 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (4, 1, 38, 150, 1, '2018-09-27 09:34:37', '2018-09-30 00:00:00', 13.750000, 0.000000) 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Executing query 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Query executed successfully 
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Rent successfully archived, Id:  
[28/09/2018 20:03:40] - corrId_5bae6cfceda1a2.66955204 - Committing transaction 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Reached RestitutionManagementService API 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Establishing connection to DB 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Processing ReturnCopies request. 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Token is valid 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Starting transaction 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Query: SELECT * FROM noleggio WHERE id_noleggio = 56 LIMIT 1 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Executing query 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Query executed successfully 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (4, 1, 38, 150, 1, '2018-09-27 09:34:37', '2018-09-30 00:00:00', 13.750000, 0.000000) 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Executing query 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Query executed successfully 
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Rent successfully archived, Id:  
[28/09/2018 20:06:06] - corrId_5bae6d8e844fa8.50093934 - Committing transaction 
[28/09/2018 20:06:12] - corrId_5bae6d94ce2342.55219995 - Reached RestitutionManagementService API 
[28/09/2018 20:06:12] - corrId_5bae6d94ce2342.55219995 - Establishing connection to DB 
[28/09/2018 20:06:12] - corrId_5bae6d94ce2342.55219995 - Processing ReturnCopies request. 
[28/09/2018 20:06:12] - corrId_5bae6d94ce2342.55219995 - Token is valid 
[28/09/2018 20:06:12] - corrId_5bae6d94ce2342.55219995 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:06:12] - corrId_5bae6d94ce2342.55219995 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:06:12] - corrId_5bae6d94ce2342.55219995 - Error occured -> Error: Can only throw objects in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:57
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(134): RestitutionManagementService->ReturnCopies()
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(152): RestitutionManagementService->Init()
#2 {main} 
[28/09/2018 20:06:33] - corrId_5bae6da95c37a1.48091089 - Reached RestitutionManagementService API 
[28/09/2018 20:06:33] - corrId_5bae6da95c37a1.48091089 - Establishing connection to DB 
[28/09/2018 20:06:33] - corrId_5bae6da95c37a1.48091089 - Processing ReturnCopies request. 
[28/09/2018 20:06:33] - corrId_5bae6da95c37a1.48091089 - Token is valid 
[28/09/2018 20:06:33] - corrId_5bae6da95c37a1.48091089 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:06:33] - corrId_5bae6da95c37a1.48091089 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:06:33] - corrId_5bae6da95c37a1.48091089 - Error occured -> Error: Cannot instantiate interface Throwable in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:57
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(134): RestitutionManagementService->ReturnCopies()
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(152): RestitutionManagementService->Init()
#2 {main} 
[28/09/2018 20:06:45] - corrId_5bae6db5642822.44154082 - Reached RestitutionManagementService API 
[28/09/2018 20:06:45] - corrId_5bae6db5642822.44154082 - Establishing connection to DB 
[28/09/2018 20:06:45] - corrId_5bae6db5642822.44154082 - Processing ReturnCopies request. 
[28/09/2018 20:06:45] - corrId_5bae6db5642822.44154082 - Token is valid 
[28/09/2018 20:06:45] - corrId_5bae6db5642822.44154082 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:06:45] - corrId_5bae6db5642822.44154082 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:06:45] - corrId_5bae6db5642822.44154082 - Error occured -> Exception: Copies array is empty or null in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:57
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(134): RestitutionManagementService->ReturnCopies()
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(152): RestitutionManagementService->Init()
#2 {main} 
[28/09/2018 20:14:46] - corrId_5bae6f967418e2.00888055 - Reached RestitutionManagementService API 
[28/09/2018 20:14:46] - corrId_5bae6f967418e2.00888055 - Establishing connection to DB 
[28/09/2018 20:14:46] - corrId_5bae6f967418e2.00888055 - Processing ReturnCopies request. 
[28/09/2018 20:14:46] - corrId_5bae6f967418e2.00888055 - Token is valid 
[28/09/2018 20:14:46] - corrId_5bae6f967418e2.00888055 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:14:46] - corrId_5bae6f967418e2.00888055 - COPIES [{"id_noleggio":"56","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 20:14:46] - corrId_5bae6f967418e2.00888055 - Error occured -> Exception: Copies array is empty or null in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:57
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(134): RestitutionManagementService->ReturnCopies()
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(152): RestitutionManagementService->Init()
#2 {main} 
[28/09/2018 20:15:02] - corrId_5bae6fa6a02a10.63220777 - Reached AuthenticationService API 
[28/09/2018 20:15:02] - corrId_5bae6fa6a02a10.63220777 - Token is valid 
[28/09/2018 20:15:06] - corrId_5bae6faa6299b0.63260641 - Reached RestitutionManagementService API 
[28/09/2018 20:15:06] - corrId_5bae6faa6299b0.63260641 - Establishing connection to DB 
[28/09/2018 20:15:06] - corrId_5bae6faa6299b0.63260641 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:15:06] - corrId_5bae6faa6299b0.63260641 - Token is valid 
[28/09/2018 20:15:06] - corrId_5bae6faa6299b0.63260641 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:15:06] - corrId_5bae6faa6299b0.63260641 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:15:06] - corrId_5bae6faa6299b0.63260641 - Executing query 
[28/09/2018 20:15:06] - corrId_5bae6faa6299b0.63260641 - Query executed successfully 
[28/09/2018 20:15:13] - corrId_5bae6fb15205c8.31715021 - Reached RestitutionManagementService API 
[28/09/2018 20:15:13] - corrId_5bae6fb15205c8.31715021 - Establishing connection to DB 
[28/09/2018 20:15:13] - corrId_5bae6fb15205c8.31715021 - Processing ReturnCopies request. 
[28/09/2018 20:15:13] - corrId_5bae6fb15205c8.31715021 - Token is valid 
[28/09/2018 20:15:13] - corrId_5bae6fb15205c8.31715021 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:15:13] - corrId_5bae6fb15205c8.31715021 - COPIES [{"id_noleggio":"55","danneggiato":0,"prezzo_extra":"0.00"},{"id_noleggio":"56","danneggiato":0,"prezzo_extra":"0.00"}] 
[28/09/2018 20:15:13] - corrId_5bae6fb15205c8.31715021 - Error occured -> Exception: Copies array is empty or null in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:57
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(134): RestitutionManagementService->ReturnCopies()
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(152): RestitutionManagementService->Init()
#2 {main} 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Reached RestitutionManagementService API 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Establishing connection to DB 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Processing ReturnCopies request. 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Token is valid 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - COPIES [{"id_noleggio":"55","danneggiato":0,"prezzo_extra":"0.00"},{"id_noleggio":"56","danneggiato":0,"prezzo_extra":"0.00"}] 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Starting transaction 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query: SELECT * FROM noleggio WHERE id_noleggio = 55 LIMIT 1 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Executing query 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query executed successfully 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (4, 1, 38, 157, 1, '2018-09-27 09:34:37', '2018-09-29 00:00:00', 15.200000, 0.000000) 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Executing query 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query executed successfully 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Rent successfully archived, Id:  
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query: DELETE FROM noleggio WHERE id_noleggio = 55 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Executing query 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query executed successfully 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query: SELECT * FROM noleggio WHERE id_noleggio = 56 LIMIT 1 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Executing query 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query executed successfully 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (4, 1, 38, 150, 1, '2018-09-27 09:34:37', '2018-09-30 00:00:00', 13.750000, 0.000000) 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Executing query 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query executed successfully 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Rent successfully archived, Id:  
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query: DELETE FROM noleggio WHERE id_noleggio = 56 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Executing query 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Query executed successfully 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Committing transaction 
[28/09/2018 20:15:22] - corrId_5bae6fba35b526.40498114 - Error occured -> Error: Class 'Response' not found in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:72
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(134): RestitutionManagementService->ReturnCopies()
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(152): RestitutionManagementService->Init()
#2 {main} 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Reached RestitutionManagementService API 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Establishing connection to DB 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Processing ReturnCopies request. 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Token is valid 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - COPIES [{"id_noleggio":"55","danneggiato":0,"prezzo_extra":"0.00"},{"id_noleggio":"56","danneggiato":0,"prezzo_extra":"0.00"}] 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Starting transaction 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Query: SELECT * FROM noleggio WHERE id_noleggio = 55 LIMIT 1 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Executing query 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Query executed successfully 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Error while processing ReturnCopies request: Exception: Couldn't find the rent with id: 55 in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:83
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(62): RestitutionManagementService->GetRentDetails('55')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(134): RestitutionManagementService->ReturnCopies()
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(152): RestitutionManagementService->Init()
#3 {main} 
[28/09/2018 20:15:44] - corrId_5bae6fd0c6eec1.53092612 - Rolling back current transaction 
[28/09/2018 20:15:55] - corrId_5bae6fdbc020d7.20233299 - Reached AuthenticationService API 
[28/09/2018 20:15:55] - corrId_5bae6fdbc020d7.20233299 - Token is valid 
[28/09/2018 20:15:57] - corrId_5bae6fddc53812.44298831 - Reached RestitutionManagementService API 
[28/09/2018 20:15:57] - corrId_5bae6fddc53812.44298831 - Establishing connection to DB 
[28/09/2018 20:15:57] - corrId_5bae6fddc53812.44298831 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:15:57] - corrId_5bae6fddc53812.44298831 - Token is valid 
[28/09/2018 20:15:57] - corrId_5bae6fddc53812.44298831 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:15:57] - corrId_5bae6fddc53812.44298831 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:15:57] - corrId_5bae6fddc53812.44298831 - Executing query 
[28/09/2018 20:15:57] - corrId_5bae6fddc53812.44298831 - Query executed successfully 
[28/09/2018 20:16:12] - corrId_5bae6fecc31674.86769047 - Reached RentalManagementService API 
[28/09/2018 20:16:12] - corrId_5bae6fecc31674.86769047 - Establishing connection to DB 
[28/09/2018 20:16:12] - corrId_5bae6fecc31674.86769047 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:16:12] - corrId_5bae6fecc31674.86769047 - Token is valid 
[28/09/2018 20:16:12] - corrId_5bae6fecc31674.86769047 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:16:12] - corrId_5bae6fecc31674.86769047 - Executing query 
[28/09/2018 20:16:12] - corrId_5bae6fecc31674.86769047 - Query executed successfully 
[28/09/2018 20:16:12] - corrId_5bae6fecccda69.39371820 - Reached RentalManagementService API 
[28/09/2018 20:16:12] - corrId_5bae6fecccda69.39371820 - Establishing connection to DB 
[28/09/2018 20:16:12] - corrId_5bae6fecccda69.39371820 - Processing ClearRentalBookings request. 
[28/09/2018 20:16:12] - corrId_5bae6fecccda69.39371820 - Token is valid 
[28/09/2018 20:16:12] - corrId_5bae6fecccda69.39371820 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:16:12] - corrId_5bae6fecccda69.39371820 - Executing query 
[28/09/2018 20:16:12] - corrId_5bae6fecccda69.39371820 - Query executed successfully 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Reached RentalManagementService API 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Establishing connection to DB 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Token is valid 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Executing query 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Query executed successfully 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Executing query 
[28/09/2018 20:16:12] - corrId_5bae6fecd46be0.00581169 - Query executed successfully 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Reached RentalManagementService API 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Establishing connection to DB 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Processing GetMostRecentCopies request. 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Token is valid 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Starting transaction 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Executing query 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query executed successfully 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 127
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Executing query 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query executed successfully 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 3
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Executing query 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query executed successfully 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 138
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Executing query 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query executed successfully 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 14
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Executing query 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query executed successfully 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 157
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Executing query 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Query executed successfully 
[28/09/2018 20:16:18] - corrId_5bae6ff2e3bb52.30965022 - Committing transaction 
[28/09/2018 20:16:18] - corrId_5bae6ff2ef2892.51515910 - Reached RentalManagementService API 
[28/09/2018 20:16:18] - corrId_5bae6ff2ef2892.51515910 - Establishing connection to DB 
[28/09/2018 20:16:18] - corrId_5bae6ff2ef2892.51515910 - Processing GetActiveDiscount request. 
[28/09/2018 20:16:18] - corrId_5bae6ff2ef2892.51515910 - Token is valid 
[28/09/2018 20:16:18] - corrId_5bae6ff2ef2892.51515910 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:16:18] - corrId_5bae6ff2ef2892.51515910 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[28/09/2018 20:16:18] - corrId_5bae6ff2ef2892.51515910 - Executing query 
[28/09/2018 20:16:19] - corrId_5bae6ff2ef2892.51515910 - Query executed successfully 
[28/09/2018 20:16:21] - corrId_5bae6ff5871ca2.79793744 - Reached RentalManagementService API 
[28/09/2018 20:16:21] - corrId_5bae6ff5871ca2.79793744 - Establishing connection to DB 
[28/09/2018 20:16:21] - corrId_5bae6ff5871ca2.79793744 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:16:21] - corrId_5bae6ff5871ca2.79793744 - Token is valid 
[28/09/2018 20:16:21] - corrId_5bae6ff5871ca2.79793744 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 20:16:21] - corrId_5bae6ff5871ca2.79793744 - Executing query 
[28/09/2018 20:16:21] - corrId_5bae6ff5871ca2.79793744 - Query executed successfully 
[28/09/2018 20:16:22] - corrId_5bae6ff6a0e610.55206245 - Reached AuthenticationService API 
[28/09/2018 20:16:22] - corrId_5bae6ff6a0e610.55206245 - Token is valid 
[28/09/2018 20:16:22] - corrId_5bae6ff6a0e610.55206245 - {"username":"admin","id_dipendente":"1","delega_codice":"30","delega_nome":"proprietario","punto_vendita_nome":"Roma01","citta_nome":"Roma","punto_vendita_indirizzo":"Largo Giuseppe Veratti 37","punto_vendita_id_punto_vendita":"1"} 
[28/09/2018 20:16:22] - corrId_5bae6ff6a0e610.55206245 - User admin logging out. 
[28/09/2018 20:16:29] - corrId_5bae6ffd00a462.26970016 - Reached AuthenticationService API 
[28/09/2018 20:16:29] - corrId_5bae6ffd00a462.26970016 - Processing Login request. 
[28/09/2018 20:16:29] - corrId_5bae6ffd00a462.26970016 - Establishing connection to DB 
[28/09/2018 20:16:29] - corrId_5bae6ffd00a462.26970016 - Executing query 
[28/09/2018 20:16:29] - corrId_5bae6ffd00a462.26970016 - Query executed successfully 
[28/09/2018 20:16:29] - corrId_5bae6ffd00a462.26970016 - User LuiVerRoma01 validated, starting token generation. 
[28/09/2018 20:16:29] - corrId_5bae6ffd00a462.26970016 - Token generated succesfully. 
[28/09/2018 20:16:29] - corrId_5bae6ffd00a462.26970016 - Authentication cookie has been set:  
[28/09/2018 20:16:30] - corrId_5bae6ffe0c60c3.97085390 - Reached RentalManagementService API 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c60c3.97085390 - Establishing connection to DB 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c9f10.18133439 - Reached RentalManagementService API 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c9f10.18133439 - Establishing connection to DB 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c60c3.97085390 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c60c3.97085390 - Token is valid 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c9f10.18133439 - Processing ClearRentalBookings request. 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c9f10.18133439 - Token is valid 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c60c3.97085390 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c60c3.97085390 - Executing query 
ons for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c9f10.18133439 - Executing query 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c60c3.97085390 - Query executed successfully 
[28/09/2018 20:16:30] - corrId_5bae6ffe0c9f10.18133439 - Query executed successfully 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Reached RentalManagementService API 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Establishing connection to DB 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Token is valid 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Executing query 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Query executed successfully 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Executing query 
[28/09/2018 20:16:30] - corrId_5bae6ffe13f235.50333655 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Reached RentalManagementService API 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Establishing connection to DB 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Processing GetMostRecentCopies request. 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Token is valid 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Starting transaction 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 3
                    WHERE id_copia = 127
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 3
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 3
                    WHERE id_copia = 138
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 14
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 3
                    WHERE id_copia = 157
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 15
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 3
                    WHERE id_copia = 150
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Query executed successfully 
[28/09/2018 20:16:32] - corrId_5bae7000c67031.37515535 - Committing transaction 
[28/09/2018 20:16:32] - corrId_5bae7000d1e9a9.44593529 - Reached RentalManagementService API 
[28/09/2018 20:16:32] - corrId_5bae7000d1e9a9.44593529 - Establishing connection to DB 
[28/09/2018 20:16:32] - corrId_5bae7000d1e9a9.44593529 - Processing GetActiveDiscount request. 
[28/09/2018 20:16:32] - corrId_5bae7000d1e9a9.44593529 - Token is valid 
[28/09/2018 20:16:32] - corrId_5bae7000d1e9a9.44593529 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:16:32] - corrId_5bae7000d1e9a9.44593529 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[28/09/2018 20:16:32] - corrId_5bae7000d1e9a9.44593529 - Executing query 
[28/09/2018 20:16:32] - corrId_5bae7000d1e9a9.44593529 - Query executed successfully 
[28/09/2018 20:16:46] - corrId_5bae700e5cd472.21946810 - Reached CustomerManagementService API 
[28/09/2018 20:16:46] - corrId_5bae700e5cd472.21946810 - Processing FindCustomerById request. 
[28/09/2018 20:16:46] - corrId_5bae700e5cd472.21946810 - Token is valid 
[28/09/2018 20:16:46] - corrId_5bae700e5cd472.21946810 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:16:46] - corrId_5bae700e5cd472.21946810 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[28/09/2018 20:16:46] - corrId_5bae700e5cd472.21946810 - Establishing connection to DB 
[28/09/2018 20:16:46] - corrId_5bae700e5cd472.21946810 - Executing query 
[28/09/2018 20:16:46] - corrId_5bae700e5cd472.21946810 - Query executed successfully 
[28/09/2018 20:16:53] - corrId_5bae70158b8bc7.48676678 - Reached CustomerManagementService API 
[28/09/2018 20:16:53] - corrId_5bae70158b8bc7.48676678 - Processing FindCustomerById request. 
[28/09/2018 20:16:53] - corrId_5bae70158b8bc7.48676678 - Token is valid 
[28/09/2018 20:16:53] - corrId_5bae70158b8bc7.48676678 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:16:53] - corrId_5bae70158b8bc7.48676678 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[28/09/2018 20:16:53] - corrId_5bae70158b8bc7.48676678 - Establishing connection to DB 
[28/09/2018 20:16:53] - corrId_5bae70158b8bc7.48676678 - Executing query 
[28/09/2018 20:16:53] - corrId_5bae70158b8bc7.48676678 - Query executed successfully 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Reached RentalManagementService API 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Establishing connection to DB 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Processing RentVideos request. 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Token is valid 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Starting transaction 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (3, 1, 38, 127, 1, CURRENT_TIMESTAMP, '2018-09-29') 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Executing query 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Error while executing query -> Field 'prezzo_totale' doesn't have a default value 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Error while processing RentVideos request: Exception: Exception: Field 'prezzo_totale' doesn't have a default value in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:66
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(21): DBConnection->ExecuteQuery('INSERT INTO nol...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(199): RentalManagementService->ExecuteQuery('INSERT INTO nol...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(170): RentalManagementService->InsertRentDetails(Object(stdClass))
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(275): RentalManagementService->RentVideos()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(293): RentalManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:76
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(21): DBConnection->ExecuteQuery('INSERT INTO nol...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(199): RentalManagementService->ExecuteQuery('INSERT INTO nol...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(170): RentalManagementService->InsertRentDetails(Object(stdClass))
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(275): RentalManagementService->RentVideos()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(293): RentalManagementService->Init()
#5 {main} 
[28/09/2018 20:16:58] - corrId_5bae701a48aef3.53667352 - Rolling back current transaction 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Reached RentalManagementService API 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Establishing connection to DB 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Processing RentVideos request. 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Token is valid 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Starting transaction 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (3, 1, 38, 127, 1, CURRENT_TIMESTAMP, '2018-09-29') 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Rent Insert successful, Id:  
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 57
            LIMIT 1 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: UPDATE noleggio
            SET prezzo_totale = 5.000000
            WHERE id_noleggio = 57 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Rent Update on amount successful 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (3, 1, 38, 138, 1, CURRENT_TIMESTAMP, '2018-09-30') 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Rent Insert successful, Id:  
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 58
            LIMIT 1 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: UPDATE noleggio
            SET prezzo_totale = 15.200000
            WHERE id_noleggio = 58 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Rent Update on amount successful 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (3, 1, 38, 157, 1, CURRENT_TIMESTAMP, '2018-10-01') 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Rent Insert successful, Id:  
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 59
            LIMIT 1 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: UPDATE noleggio
            SET prezzo_totale = 22.000000
            WHERE id_noleggio = 59 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Rent Update on amount successful 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (3, 1, 38, 150, 1, CURRENT_TIMESTAMP, '2018-10-02') 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Rent Insert successful, Id:  
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 60
            LIMIT 1 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query: UPDATE noleggio
            SET prezzo_totale = 17.750000
            WHERE id_noleggio = 60 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Rent Update on amount successful 
[28/09/2018 20:17:49] - corrId_5bae704dbc0f24.36695625 - Committing transaction 
[28/09/2018 20:17:49] - corrId_5bae704dd254a3.83687740 - Reached RentalManagementService API 
[28/09/2018 20:17:49] - corrId_5bae704dd254a3.83687740 - Establishing connection to DB 
[28/09/2018 20:17:49] - corrId_5bae704dd254a3.83687740 - Processing ClearRentalBookings request. 
[28/09/2018 20:17:49] - corrId_5bae704dd254a3.83687740 - Token is valid 
[28/09/2018 20:17:49] - corrId_5bae704dd254a3.83687740 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:17:49] - corrId_5bae704dd254a3.83687740 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dd254a3.83687740 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dd86f14.92854201 - Reached RentalManagementService API 
[28/09/2018 20:17:49] - corrId_5bae704dd86f14.92854201 - Establishing connection to DB 
[28/09/2018 20:17:49] - corrId_5bae704dd86f16.41036370 - Reached RentalManagementService API 
[28/09/2018 20:17:49] - corrId_5bae704dd86f16.41036370 - Establishing connection to DB 
[28/09/2018 20:17:49] - corrId_5bae704dd86f14.92854201 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:17:49] - corrId_5bae704dd86f14.92854201 - Token is valid 
[28/09/2018 20:17:49] - corrId_5bae704dd86f14.92854201 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:17:49] - corrId_5bae704dd86f14.92854201 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dd86f14.92854201 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dd86f16.41036370 - Processing ClearRentalBookings request. 
[28/09/2018 20:17:49] - corrId_5bae704dd86f16.41036370 - Token is valid 
[28/09/2018 20:17:49] - corrId_5bae704dd86f16.41036370 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:17:49] - corrId_5bae704dd86f16.41036370 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dd86f16.41036370 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Reached RentalManagementService API 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Establishing connection to DB 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Token is valid 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Query executed successfully 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Executing query 
[28/09/2018 20:17:49] - corrId_5bae704dde8976.73981215 - Query executed successfully 
[28/09/2018 20:18:11] - corrId_5bae7063f1e0d1.86315385 - Reached RentalManagementService API 
[28/09/2018 20:18:11] - corrId_5bae7063f1e0d1.86315385 - Establishing connection to DB 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Processing GetMostRecentCopies request. 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Token is valid 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Starting transaction 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 3
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Executing query 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Query executed successfully 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 3
                    WHERE id_copia = 139
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Executing query 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Query executed successfully 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 15
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Executing query 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Query executed successfully 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 3
                    WHERE id_copia = 151
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Executing query 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Query executed successfully 
[28/09/2018 20:18:12] - corrId_5bae7063f1e0d1.86315385 - Committing transaction 
[28/09/2018 20:18:12] - corrId_5bae70640a3088.19409169 - Reached RentalManagementService API 
[28/09/2018 20:18:12] - corrId_5bae70640a3088.19409169 - Establishing connection to DB 
[28/09/2018 20:18:12] - corrId_5bae70640a3088.19409169 - Processing GetActiveDiscount request. 
[28/09/2018 20:18:12] - corrId_5bae70640a3088.19409169 - Token is valid 
[28/09/2018 20:18:12] - corrId_5bae70640a3088.19409169 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:12] - corrId_5bae70640a3088.19409169 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[28/09/2018 20:18:12] - corrId_5bae70640a3088.19409169 - Executing query 
[28/09/2018 20:18:12] - corrId_5bae70640a3088.19409169 - Query executed successfully 
[28/09/2018 20:18:24] - corrId_5bae70704fd462.08761668 - Reached CustomerManagementService API 
[28/09/2018 20:18:24] - corrId_5bae70704fd462.08761668 - Processing FindCustomerById request. 
[28/09/2018 20:18:24] - corrId_5bae70704fd462.08761668 - Token is valid 
[28/09/2018 20:18:24] - corrId_5bae70704fd462.08761668 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:24] - corrId_5bae70704fd462.08761668 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 41
            LIMIT 1 
[28/09/2018 20:18:24] - corrId_5bae70704fd462.08761668 - Establishing connection to DB 
[28/09/2018 20:18:24] - corrId_5bae70704fd462.08761668 - Executing query 
[28/09/2018 20:18:24] - corrId_5bae70704fd462.08761668 - Query executed successfully 
[28/09/2018 20:18:28] - corrId_5bae70748aada4.42353707 - Reached CustomerManagementService API 
[28/09/2018 20:18:28] - corrId_5bae70748aada4.42353707 - Processing FindCustomerById request. 
[28/09/2018 20:18:28] - corrId_5bae70748aada4.42353707 - Token is valid 
[28/09/2018 20:18:28] - corrId_5bae70748aada4.42353707 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:28] - corrId_5bae70748aada4.42353707 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 41
            LIMIT 1 
[28/09/2018 20:18:28] - corrId_5bae70748aada4.42353707 - Establishing connection to DB 
[28/09/2018 20:18:28] - corrId_5bae70748aada4.42353707 - Executing query 
[28/09/2018 20:18:28] - corrId_5bae70748aada4.42353707 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Reached RentalManagementService API 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Establishing connection to DB 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Processing RentVideos request. 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Token is valid 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Starting transaction 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (3, 1, 41, 139, 1, CURRENT_TIMESTAMP, '2018-10-04') 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Rent Insert successful, Id:  
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 61
            LIMIT 1 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query: UPDATE noleggio
            SET prezzo_totale = 35.520000
            WHERE id_noleggio = 61 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Rent Update on amount successful 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (3, 1, 41, 151, 1, CURRENT_TIMESTAMP, '2018-10-05') 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Rent Insert successful, Id:  
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 62
            LIMIT 1 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query: UPDATE noleggio
            SET prezzo_totale = 26.200000
            WHERE id_noleggio = 62 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Rent Update on amount successful 
[28/09/2018 20:18:30] - corrId_5bae70761536c4.98175694 - Committing transaction 
[28/09/2018 20:18:30] - corrId_5bae7076264dc5.95059772 - Reached RentalManagementService API 
[28/09/2018 20:18:30] - corrId_5bae7076264dc5.95059772 - Establishing connection to DB 
[28/09/2018 20:18:30] - corrId_5bae7076264dc5.95059772 - Processing ClearRentalBookings request. 
[28/09/2018 20:18:30] - corrId_5bae7076264dc5.95059772 - Token is valid 
[28/09/2018 20:18:30] - corrId_5bae7076264dc5.95059772 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:30] - corrId_5bae7076264dc5.95059772 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae7076264dc5.95059772 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70762d6282.68205553 - Reached RentalManagementService API 
[28/09/2018 20:18:30] - corrId_5bae70762d6283.46702845 - Reached RentalManagementService API 
[28/09/2018 20:18:30] - corrId_5bae70762d6282.68205553 - Establishing connection to DB 
[28/09/2018 20:18:30] - corrId_5bae70762d6283.46702845 - Establishing connection to DB 
[28/09/2018 20:18:30] - corrId_5bae70762d6282.68205553 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:18:30] - corrId_5bae70762d6282.68205553 - Token is valid 
[28/09/2018 20:18:30] - corrId_5bae70762d6282.68205553 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:30] - corrId_5bae70762d6282.68205553 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae70762d6282.68205553 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae70762d6283.46702845 - Processing ClearRentalBookings request. 
[28/09/2018 20:18:30] - corrId_5bae70762d6283.46702845 - Token is valid 
[28/09/2018 20:18:30] - corrId_5bae70762d6283.46702845 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:30] - corrId_5bae70762d6283.46702845 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae70762d6283.46702845 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Reached RentalManagementService API 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Establishing connection to DB 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Token is valid 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Query executed successfully 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Executing query 
[28/09/2018 20:18:30] - corrId_5bae7076347714.96610743 - Query executed successfully 
[28/09/2018 20:18:35] - corrId_5bae707b7bb818.95862849 - Reached RestitutionManagementService API 
[28/09/2018 20:18:35] - corrId_5bae707b7bb818.95862849 - Establishing connection to DB 
[28/09/2018 20:18:35] - corrId_5bae707b7bb818.95862849 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:18:35] - corrId_5bae707b7bb818.95862849 - Token is valid 
[28/09/2018 20:18:35] - corrId_5bae707b7bb818.95862849 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:35] - corrId_5bae707b7bb818.95862849 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 20:18:35] - corrId_5bae707b7bb818.95862849 - Executing query 
[28/09/2018 20:18:35] - corrId_5bae707b7bb818.95862849 - Query executed successfully 
[28/09/2018 20:18:42] - corrId_5bae7082820525.10205519 - Reached RestitutionManagementService API 
[28/09/2018 20:18:42] - corrId_5bae7082820525.10205519 - Establishing connection to DB 
[28/09/2018 20:18:42] - corrId_5bae7082820525.10205519 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:18:42] - corrId_5bae7082820525.10205519 - Token is valid 
[28/09/2018 20:18:42] - corrId_5bae7082820525.10205519 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:18:42] - corrId_5bae7082820525.10205519 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:18:42] - corrId_5bae7082820525.10205519 - Executing query 
[28/09/2018 20:18:42] - corrId_5bae7082820525.10205519 - Query executed successfully 
[28/09/2018 20:23:19] - corrId_5bae71977a9e40.20438589 - Reached AuthenticationService API 
[28/09/2018 20:23:19] - corrId_5bae71977a9e40.20438589 - Token is valid 
[28/09/2018 20:23:22] - corrId_5bae719a02fd56.42833879 - Reached RestitutionManagementService API 
[28/09/2018 20:23:22] - corrId_5bae719a02fd56.42833879 - Establishing connection to DB 
[28/09/2018 20:23:22] - corrId_5bae719a02fd56.42833879 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:23:22] - corrId_5bae719a02fd56.42833879 - Token is valid 
[28/09/2018 20:23:22] - corrId_5bae719a02fd56.42833879 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:23:22] - corrId_5bae719a02fd56.42833879 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:23:22] - corrId_5bae719a02fd56.42833879 - Executing query 
[28/09/2018 20:23:22] - corrId_5bae719a02fd56.42833879 - Query executed successfully 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Reached RestitutionManagementService API 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Establishing connection to DB 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Processing ReturnCopies request. 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Token is valid 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - COPIES [{"id_noleggio":"59","danneggiato":1,"prezzo_extra":"16.00"}] 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Starting transaction 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Query: SELECT * FROM noleggio WHERE id_noleggio = 59 LIMIT 1 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Executing query 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Query executed successfully 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (3, 1, 38, 157, 1, '2018-09-28 20:17:49', '2018-10-01 00:00:00', 22.000000, 0.000000) 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Executing query 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Query executed successfully 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Rent successfully archived, Id:  
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Query: DELETE FROM noleggio WHERE id_noleggio = 59 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Executing query 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Query executed successfully 
[28/09/2018 20:23:29] - corrId_5bae71a1435c27.60104922 - Committing transaction 
[28/09/2018 20:23:29] - corrId_5bae71a14f1340.54308728 - Reached RestitutionManagementService API 
[28/09/2018 20:23:29] - corrId_5bae71a14f1340.54308728 - Establishing connection to DB 
[28/09/2018 20:23:29] - corrId_5bae71a14f1340.54308728 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:23:29] - corrId_5bae71a14f1340.54308728 - Token is valid 
[28/09/2018 20:23:29] - corrId_5bae71a14f1340.54308728 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:23:29] - corrId_5bae71a14f1340.54308728 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:23:29] - corrId_5bae71a14f1340.54308728 - Executing query 
[28/09/2018 20:23:29] - corrId_5bae71a14f1340.54308728 - Query executed successfully 
[28/09/2018 20:25:22] - corrId_5bae72122d1d56.74754348 - Reached RentalManagementService API 
[28/09/2018 20:25:22] - corrId_5bae72122d5bc7.38219794 - Reached RentalManagementService API 
[28/09/2018 20:25:22] - corrId_5bae72122d1d56.74754348 - Establishing connection to DB 
[28/09/2018 20:25:22] - corrId_5bae72122d5bc7.38219794 - Establishing connection to DB 
[28/09/2018 20:25:22] - corrId_5bae72122d1d56.74754348 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:25:22] - corrId_5bae72122d5bc7.38219794 - Processing ClearRentalBookings request. 
[28/09/2018 20:25:22] - corrId_5bae72122d5bc7.38219794 - Token is valid 
[28/09/2018 20:25:22] - corrId_5bae72122d1d56.74754348 - Token is valid 
[28/09/2018 20:25:22] - corrId_5bae72122d5bc7.38219794 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:25:22] - corrId_5bae72122d1d56.74754348 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:25:22] - corrId_5bae72122d5bc7.38219794 - Executing query 
[28/09/2018 20:25:22] - corrId_5bae72122d1d56.74754348 - Executing query 
[28/09/2018 20:25:22] - corrId_5bae72122d5bc7.38219794 - Query executed successfully 
[28/09/2018 20:25:22] - corrId_5bae72122d1d56.74754348 - Query executed successfully 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Reached RentalManagementService API 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Establishing connection to DB 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Token is valid 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Executing query 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Query executed successfully 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Executing query 
[28/09/2018 20:25:22] - corrId_5bae7212347033.21900146 - Query executed successfully 
[28/09/2018 20:25:50] - corrId_5bae722e928492.02776106 - Reached AuthenticationService API 
[28/09/2018 20:25:50] - corrId_5bae722e928492.02776106 - Token is valid 
[28/09/2018 20:25:50] - corrId_5bae722e928492.02776106 - {"username":"LuiVerRoma01","id_dipendente":"3","delega_codice":"10","delega_nome":"addetto","punto_vendita_nome":"Roma01","citta_nome":"Roma","punto_vendita_indirizzo":"Largo Giuseppe Veratti 37","punto_vendita_id_punto_vendita":"1"} 
[28/09/2018 20:25:50] - corrId_5bae722e928492.02776106 - User LuiVerRoma01 logging out. 
[28/09/2018 20:25:55] - corrId_5bae72333426d4.36166514 - Reached AuthenticationService API 
[28/09/2018 20:25:55] - corrId_5bae72333426d4.36166514 - Processing Login request. 
[28/09/2018 20:25:55] - corrId_5bae72333426d4.36166514 - Establishing connection to DB 
[28/09/2018 20:25:55] - corrId_5bae72333426d4.36166514 - Executing query 
[28/09/2018 20:25:55] - corrId_5bae72333426d4.36166514 - Query executed successfully 
[28/09/2018 20:25:55] - corrId_5bae72333426d4.36166514 - User MarRosRoma01 validated, starting token generation. 
[28/09/2018 20:25:55] - corrId_5bae72333426d4.36166514 - Token generated succesfully. 
[28/09/2018 20:25:55] - corrId_5bae72333426d4.36166514 - Authentication cookie has been set:  
[28/09/2018 20:26:10] - corrId_5bae7242c743c3.46504864 - Reached StorageManagementService API 
[28/09/2018 20:26:10] - corrId_5bae7242c743c3.46504864 - Processing GetVideosInStorage request. 
[28/09/2018 20:26:10] - corrId_5bae7242c743c3.46504864 - Token is valid 
[28/09/2018 20:26:10] - corrId_5bae7242c743c3.46504864 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:26:10] - corrId_5bae7242c743c3.46504864 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[28/09/2018 20:26:10] - corrId_5bae7242c743c3.46504864 - Establishing connection to DB 
[28/09/2018 20:26:10] - corrId_5bae7242c743c3.46504864 - Executing query 
[28/09/2018 20:26:10] - corrId_5bae7242c743c3.46504864 - Query executed successfully 
[28/09/2018 20:26:13] - corrId_5bae7245aef097.66260749 - Reached AuthenticationService API 
[28/09/2018 20:26:13] - corrId_5bae7245aef097.66260749 - Token is valid 
[28/09/2018 20:26:13] - corrId_5bae7245aef097.66260749 - {"username":"MarRosRoma01","id_dipendente":"2","delega_codice":"20","delega_nome":"responsabile","punto_vendita_nome":"Roma01","citta_nome":"Roma","punto_vendita_indirizzo":"Largo Giuseppe Veratti 37","punto_vendita_id_punto_vendita":"1"} 
[28/09/2018 20:26:13] - corrId_5bae7245aef097.66260749 - User MarRosRoma01 logging out. 
[28/09/2018 20:26:18] - corrId_5bae724a61ce25.63861632 - Reached AuthenticationService API 
[28/09/2018 20:26:18] - corrId_5bae724a61ce25.63861632 - Processing Login request. 
[28/09/2018 20:26:18] - corrId_5bae724a61ce25.63861632 - Establishing connection to DB 
[28/09/2018 20:26:18] - corrId_5bae724a61ce25.63861632 - Executing query 
[28/09/2018 20:26:18] - corrId_5bae724a61ce25.63861632 - Query executed successfully 
[28/09/2018 20:26:18] - corrId_5bae724a61ce25.63861632 - User LuiVerRoma01 validated, starting token generation. 
[28/09/2018 20:26:18] - corrId_5bae724a61ce25.63861632 - Token generated succesfully. 
[28/09/2018 20:26:18] - corrId_5bae724a61ce25.63861632 - Authentication cookie has been set:  
[28/09/2018 20:26:29] - corrId_5bae725542c0d9.32940215 - Reached AuthenticationService API 
[28/09/2018 20:26:29] - corrId_5bae725542c0d9.32940215 - Token is valid 
[28/09/2018 20:26:29] - corrId_5bae725542c0d9.32940215 - {"username":"LuiVerRoma01","id_dipendente":"3","delega_codice":"10","delega_nome":"addetto","punto_vendita_nome":"Roma01","citta_nome":"Roma","punto_vendita_indirizzo":"Largo Giuseppe Veratti 37","punto_vendita_id_punto_vendita":"1"} 
[28/09/2018 20:26:29] - corrId_5bae725542c0d9.32940215 - User LuiVerRoma01 logging out. 
[28/09/2018 20:26:35] - corrId_5bae725b3abaa2.42918430 - Reached AuthenticationService API 
[28/09/2018 20:26:35] - corrId_5bae725b3abaa2.42918430 - Processing Login request. 
[28/09/2018 20:26:35] - corrId_5bae725b3abaa2.42918430 - Establishing connection to DB 
[28/09/2018 20:26:35] - corrId_5bae725b3abaa2.42918430 - Executing query 
[28/09/2018 20:26:35] - corrId_5bae725b3abaa2.42918430 - Query executed successfully 
[28/09/2018 20:26:35] - corrId_5bae725b3abaa2.42918430 - User MarRosRoma01 validated, starting token generation. 
[28/09/2018 20:26:35] - corrId_5bae725b3abaa2.42918430 - Token generated succesfully. 
[28/09/2018 20:26:35] - corrId_5bae725b3abaa2.42918430 - Authentication cookie has been set:  
[28/09/2018 20:26:36] - corrId_5bae725c33b608.81512819 - Reached StorageManagementService API 
[28/09/2018 20:26:36] - corrId_5bae725c33b608.81512819 - Processing GetVideosInStorage request. 
[28/09/2018 20:26:36] - corrId_5bae725c33b608.81512819 - Token is valid 
[28/09/2018 20:26:36] - corrId_5bae725c33b608.81512819 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:26:36] - corrId_5bae725c33b608.81512819 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[28/09/2018 20:26:36] - corrId_5bae725c33b608.81512819 - Establishing connection to DB 
[28/09/2018 20:26:36] - corrId_5bae725c33b608.81512819 - Executing query 
[28/09/2018 20:26:36] - corrId_5bae725c33b608.81512819 - Query executed successfully 
[28/09/2018 20:30:24] - corrId_5bae7340026598.55363739 - Reached RentalManagementService API 
[28/09/2018 20:30:24] - corrId_5bae7340026598.06583505 - Reached RentalManagementService API 
[28/09/2018 20:30:24] - corrId_5bae7340026598.55363739 - Establishing connection to DB 
[28/09/2018 20:30:24] - corrId_5bae7340026598.06583505 - Establishing connection to DB 
[28/09/2018 20:30:24] - corrId_5bae7340026598.55363739 - Processing ClearRentalBookings request. 
[28/09/2018 20:30:24] - corrId_5bae7340026598.55363739 - Token is valid 
[28/09/2018 20:30:24] - corrId_5bae7340026598.55363739 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:30:24] - corrId_5bae7340026598.55363739 - Executing query 
[28/09/2018 20:30:24] - corrId_5bae7340026598.55363739 - Query executed successfully 
[28/09/2018 20:30:24] - corrId_5bae7340026598.06583505 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:30:24] - corrId_5bae7340026598.06583505 - Token is valid 
[28/09/2018 20:30:24] - corrId_5bae7340026598.06583505 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:30:24] - corrId_5bae7340026598.06583505 - Executing query 
[28/09/2018 20:30:24] - corrId_5bae7340026598.06583505 - Query executed successfully 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Reached RentalManagementService API 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Establishing connection to DB 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Token is valid 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Executing query 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Query executed successfully 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Executing query 
[28/09/2018 20:30:24] - corrId_5bae734008fd54.74292646 - Query executed successfully 
[28/09/2018 20:30:25] - corrId_5bae7341b25214.58503397 - Reached CustomerManagementService API 
[28/09/2018 20:30:25] - corrId_5bae7341b25214.58503397 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 20:30:25] - corrId_5bae7341b25214.58503397 - Token is valid 
[28/09/2018 20:30:25] - corrId_5bae7341b25214.58503397 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:30:25] - corrId_5bae7341b25214.58503397 - Establishing connection to DB 
[28/09/2018 20:30:25] - corrId_5bae7341b25214.58503397 - Executing query 
[28/09/2018 20:30:25] - corrId_5bae7341b25214.58503397 - Query executed successfully 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.17097862 - Reached RentalManagementService API 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.37344454 - Reached RentalManagementService API 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.17097862 - Establishing connection to DB 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.37344454 - Establishing connection to DB 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.17097862 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.37344454 - Processing ClearRentalBookings request. 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.17097862 - Token is valid 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.17097862 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.37344454 - Executing query 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.37344454 - Query executed successfully 
[28/09/2018 20:30:27] - corrId_5bae73437b0cd1.17097862 - Query executed successfully 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Reached RentalManagementService API 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Establishing connection to DB 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Token is valid 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Executing query 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Query executed successfully 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Executing query 
[28/09/2018 20:30:27] - corrId_5bae73437ff093.23195086 - Query executed successfully 
[28/09/2018 20:30:28] - corrId_5bae7344c8ff85.19062957 - Reached StorageManagementService API 
[28/09/2018 20:30:28] - corrId_5bae7344c8ff85.19062957 - Processing GetVideosInStorage request. 
[28/09/2018 20:30:28] - corrId_5bae7344c8ff85.19062957 - Token is valid 
[28/09/2018 20:30:28] - corrId_5bae7344c8ff85.19062957 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:30:28] - corrId_5bae7344c8ff85.19062957 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[28/09/2018 20:30:28] - corrId_5bae7344c8ff85.19062957 - Establishing connection to DB 
[28/09/2018 20:30:28] - corrId_5bae7344c8ff85.19062957 - Executing query 
[28/09/2018 20:30:28] - corrId_5bae7344c8ff85.19062957 - Query executed successfully 
[28/09/2018 20:30:37] - corrId_5bae734d00cd09.30308009 - Reached CustomerManagementService API 
[28/09/2018 20:30:37] - corrId_5bae734d00cd09.30308009 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 20:30:37] - corrId_5bae734d00cd09.30308009 - Token is valid 
[28/09/2018 20:30:37] - corrId_5bae734d00cd09.30308009 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:30:37] - corrId_5bae734d00cd09.30308009 - Establishing connection to DB 
[28/09/2018 20:30:37] - corrId_5bae734d00cd09.30308009 - Executing query 
[28/09/2018 20:30:37] - corrId_5bae734d00cd09.30308009 - Query executed successfully 
[28/09/2018 20:31:23] - corrId_5bae737b5420c9.95104507 - Reached RestitutionManagementService API 
[28/09/2018 20:31:23] - corrId_5bae737b5420c9.95104507 - Establishing connection to DB 
[28/09/2018 20:31:23] - corrId_5bae737b5420c9.95104507 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:31:23] - corrId_5bae737b5420c9.95104507 - Token is valid 
[28/09/2018 20:31:23] - corrId_5bae737b5420c9.95104507 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:31:23] - corrId_5bae737b5420c9.95104507 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:31:23] - corrId_5bae737b5420c9.95104507 - Executing query 
[28/09/2018 20:31:23] - corrId_5bae737b5420c9.95104507 - Query executed successfully 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Reached RestitutionManagementService API 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Establishing connection to DB 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Processing ReturnCopies request. 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Token is valid 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - COPIES [{"id_noleggio":"60","danneggiato":0,"prezzo_extra":"0.00"}] 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Starting transaction 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Query: SELECT * FROM noleggio WHERE id_noleggio = 60 LIMIT 1 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Executing query 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Query executed successfully 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (3, 1, 38, 150, 1, '2018-09-28 20:17:49', '2018-10-02 00:00:00', 17.750000, 0.000000) 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Executing query 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Query executed successfully 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Rent successfully archived, Id:  
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Query: DELETE FROM noleggio WHERE id_noleggio = 60 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Executing query 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Query executed successfully 
[28/09/2018 20:32:20] - corrId_5bae73b4a1f869.62732947 - Committing transaction 
[28/09/2018 20:32:20] - corrId_5bae73b4b21530.28657613 - Reached RestitutionManagementService API 
[28/09/2018 20:32:20] - corrId_5bae73b4b21530.28657613 - Establishing connection to DB 
[28/09/2018 20:32:20] - corrId_5bae73b4b21530.28657613 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:32:20] - corrId_5bae73b4b21530.28657613 - Token is valid 
[28/09/2018 20:32:20] - corrId_5bae73b4b21530.28657613 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:32:20] - corrId_5bae73b4b21530.28657613 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:32:20] - corrId_5bae73b4b21530.28657613 - Executing query 
[28/09/2018 20:32:20] - corrId_5bae73b4b21530.28657613 - Query executed successfully 
[28/09/2018 20:32:38] - corrId_5bae73c6a6ac88.73628811 - Reached RentalManagementService API 
[28/09/2018 20:32:38] - corrId_5bae73c6a6ac88.73628811 - Establishing connection to DB 
[28/09/2018 20:32:38] - corrId_5bae73c6a6ac88.73628811 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:32:38] - corrId_5bae73c6a72970.29557126 - Reached RentalManagementService API 
[28/09/2018 20:32:38] - corrId_5bae73c6a72970.29557126 - Establishing connection to DB 
[28/09/2018 20:32:38] - corrId_5bae73c6a6ac88.73628811 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:32:38] - corrId_5bae73c6a6ac88.73628811 - Executing query 
[28/09/2018 20:32:38] - corrId_5bae73c6a72970.29557126 - Processing ClearRentalBookings request. 
[28/09/2018 20:32:38] - corrId_5bae73c6a72970.29557126 - Token is valid 
[28/09/2018 20:32:38] - corrId_5bae73c6a6ac88.73628811 - Query executed successfully 
[28/09/2018 20:32:38] - corrId_5bae73c6a72970.29557126 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:32:38] - corrId_5bae73c6a72970.29557126 - Executing query 
[28/09/2018 20:32:38] - corrId_5bae73c6a72970.29557126 - Query executed successfully 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Reached RentalManagementService API 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Establishing connection to DB 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Token is valid 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Executing query 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Query executed successfully 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Executing query 
[28/09/2018 20:32:38] - corrId_5bae73c6b32030.38989583 - Query executed successfully 
[28/09/2018 20:34:29] - corrId_5bae7435c1ccd0.51791004 - Reached RestitutionManagementService API 
[28/09/2018 20:34:29] - corrId_5bae7435c1ccd0.51791004 - Establishing connection to DB 
[28/09/2018 20:34:29] - corrId_5bae7435c1ccd0.51791004 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:34:29] - corrId_5bae7435c1ccd0.51791004 - Token is valid 
[28/09/2018 20:34:29] - corrId_5bae7435c1ccd0.51791004 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:29] - corrId_5bae7435c1ccd0.51791004 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[28/09/2018 20:34:29] - corrId_5bae7435c1ccd0.51791004 - Executing query 
[28/09/2018 20:34:29] - corrId_5bae7435c1ccd0.51791004 - Query executed successfully 
[28/09/2018 20:34:33] - corrId_5bae7439168bb6.98178633 - Reached RestitutionManagementService API 
[28/09/2018 20:34:33] - corrId_5bae7439168bb6.98178633 - Establishing connection to DB 
[28/09/2018 20:34:33] - corrId_5bae7439168bb6.98178633 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:34:33] - corrId_5bae7439168bb6.98178633 - Token is valid 
[28/09/2018 20:34:33] - corrId_5bae7439168bb6.98178633 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:33] - corrId_5bae7439168bb6.98178633 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:34:33] - corrId_5bae7439168bb6.98178633 - Executing query 
[28/09/2018 20:34:33] - corrId_5bae7439168bb6.98178633 - Query executed successfully 
[28/09/2018 20:34:34] - corrId_5bae743a8bdfd2.49876095 - Reached RentalManagementService API 
[28/09/2018 20:34:34] - corrId_5bae743a8bdfd2.49876095 - Establishing connection to DB 
[28/09/2018 20:34:34] - corrId_5bae743a8c9b64.87252576 - Reached RentalManagementService API 
[28/09/2018 20:34:34] - corrId_5bae743a8c9b64.87252576 - Establishing connection to DB 
[28/09/2018 20:34:34] - corrId_5bae743a8c9b64.87252576 - Processing ClearRentalBookings request. 
[28/09/2018 20:34:34] - corrId_5bae743a8c9b64.87252576 - Token is valid 
[28/09/2018 20:34:34] - corrId_5bae743a8c9b64.87252576 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:34] - corrId_5bae743a8c9b64.87252576 - Executing query 
[28/09/2018 20:34:34] - corrId_5bae743a8c9b64.87252576 - Query executed successfully 
[28/09/2018 20:34:34] - corrId_5bae743a8bdfd2.49876095 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:34:34] - corrId_5bae743a8bdfd2.49876095 - Token is valid 
[28/09/2018 20:34:34] - corrId_5bae743a8bdfd2.49876095 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:34] - corrId_5bae743a8bdfd2.49876095 - Executing query 
[28/09/2018 20:34:34] - corrId_5bae743a8bdfd2.49876095 - Query executed successfully 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Reached RentalManagementService API 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Establishing connection to DB 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Token is valid 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Executing query 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Query executed successfully 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Executing query 
[28/09/2018 20:34:34] - corrId_5bae743a92f431.78185154 - Query executed successfully 
[28/09/2018 20:34:40] - corrId_5bae7440952f72.05612295 - Reached RestitutionManagementService API 
[28/09/2018 20:34:40] - corrId_5bae7440952f72.05612295 - Establishing connection to DB 
[28/09/2018 20:34:40] - corrId_5bae7440952f72.05612295 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:34:40] - corrId_5bae7440952f72.05612295 - Token is valid 
[28/09/2018 20:34:40] - corrId_5bae7440952f72.05612295 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:40] - corrId_5bae7440952f72.05612295 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[28/09/2018 20:34:40] - corrId_5bae7440952f72.05612295 - Executing query 
[28/09/2018 20:34:40] - corrId_5bae7440952f72.05612295 - Query executed successfully 
[28/09/2018 20:34:43] - corrId_5bae74435c0cf4.58946097 - Reached RentalManagementService API 
[28/09/2018 20:34:43] - corrId_5bae74435c0cf4.58946097 - Establishing connection to DB 
[28/09/2018 20:34:43] - corrId_5bae74435c4b82.95657194 - Reached RentalManagementService API 
[28/09/2018 20:34:43] - corrId_5bae74435c4b82.95657194 - Establishing connection to DB 
[28/09/2018 20:34:43] - corrId_5bae74435c0cf4.58946097 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:34:43] - corrId_5bae74435c0cf4.58946097 - Token is valid 
[28/09/2018 20:34:43] - corrId_5bae74435c4b82.95657194 - Processing ClearRentalBookings request. 
[28/09/2018 20:34:43] - corrId_5bae74435c0cf4.58946097 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:43] - corrId_5bae74435c4b82.95657194 - Token is valid 
[28/09/2018 20:34:43] - corrId_5bae74435c0cf4.58946097 - Executing query 
[28/09/2018 20:34:43] - corrId_5bae74435c4b82.95657194 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:43] - corrId_5bae74435c4b82.95657194 - Executing query 
[28/09/2018 20:34:43] - corrId_5bae74435c0cf4.58946097 - Query executed successfully 
[28/09/2018 20:34:43] - corrId_5bae74435c4b82.95657194 - Query executed successfully 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Reached RentalManagementService API 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Establishing connection to DB 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Token is valid 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Executing query 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Query executed successfully 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Executing query 
[28/09/2018 20:34:43] - corrId_5bae7443626692.02150576 - Query executed successfully 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Reached RentalManagementService API 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Establishing connection to DB 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Processing GetMostRecentCopies request. 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Token is valid 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Starting transaction 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 14
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Executing query 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Query executed successfully 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 2
                    WHERE id_copia = 157
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Executing query 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Query executed successfully 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 15
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Executing query 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Query executed successfully 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 2
                    WHERE id_copia = 150
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Executing query 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Query executed successfully 
[28/09/2018 20:34:45] - corrId_5bae74456cdd32.05411723 - Committing transaction 
[28/09/2018 20:34:45] - corrId_5bae744574eba0.59540085 - Reached RentalManagementService API 
[28/09/2018 20:34:45] - corrId_5bae744574eba0.59540085 - Establishing connection to DB 
[28/09/2018 20:34:45] - corrId_5bae744574eba0.59540085 - Processing GetActiveDiscount request. 
[28/09/2018 20:34:45] - corrId_5bae744574eba0.59540085 - Token is valid 
[28/09/2018 20:34:45] - corrId_5bae744574eba0.59540085 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:34:45] - corrId_5bae744574eba0.59540085 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[28/09/2018 20:34:45] - corrId_5bae744574eba0.59540085 - Executing query 
[28/09/2018 20:34:45] - corrId_5bae744574eba0.59540085 - Query executed successfully 
[28/09/2018 20:35:03] - corrId_5bae74578b74c2.34256711 - Reached CustomerManagementService API 
[28/09/2018 20:35:03] - corrId_5bae74578b74c2.34256711 - Processing FindCustomerById request. 
[28/09/2018 20:35:03] - corrId_5bae74578b74c2.34256711 - Token is valid 
[28/09/2018 20:35:03] - corrId_5bae74578b74c2.34256711 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:03] - corrId_5bae74578b74c2.34256711 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[28/09/2018 20:35:03] - corrId_5bae74578b74c2.34256711 - Establishing connection to DB 
[28/09/2018 20:35:03] - corrId_5bae74578b74c2.34256711 - Executing query 
[28/09/2018 20:35:03] - corrId_5bae74578b74c2.34256711 - Query executed successfully 
[28/09/2018 20:35:08] - corrId_5bae745c93a664.96248503 - Reached CustomerManagementService API 
[28/09/2018 20:35:08] - corrId_5bae745c93a664.96248503 - Processing FindCustomerById request. 
[28/09/2018 20:35:08] - corrId_5bae745c93a664.96248503 - Token is valid 
[28/09/2018 20:35:08] - corrId_5bae745c93a664.96248503 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:08] - corrId_5bae745c93a664.96248503 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 40
            LIMIT 1 
[28/09/2018 20:35:08] - corrId_5bae745c93a664.96248503 - Establishing connection to DB 
[28/09/2018 20:35:08] - corrId_5bae745c93a664.96248503 - Executing query 
[28/09/2018 20:35:08] - corrId_5bae745c93a664.96248503 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Reached RentalManagementService API 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Establishing connection to DB 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Processing RentVideos request. 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Token is valid 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Starting transaction 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (2, 1, 40, 157, 1, CURRENT_TIMESTAMP, '2018-09-30') 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Rent Insert successful, Id:  
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 63
            LIMIT 1 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query: UPDATE noleggio
            SET prezzo_totale = 12.920000
            WHERE id_noleggio = 63 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Rent Update on amount successful 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (2, 1, 40, 150, 1, CURRENT_TIMESTAMP, '2018-09-30') 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Rent Insert successful, Id:  
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 64
            LIMIT 1 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query: UPDATE noleggio
            SET prezzo_totale = 8.075000
            WHERE id_noleggio = 64 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Rent Update on amount successful 
[28/09/2018 20:35:10] - corrId_5bae745e6b8160.41091753 - Committing transaction 
[28/09/2018 20:35:10] - corrId_5bae745e7c3947.00713009 - Reached RentalManagementService API 
[28/09/2018 20:35:10] - corrId_5bae745e7c3947.00713009 - Establishing connection to DB 
[28/09/2018 20:35:10] - corrId_5bae745e7c3947.00713009 - Processing ClearRentalBookings request. 
[28/09/2018 20:35:10] - corrId_5bae745e7c3947.00713009 - Token is valid 
[28/09/2018 20:35:10] - corrId_5bae745e7c3947.00713009 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:10] - corrId_5bae745e7c3947.00713009 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e7c3947.00713009 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e829201.92403999 - Reached RentalManagementService API 
[28/09/2018 20:35:10] - corrId_5bae745e829201.21264503 - Reached RentalManagementService API 
[28/09/2018 20:35:10] - corrId_5bae745e829201.92403999 - Establishing connection to DB 
[28/09/2018 20:35:10] - corrId_5bae745e829201.21264503 - Establishing connection to DB 
[28/09/2018 20:35:10] - corrId_5bae745e829201.92403999 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 20:35:10] - corrId_5bae745e829201.92403999 - Token is valid 
[28/09/2018 20:35:10] - corrId_5bae745e829201.21264503 - Processing ClearRentalBookings request. 
[28/09/2018 20:35:10] - corrId_5bae745e829201.92403999 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:10] - corrId_5bae745e829201.21264503 - Token is valid 
[28/09/2018 20:35:10] - corrId_5bae745e829201.92403999 - Executing query 
ons for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:10] - corrId_5bae745e829201.21264503 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e829201.92403999 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e829201.21264503 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Reached RentalManagementService API 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Establishing connection to DB 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Token is valid 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Query executed successfully 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Executing query 
[28/09/2018 20:35:10] - corrId_5bae745e86f712.21311491 - Query executed successfully 
[28/09/2018 20:35:14] - corrId_5bae746253cec6.37592846 - Reached RestitutionManagementService API 
[28/09/2018 20:35:14] - corrId_5bae746253cec6.37592846 - Establishing connection to DB 
[28/09/2018 20:35:14] - corrId_5bae746253cec6.37592846 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:35:14] - corrId_5bae746253cec6.37592846 - Token is valid 
[28/09/2018 20:35:14] - corrId_5bae746253cec6.37592846 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:14] - corrId_5bae746253cec6.37592846 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 20:35:14] - corrId_5bae746253cec6.37592846 - Executing query 
[28/09/2018 20:35:14] - corrId_5bae746253cec6.37592846 - Query executed successfully 
[28/09/2018 20:35:16] - corrId_5bae7464c1d092.30493507 - Reached RestitutionManagementService API 
[28/09/2018 20:35:16] - corrId_5bae7464c1d092.30493507 - Establishing connection to DB 
[28/09/2018 20:35:16] - corrId_5bae7464c1d092.30493507 - Processing GetRentedVideoForUser request. 
[28/09/2018 20:35:16] - corrId_5bae7464c1d092.30493507 - Token is valid 
[28/09/2018 20:35:16] - corrId_5bae7464c1d092.30493507 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 20:35:16] - corrId_5bae7464c1d092.30493507 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[28/09/2018 20:35:16] - corrId_5bae7464c1d092.30493507 - Executing query 
[28/09/2018 20:35:16] - corrId_5bae7464c1d092.30493507 - Query executed successfully 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a3.69528039 - Reached RentalManagementService API 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a2.03537518 - Reached RentalManagementService API 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a3.69528039 - Establishing connection to DB 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a2.03537518 - Establishing connection to DB 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a2.03537518 - Processing ClearRentalBookings request. 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a2.03537518 - Token is valid 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a2.03537518 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a2.03537518 - Executing query 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a3.69528039 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a3.69528039 - Token is valid 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a3.69528039 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a3.69528039 - Executing query 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a2.03537518 - Query executed successfully 
[28/09/2018 21:16:43] - corrId_5bae7e1bc954a3.69528039 - Query executed successfully 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Reached RentalManagementService API 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Establishing connection to DB 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Token is valid 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Executing query 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Query executed successfully 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Executing query 
[28/09/2018 21:16:43] - corrId_5bae7e1bd45136.47652481 - Query executed successfully 
[28/09/2018 21:16:45] - corrId_5bae7e1de6f4a9.78239514 - Reached CustomerManagementService API 
[28/09/2018 21:16:45] - corrId_5bae7e1de6f4a9.78239514 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 21:16:45] - corrId_5bae7e1de6f4a9.78239514 - Token is valid 
[28/09/2018 21:16:45] - corrId_5bae7e1de6f4a9.78239514 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:45] - corrId_5bae7e1de6f4a9.78239514 - Establishing connection to DB 
[28/09/2018 21:16:45] - corrId_5bae7e1de6f4a9.78239514 - Executing query 
[28/09/2018 21:16:45] - corrId_5bae7e1de6f4a9.78239514 - Query executed successfully 
[28/09/2018 21:16:46] - corrId_5bae7e1eda3fc5.53907046 - Reached StorageManagementService API 
[28/09/2018 21:16:46] - corrId_5bae7e1eda3fc5.53907046 - Processing GetVideosInStorage request. 
[28/09/2018 21:16:46] - corrId_5bae7e1eda3fc5.53907046 - Token is valid 
[28/09/2018 21:16:46] - corrId_5bae7e1eda3fc5.53907046 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:46] - corrId_5bae7e1eda3fc5.53907046 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[28/09/2018 21:16:46] - corrId_5bae7e1eda3fc5.53907046 - Establishing connection to DB 
[28/09/2018 21:16:46] - corrId_5bae7e1eda3fc5.53907046 - Executing query 
[28/09/2018 21:16:46] - corrId_5bae7e1eda3fc5.53907046 - Query executed successfully 
[28/09/2018 21:16:48] - corrId_5bae7e20937362.06030900 - Reached StorageManagementService API 
[28/09/2018 21:16:48] - corrId_5bae7e20937362.06030900 - Processing GetAlreadyAvailableMovies request. 
[28/09/2018 21:16:48] - corrId_5bae7e2093b1b1.60770160 - Reached GetAllItemsService API 
[28/09/2018 21:16:48] - corrId_5bae7e2093b1b1.60770160 - Processing GetAllSuppliers request. 
[28/09/2018 21:16:48] - corrId_5bae7e20937362.06030900 - Token is valid 
[28/09/2018 21:16:48] - corrId_5bae7e2093b1b1.60770160 - Token is valid 
[28/09/2018 21:16:48] - corrId_5bae7e20937362.06030900 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:48] - corrId_5bae7e2093b1b1.60770160 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:48] - corrId_5bae7e20937362.06030900 - Establishing connection to DB 
[28/09/2018 21:16:48] - corrId_5bae7e2093b1b1.60770160 - Establishing connection to DB 
[28/09/2018 21:16:48] - corrId_5bae7e20937362.06030900 - Executing query 
[28/09/2018 21:16:48] - corrId_5bae7e2093b1b1.60770160 - Query executed successfully 
[28/09/2018 21:16:48] - corrId_5bae7e20937362.06030900 - Query executed successfully 
[28/09/2018 21:16:50] - corrId_5bae7e22714a37.61082809 - Reached CustomerManagementService API 
[28/09/2018 21:16:50] - corrId_5bae7e22714a37.61082809 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 21:16:50] - corrId_5bae7e22714a37.61082809 - Token is valid 
[28/09/2018 21:16:50] - corrId_5bae7e22714a37.61082809 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:50] - corrId_5bae7e22714a37.61082809 - Establishing connection to DB 
[28/09/2018 21:16:50] - corrId_5bae7e22714a37.61082809 - Executing query 
[28/09/2018 21:16:50] - corrId_5bae7e22714a37.61082809 - Query executed successfully 
[28/09/2018 21:16:52] - corrId_5bae7e248692a0.12489751 - Reached GetAllItemsService API 
[28/09/2018 21:16:52] - corrId_5bae7e248692a0.12489751 - Processing GetAllDiscounts request. 
[28/09/2018 21:16:52] - corrId_5bae7e248692a0.12489751 - Token is valid 
[28/09/2018 21:16:52] - corrId_5bae7e248692a0.12489751 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:52] - corrId_5bae7e248692a0.12489751 - Establishing connection to DB 
[28/09/2018 21:16:52] - corrId_5bae7e248692a0.12489751 - Executing query 
[28/09/2018 21:16:52] - corrId_5bae7e248692a0.12489751 - Query executed successfully 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.51510002 - Reached RentalManagementService API 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.48317859 - Reached RentalManagementService API 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.51510002 - Establishing connection to DB 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.48317859 - Establishing connection to DB 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.51510002 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.48317859 - Processing ClearRentalBookings request. 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.51510002 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.48317859 - Token is valid 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.51510002 - Executing query 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.48317859 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.48317859 - Executing query 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.51510002 - Query executed successfully 
[28/09/2018 21:16:57] - corrId_5bae7e297052f8.48317859 - Query executed successfully 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Reached RentalManagementService API 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Establishing connection to DB 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Token is valid 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Executing query 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Query executed successfully 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Executing query 
[28/09/2018 21:16:57] - corrId_5bae7e29776756.83179525 - Query executed successfully 
[28/09/2018 21:21:45] - corrId_5bae7f49742378.72988315 - Reached RestitutionManagementService API 
[28/09/2018 21:21:45] - corrId_5bae7f49742378.72988315 - Establishing connection to DB 
[28/09/2018 21:21:45] - corrId_5bae7f49742378.72988315 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:21:45] - corrId_5bae7f49742378.72988315 - Token is valid 
[28/09/2018 21:21:45] - corrId_5bae7f49742378.72988315 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:21:45] - corrId_5bae7f49742378.72988315 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[28/09/2018 21:21:45] - corrId_5bae7f49742378.72988315 - Executing query 
[28/09/2018 21:21:45] - corrId_5bae7f49742378.72988315 - Query executed successfully 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Reached RestitutionManagementService API 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Establishing connection to DB 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Processing ReturnCopies request. 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Token is valid 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - COPIES [{"id_noleggio":"64","id_copia":"150","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Starting transaction 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Query: SELECT * FROM noleggio WHERE id_noleggio = 64 LIMIT 1 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Executing query 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Query executed successfully 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (2, 1, 40, 150, 1, '2018-09-28 20:35:10', '2018-09-30 00:00:00', 8.075000, 0.000000) 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Executing query 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Query executed successfully 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Rent successfully archived, Id:  
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Query: DELETE FROM noleggio WHERE id_noleggio = 64 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Executing query 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Query executed successfully 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_noleggio = 64 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Executing query 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Error while executing query -> Unknown column 'id_noleggio' in 'where clause' 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Error while processing ReturnCopies request: Exception: Exception: Unknown column 'id_noleggio' in 'where clause' in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:66
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('UPDATE copia \r\n...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(133): RestitutionManagementService->ExecuteQuery('UPDATE copia \r\n...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(65): RestitutionManagementService->ResetRentFlagInCopiesTable('64')
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(148): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(166): RestitutionManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:76
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('UPDATE copia \r\n...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(133): RestitutionManagementService->ExecuteQuery('UPDATE copia \r\n...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(65): RestitutionManagementService->ResetRentFlagInCopiesTable('64')
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(148): RestitutionManagementService->ReturnCopies()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(166): RestitutionManagementService->Init()
#5 {main} 
[28/09/2018 21:21:52] - corrId_5bae7f5054a8e8.40496352 - Rolling back current transaction 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Reached RestitutionManagementService API 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Establishing connection to DB 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Processing ReturnCopies request. 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Token is valid 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - COPIES [{"id_noleggio":"64","id_copia":"150","danneggiato":1,"prezzo_extra":"10.00"}] 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Starting transaction 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Query: SELECT * FROM noleggio WHERE id_noleggio = 64 LIMIT 1 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Executing query 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Query executed successfully 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (2, 1, 40, 150, 1, '2018-09-28 20:35:10', '2018-09-30 00:00:00', 8.075000, 0.000000) 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Executing query 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Query executed successfully 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Rent successfully archived, Id:  
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Query: DELETE FROM noleggio WHERE id_noleggio = 64 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Executing query 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Query executed successfully 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_copia = 64 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Executing query 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Query executed successfully 
[28/09/2018 21:22:43] - corrId_5bae7f833b81c1.30017644 - Committing transaction 
[28/09/2018 21:22:43] - corrId_5bae7f834a2912.47868213 - Reached RestitutionManagementService API 
[28/09/2018 21:22:43] - corrId_5bae7f834a2912.47868213 - Establishing connection to DB 
[28/09/2018 21:22:43] - corrId_5bae7f834a2912.47868213 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:22:43] - corrId_5bae7f834a2912.47868213 - Token is valid 
[28/09/2018 21:22:43] - corrId_5bae7f834a2912.47868213 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:22:43] - corrId_5bae7f834a2912.47868213 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[28/09/2018 21:22:43] - corrId_5bae7f834a2912.47868213 - Executing query 
[28/09/2018 21:22:43] - corrId_5bae7f834a2912.47868213 - Query executed successfully 
[28/09/2018 21:24:35] - corrId_5bae7ff3c6cb64.84530791 - Reached RestitutionManagementService API 
[28/09/2018 21:24:35] - corrId_5bae7ff3c6cb64.84530791 - Establishing connection to DB 
[28/09/2018 21:24:35] - corrId_5bae7ff3c6cb64.84530791 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:24:35] - corrId_5bae7ff3c6cb64.84530791 - Token is valid 
[28/09/2018 21:24:35] - corrId_5bae7ff3c6cb64.84530791 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:24:35] - corrId_5bae7ff3c6cb64.84530791 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[28/09/2018 21:24:35] - corrId_5bae7ff3c6cb64.84530791 - Executing query 
[28/09/2018 21:24:35] - corrId_5bae7ff3c6cb64.84530791 - Query executed successfully 
[28/09/2018 21:24:37] - corrId_5bae7ff5359e44.84943147 - Reached RestitutionManagementService API 
[28/09/2018 21:24:37] - corrId_5bae7ff5359e44.84943147 - Establishing connection to DB 
[28/09/2018 21:24:37] - corrId_5bae7ff5359e44.84943147 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:24:37] - corrId_5bae7ff5359e44.84943147 - Token is valid 
[28/09/2018 21:24:37] - corrId_5bae7ff5359e44.84943147 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:24:37] - corrId_5bae7ff5359e44.84943147 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:24:37] - corrId_5bae7ff5359e44.84943147 - Executing query 
[28/09/2018 21:24:37] - corrId_5bae7ff5359e44.84943147 - Query executed successfully 
[28/09/2018 21:25:32] - corrId_5bae802cf42316.84257970 - Reached CustomerManagementService API 
[28/09/2018 21:25:33] - corrId_5bae802cf42316.84257970 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 21:25:33] - corrId_5bae802cf42316.84257970 - Token is valid 
[28/09/2018 21:25:33] - corrId_5bae802cf42316.84257970 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:33] - corrId_5bae802cf42316.84257970 - Establishing connection to DB 
[28/09/2018 21:25:33] - corrId_5bae802cf42316.84257970 - Executing query 
[28/09/2018 21:25:33] - corrId_5bae802cf42316.84257970 - Query executed successfully 
[28/09/2018 21:25:34] - corrId_5bae802e14f1f6.49085088 - Reached RentalManagementService API 
[28/09/2018 21:25:34] - corrId_5bae802e153026.82666592 - Reached RentalManagementService API 
[28/09/2018 21:25:34] - corrId_5bae802e14f1f6.49085088 - Establishing connection to DB 
[28/09/2018 21:25:34] - corrId_5bae802e153026.82666592 - Establishing connection to DB 
[28/09/2018 21:25:34] - corrId_5bae802e153026.82666592 - Processing ClearRentalBookings request. 
[28/09/2018 21:25:34] - corrId_5bae802e153026.82666592 - Token is valid 
[28/09/2018 21:25:34] - corrId_5bae802e153026.82666592 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:34] - corrId_5bae802e153026.82666592 - Executing query 
[28/09/2018 21:25:34] - corrId_5bae802e153026.82666592 - Query executed successfully 
[28/09/2018 21:25:34] - corrId_5bae802e14f1f6.49085088 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 21:25:34] - corrId_5bae802e14f1f6.49085088 - Token is valid 
[28/09/2018 21:25:34] - corrId_5bae802e14f1f6.49085088 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:34] - corrId_5bae802e14f1f6.49085088 - Executing query 
[28/09/2018 21:25:34] - corrId_5bae802e14f1f6.49085088 - Query executed successfully 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Reached RentalManagementService API 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Establishing connection to DB 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Token is valid 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Executing query 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Query executed successfully 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Executing query 
[28/09/2018 21:25:34] - corrId_5bae802e1e38a6.01980109 - Query executed successfully 
[28/09/2018 21:25:42] - corrId_5bae8036c88e72.29143360 - Reached RestitutionManagementService API 
[28/09/2018 21:25:42] - corrId_5bae8036c88e72.29143360 - Establishing connection to DB 
[28/09/2018 21:25:42] - corrId_5bae8036c88e72.29143360 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:42] - corrId_5bae8036c88e72.29143360 - Token is valid 
[28/09/2018 21:25:42] - corrId_5bae8036c88e72.29143360 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:42] - corrId_5bae8036c88e72.29143360 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 42 
[28/09/2018 21:25:42] - corrId_5bae8036c88e72.29143360 - Executing query 
[28/09/2018 21:25:42] - corrId_5bae8036c88e72.29143360 - Query executed successfully 
[28/09/2018 21:25:44] - corrId_5bae8038515700.22914867 - Reached RestitutionManagementService API 
[28/09/2018 21:25:44] - corrId_5bae8038515700.22914867 - Establishing connection to DB 
[28/09/2018 21:25:44] - corrId_5bae8038515700.22914867 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:44] - corrId_5bae8038515700.22914867 - Token is valid 
[28/09/2018 21:25:44] - corrId_5bae8038515700.22914867 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:44] - corrId_5bae8038515700.22914867 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 43 
[28/09/2018 21:25:44] - corrId_5bae8038515700.22914867 - Executing query 
[28/09/2018 21:25:44] - corrId_5bae8038515700.22914867 - Query executed successfully 
[28/09/2018 21:25:45] - corrId_5bae8039a1fef2.54418164 - Reached RestitutionManagementService API 
[28/09/2018 21:25:45] - corrId_5bae8039a1fef2.54418164 - Establishing connection to DB 
[28/09/2018 21:25:45] - corrId_5bae8039a1fef2.54418164 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:45] - corrId_5bae8039a1fef2.54418164 - Token is valid 
[28/09/2018 21:25:45] - corrId_5bae8039a1fef2.54418164 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:45] - corrId_5bae8039a1fef2.54418164 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 44 
[28/09/2018 21:25:45] - corrId_5bae8039a1fef2.54418164 - Executing query 
[28/09/2018 21:25:45] - corrId_5bae8039a1fef2.54418164 - Query executed successfully 
[28/09/2018 21:25:47] - corrId_5bae803b4096e1.69827830 - Reached RestitutionManagementService API 
[28/09/2018 21:25:47] - corrId_5bae803b4096e1.69827830 - Establishing connection to DB 
[28/09/2018 21:25:47] - corrId_5bae803b4096e1.69827830 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:47] - corrId_5bae803b4096e1.69827830 - Token is valid 
[28/09/2018 21:25:47] - corrId_5bae803b4096e1.69827830 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:47] - corrId_5bae803b4096e1.69827830 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 45 
[28/09/2018 21:25:47] - corrId_5bae803b4096e1.69827830 - Executing query 
[28/09/2018 21:25:47] - corrId_5bae803b4096e1.69827830 - Query executed successfully 
[28/09/2018 21:25:48] - corrId_5bae803c7f5491.91422889 - Reached RestitutionManagementService API 
[28/09/2018 21:25:48] - corrId_5bae803c7f5491.91422889 - Establishing connection to DB 
[28/09/2018 21:25:48] - corrId_5bae803c7f5491.91422889 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:48] - corrId_5bae803c7f5491.91422889 - Token is valid 
[28/09/2018 21:25:48] - corrId_5bae803c7f5491.91422889 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:48] - corrId_5bae803c7f5491.91422889 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 46 
[28/09/2018 21:25:48] - corrId_5bae803c7f5491.91422889 - Executing query 
[28/09/2018 21:25:48] - corrId_5bae803c7f5491.91422889 - Query executed successfully 
[28/09/2018 21:25:49] - corrId_5bae803dc39578.21526462 - Reached RestitutionManagementService API 
[28/09/2018 21:25:49] - corrId_5bae803dc39578.21526462 - Establishing connection to DB 
[28/09/2018 21:25:49] - corrId_5bae803dc39578.21526462 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:49] - corrId_5bae803dc39578.21526462 - Token is valid 
[28/09/2018 21:25:49] - corrId_5bae803dc39578.21526462 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:49] - corrId_5bae803dc39578.21526462 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 47 
[28/09/2018 21:25:49] - corrId_5bae803dc39578.21526462 - Executing query 
[28/09/2018 21:25:49] - corrId_5bae803dc39578.21526462 - Query executed successfully 
[28/09/2018 21:25:51] - corrId_5bae803fe85321.67990931 - Reached RestitutionManagementService API 
[28/09/2018 21:25:51] - corrId_5bae803fe85321.67990931 - Establishing connection to DB 
[28/09/2018 21:25:51] - corrId_5bae803fe85321.67990931 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:51] - corrId_5bae803fe85321.67990931 - Token is valid 
[28/09/2018 21:25:51] - corrId_5bae803fe85321.67990931 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:51] - corrId_5bae803fe85321.67990931 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 50 
[28/09/2018 21:25:51] - corrId_5bae803fe85321.67990931 - Executing query 
[28/09/2018 21:25:51] - corrId_5bae803fe85321.67990931 - Query executed successfully 
[28/09/2018 21:25:54] - corrId_5bae804205df29.53255225 - Reached RestitutionManagementService API 
[28/09/2018 21:25:54] - corrId_5bae804205df29.53255225 - Establishing connection to DB 
[28/09/2018 21:25:54] - corrId_5bae804205df29.53255225 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:54] - corrId_5bae804205df29.53255225 - Token is valid 
[28/09/2018 21:25:54] - corrId_5bae804205df29.53255225 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:54] - corrId_5bae804205df29.53255225 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 23 
[28/09/2018 21:25:54] - corrId_5bae804205df29.53255225 - Executing query 
[28/09/2018 21:25:54] - corrId_5bae804205df29.53255225 - Query executed successfully 
[28/09/2018 21:25:55] - corrId_5bae8043d8daf9.22305292 - Reached RestitutionManagementService API 
[28/09/2018 21:25:55] - corrId_5bae8043d8daf9.22305292 - Establishing connection to DB 
[28/09/2018 21:25:55] - corrId_5bae8043d8daf9.22305292 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:55] - corrId_5bae8043d8daf9.22305292 - Token is valid 
[28/09/2018 21:25:55] - corrId_5bae8043d8daf9.22305292 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:55] - corrId_5bae8043d8daf9.22305292 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 43 
[28/09/2018 21:25:55] - corrId_5bae8043d8daf9.22305292 - Executing query 
[28/09/2018 21:25:55] - corrId_5bae8043d8daf9.22305292 - Query executed successfully 
[28/09/2018 21:25:57] - corrId_5bae80452d15f0.43750420 - Reached RestitutionManagementService API 
[28/09/2018 21:25:57] - corrId_5bae80452d15f0.43750420 - Establishing connection to DB 
[28/09/2018 21:25:57] - corrId_5bae80452d15f0.43750420 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:25:57] - corrId_5bae80452d15f0.43750420 - Token is valid 
[28/09/2018 21:25:57] - corrId_5bae80452d15f0.43750420 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:25:57] - corrId_5bae80452d15f0.43750420 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:25:57] - corrId_5bae80452d15f0.43750420 - Executing query 
[28/09/2018 21:25:57] - corrId_5bae80452d15f0.43750420 - Query executed successfully 
[28/09/2018 21:26:07] - corrId_5bae804f1f6882.73866033 - Reached RestitutionManagementService API 
[28/09/2018 21:26:07] - corrId_5bae804f1f6882.73866033 - Establishing connection to DB 
[28/09/2018 21:26:07] - corrId_5bae804f1f6882.73866033 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:26:07] - corrId_5bae804f1f6882.73866033 - Token is valid 
[28/09/2018 21:26:07] - corrId_5bae804f1f6882.73866033 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:26:07] - corrId_5bae804f1f6882.73866033 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:26:07] - corrId_5bae804f1f6882.73866033 - Executing query 
[28/09/2018 21:26:07] - corrId_5bae804f1f6882.73866033 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Reached RestitutionManagementService API 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Establishing connection to DB 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Processing ReturnCopies request. 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Token is valid 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - COPIES [{"id_noleggio":"61","id_copia":"139","danneggiato":1,"prezzo_extra":"16.00"},{"id_noleggio":"62","id_copia":"151","danneggiato":0,"prezzo_extra":"0.00"}] 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Starting transaction 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query: SELECT * FROM noleggio WHERE id_noleggio = 61 LIMIT 1 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (3, 1, 41, 139, 1, '2018-09-28 20:18:30', '2018-10-04 00:00:00', 35.520000, 0.000000) 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Rent successfully archived, Id:  
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query: DELETE FROM noleggio WHERE id_noleggio = 61 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_copia = 0 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query: SELECT * FROM noleggio WHERE id_noleggio = 62 LIMIT 1 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (3, 1, 41, 151, 1, '2018-09-28 20:18:30', '2018-10-05 00:00:00', 26.200000, 0.000000) 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Rent successfully archived, Id:  
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query: DELETE FROM noleggio WHERE id_noleggio = 62 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_copia = 0 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Query executed successfully 
[28/09/2018 21:26:38] - corrId_5bae806e776d48.79138203 - Committing transaction 
[28/09/2018 21:26:38] - corrId_5bae806e842db7.24207902 - Reached RestitutionManagementService API 
[28/09/2018 21:26:38] - corrId_5bae806e842db7.24207902 - Establishing connection to DB 
[28/09/2018 21:26:38] - corrId_5bae806e842db7.24207902 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:26:38] - corrId_5bae806e842db7.24207902 - Token is valid 
[28/09/2018 21:26:38] - corrId_5bae806e842db7.24207902 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:26:38] - corrId_5bae806e842db7.24207902 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:26:38] - corrId_5bae806e842db7.24207902 - Executing query 
[28/09/2018 21:26:38] - corrId_5bae806e842db7.24207902 - Query executed successfully 
[28/09/2018 21:27:17] - corrId_5bae809546aa83.11550430 - Reached CustomerManagementService API 
[28/09/2018 21:27:17] - corrId_5bae809546aa83.11550430 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 21:27:17] - corrId_5bae809546aa83.11550430 - Token is valid 
[28/09/2018 21:27:17] - corrId_5bae809546aa83.11550430 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:17] - corrId_5bae809546aa83.11550430 - Establishing connection to DB 
[28/09/2018 21:27:17] - corrId_5bae809546aa83.11550430 - Executing query 
[28/09/2018 21:27:17] - corrId_5bae809546aa83.11550430 - Query executed successfully 
[28/09/2018 21:27:17] - corrId_5bae8095d56238.53160310 - Reached RentalManagementService API 
[28/09/2018 21:27:17] - corrId_5bae8095d56232.68273522 - Reached RentalManagementService API 
[28/09/2018 21:27:17] - corrId_5bae8095d56238.53160310 - Establishing connection to DB 
[28/09/2018 21:27:17] - corrId_5bae8095d56232.68273522 - Establishing connection to DB 
[28/09/2018 21:27:17] - corrId_5bae8095d56238.53160310 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 21:27:17] - corrId_5bae8095d56232.68273522 - Processing ClearRentalBookings request. 
[28/09/2018 21:27:17] - corrId_5bae8095d56232.68273522 - Token is valid 
[28/09/2018 21:27:17] - corrId_5bae8095d56238.53160310 - Token is valid 
[28/09/2018 21:27:17] - corrId_5bae8095d56232.68273522 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:17] - corrId_5bae8095d56238.53160310 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:17] - corrId_5bae8095d56232.68273522 - Executing query 
[28/09/2018 21:27:17] - corrId_5bae8095d56238.53160310 - Executing query 
[28/09/2018 21:27:17] - corrId_5bae8095d56238.53160310 - Query executed successfully 
[28/09/2018 21:27:17] - corrId_5bae8095d56232.68273522 - Query executed successfully 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Reached RentalManagementService API 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Establishing connection to DB 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Token is valid 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Executing query 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Query executed successfully 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Executing query 
[28/09/2018 21:27:17] - corrId_5bae8095dbbb72.36571940 - Query executed successfully 
[28/09/2018 21:27:23] - corrId_5bae809bd5d111.55683673 - Reached RestitutionManagementService API 
[28/09/2018 21:27:23] - corrId_5bae809bd5d111.55683673 - Establishing connection to DB 
[28/09/2018 21:27:23] - corrId_5bae809bd5d111.55683673 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:27:23] - corrId_5bae809bd5d111.55683673 - Token is valid 
[28/09/2018 21:27:23] - corrId_5bae809bd5d111.55683673 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:23] - corrId_5bae809bd5d111.55683673 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[28/09/2018 21:27:23] - corrId_5bae809bd5d111.55683673 - Executing query 
[28/09/2018 21:27:23] - corrId_5bae809bd5d111.55683673 - Query executed successfully 
[28/09/2018 21:27:25] - corrId_5bae809d19f663.10874681 - Reached RestitutionManagementService API 
[28/09/2018 21:27:25] - corrId_5bae809d19f663.10874681 - Establishing connection to DB 
[28/09/2018 21:27:25] - corrId_5bae809d19f663.10874681 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:27:25] - corrId_5bae809d19f663.10874681 - Token is valid 
[28/09/2018 21:27:25] - corrId_5bae809d19f663.10874681 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:25] - corrId_5bae809d19f663.10874681 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:27:25] - corrId_5bae809d19f663.10874681 - Executing query 
[28/09/2018 21:27:25] - corrId_5bae809d19f663.10874681 - Query executed successfully 
[28/09/2018 21:27:26] - corrId_5bae809e195df0.69877628 - Reached RentalManagementService API 
[28/09/2018 21:27:26] - corrId_5bae809e195df6.25847288 - Reached RentalManagementService API 
[28/09/2018 21:27:26] - corrId_5bae809e195df0.69877628 - Establishing connection to DB 
[28/09/2018 21:27:26] - corrId_5bae809e195df6.25847288 - Establishing connection to DB 
[28/09/2018 21:27:26] - corrId_5bae809e195df6.25847288 - Processing ClearRentalBookings request. 
est. 
[28/09/2018 21:27:26] - corrId_5bae809e195df6.25847288 - Token is valid 
[28/09/2018 21:27:26] - corrId_5bae809e195df0.69877628 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:26] - corrId_5bae809e195df6.25847288 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:26] - corrId_5bae809e195df0.69877628 - Executing query 
[28/09/2018 21:27:26] - corrId_5bae809e195df6.25847288 - Executing query 
[28/09/2018 21:27:26] - corrId_5bae809e195df6.25847288 - Query executed successfully 
[28/09/2018 21:27:26] - corrId_5bae809e195df0.69877628 - Query executed successfully 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Reached RentalManagementService API 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Establishing connection to DB 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Token is valid 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Executing query 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Query executed successfully 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Executing query 
[28/09/2018 21:27:26] - corrId_5bae809e224db8.36672280 - Query executed successfully 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Reached RentalManagementService API 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Establishing connection to DB 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Processing GetMostRecentCopies request. 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Token is valid 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Starting transaction 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Executing query 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query executed successfully 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 2
                    WHERE id_copia = 128
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Executing query 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query executed successfully 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 3
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Executing query 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query executed successfully 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 2
                    WHERE id_copia = 139
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Executing query 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query executed successfully 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 14
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Executing query 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query executed successfully 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 2
                    WHERE id_copia = 158
                    AND noleggiato = 0
                    AND restituito = 0 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Executing query 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Query executed successfully 
[28/09/2018 21:27:29] - corrId_5bae80a191da66.92746685 - Committing transaction 
[28/09/2018 21:27:29] - corrId_5bae80a19f8652.79822993 - Reached RentalManagementService API 
[28/09/2018 21:27:29] - corrId_5bae80a19f8652.79822993 - Establishing connection to DB 
[28/09/2018 21:27:29] - corrId_5bae80a19f8652.79822993 - Processing GetActiveDiscount request. 
[28/09/2018 21:27:29] - corrId_5bae80a19f8652.79822993 - Token is valid 
[28/09/2018 21:27:29] - corrId_5bae80a19f8652.79822993 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:29] - corrId_5bae80a19f8652.79822993 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[28/09/2018 21:27:29] - corrId_5bae80a19f8652.79822993 - Executing query 
[28/09/2018 21:27:29] - corrId_5bae80a19f8652.79822993 - Query executed successfully 
[28/09/2018 21:27:41] - corrId_5bae80ad2105f0.10632251 - Reached AuthenticationService API 
[28/09/2018 21:27:41] - corrId_5bae80ad2105f0.10632251 - Token is valid 
[28/09/2018 21:27:42] - corrId_5bae80ae6232e3.71180562 - Reached CustomerManagementService API 
[28/09/2018 21:27:42] - corrId_5bae80ae6232e3.71180562 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 21:27:42] - corrId_5bae80ae6232e3.71180562 - Token is valid 
[28/09/2018 21:27:42] - corrId_5bae80ae6232e3.71180562 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:42] - corrId_5bae80ae6232e3.71180562 - Establishing connection to DB 
[28/09/2018 21:27:42] - corrId_5bae80ae6232e3.71180562 - Executing query 
[28/09/2018 21:27:42] - corrId_5bae80ae6232e3.71180562 - Query executed successfully 
[28/09/2018 21:27:44] - corrId_5bae80b0ad8f68.83321141 - Reached RestitutionManagementService API 
[28/09/2018 21:27:44] - corrId_5bae80b0ad8f68.83321141 - Establishing connection to DB 
[28/09/2018 21:27:44] - corrId_5bae80b0ad8f68.83321141 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:27:44] - corrId_5bae80b0ad8f68.83321141 - Token is valid 
[28/09/2018 21:27:44] - corrId_5bae80b0ad8f68.83321141 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:44] - corrId_5bae80b0ad8f68.83321141 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:27:44] - corrId_5bae80b0ad8f68.83321141 - Executing query 
[28/09/2018 21:27:44] - corrId_5bae80b0ad8f68.83321141 - Query executed successfully 
[28/09/2018 21:27:46] - corrId_5bae80b2ab4b34.88940108 - Reached CustomerManagementService API 
[28/09/2018 21:27:46] - corrId_5bae80b2ab4b34.88940108 - Processing FindCustomerById request. 
[28/09/2018 21:27:46] - corrId_5bae80b2ab4b34.88940108 - Token is valid 
[28/09/2018 21:27:46] - corrId_5bae80b2ab4b34.88940108 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:46] - corrId_5bae80b2ab4b34.88940108 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 41
            LIMIT 1 
[28/09/2018 21:27:46] - corrId_5bae80b2ab4b34.88940108 - Establishing connection to DB 
[28/09/2018 21:27:46] - corrId_5bae80b2ab4b34.88940108 - Executing query 
[28/09/2018 21:27:46] - corrId_5bae80b2ab4b34.88940108 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Reached RentalManagementService API 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Establishing connection to DB 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Processing RentVideos request. 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Token is valid 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Starting transaction 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (2, 1, 41, 128, 1, CURRENT_TIMESTAMP, '2018-09-30') 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Rent Insert successful, Id:  
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 65
            LIMIT 1 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: UPDATE noleggio
            SET prezzo_totale = 7.600000
            WHERE id_noleggio = 65 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Rent Update on amount successful 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (2, 1, 41, 139, 1, CURRENT_TIMESTAMP, '2018-10-04') 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Rent Insert successful, Id:  
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 66
            LIMIT 1 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: UPDATE noleggio
            SET prezzo_totale = 35.520000
            WHERE id_noleggio = 66 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Rent Update on amount successful 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (2, 1, 41, 158, 1, CURRENT_TIMESTAMP, '2018-09-30') 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Rent Insert successful, Id:  
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 67
            LIMIT 1 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query: UPDATE noleggio
            SET prezzo_totale = 12.160000
            WHERE id_noleggio = 67 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Rent Update on amount successful 
[28/09/2018 21:27:49] - corrId_5bae80b52c8f85.06336370 - Committing transaction 
[28/09/2018 21:27:49] - corrId_5bae80b53d4fd2.82040378 - Reached RentalManagementService API 
[28/09/2018 21:27:49] - corrId_5bae80b53d4fd2.82040378 - Establishing connection to DB 
[28/09/2018 21:27:49] - corrId_5bae80b53d4fd2.82040378 - Processing ClearRentalBookings request. 
[28/09/2018 21:27:49] - corrId_5bae80b53d4fd2.82040378 - Token is valid 
[28/09/2018 21:27:49] - corrId_5bae80b53d4fd2.82040378 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:49] - corrId_5bae80b53d4fd2.82040378 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b53d4fd2.82040378 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b543e734.01404933 - Reached RentalManagementService API 
[28/09/2018 21:27:49] - corrId_5bae80b543e730.27534153 - Reached RentalManagementService API 
[28/09/2018 21:27:49] - corrId_5bae80b543e734.01404933 - Establishing connection to DB 
[28/09/2018 21:27:49] - corrId_5bae80b543e730.27534153 - Establishing connection to DB 
[28/09/2018 21:27:49] - corrId_5bae80b543e734.01404933 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 21:27:49] - corrId_5bae80b543e734.01404933 - Token is valid 
[28/09/2018 21:27:49] - corrId_5bae80b543e734.01404933 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:49] - corrId_5bae80b543e734.01404933 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b543e734.01404933 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b543e730.27534153 - Processing ClearRentalBookings request. 
[28/09/2018 21:27:49] - corrId_5bae80b543e730.27534153 - Token is valid 
[28/09/2018 21:27:49] - corrId_5bae80b543e730.27534153 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:49] - corrId_5bae80b543e730.27534153 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b543e730.27534153 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Reached RentalManagementService API 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Establishing connection to DB 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Token is valid 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Query executed successfully 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Executing query 
[28/09/2018 21:27:49] - corrId_5bae80b549c339.82062811 - Query executed successfully 
[28/09/2018 21:28:08] - corrId_5bae80c88c7830.29854378 - Reached RestitutionManagementService API 
[28/09/2018 21:28:08] - corrId_5bae80c88c7830.29854378 - Establishing connection to DB 
[28/09/2018 21:28:08] - corrId_5bae80c88c7830.29854378 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:28:08] - corrId_5bae80c88c7830.29854378 - Token is valid 
[28/09/2018 21:28:08] - corrId_5bae80c88c7830.29854378 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:28:08] - corrId_5bae80c88c7830.29854378 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:28:08] - corrId_5bae80c88c7830.29854378 - Executing query 
[28/09/2018 21:28:08] - corrId_5bae80c88c7830.29854378 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Reached RestitutionManagementService API 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Establishing connection to DB 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Processing ReturnCopies request. 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Token is valid 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - COPIES [{"id_noleggio":"66","id_copia":"139","danneggiato":0,"prezzo_extra":"0.00"},{"id_noleggio":"67","id_copia":"158","danneggiato":0,"prezzo_extra":"0.00"}] 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Starting transaction 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query: SELECT * FROM noleggio WHERE id_noleggio = 66 LIMIT 1 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (2, 1, 41, 139, 1, '2018-09-28 21:27:49', '2018-10-04 00:00:00', 35.520000, 0.000000) 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Rent successfully archived, Id:  
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query: DELETE FROM noleggio WHERE id_noleggio = 139 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_copia = 66 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query: SELECT * FROM noleggio WHERE id_noleggio = 67 LIMIT 1 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (2, 1, 41, 158, 1, '2018-09-28 21:27:49', '2018-09-30 00:00:00', 12.160000, 0.000000) 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Rent successfully archived, Id:  
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query: DELETE FROM noleggio WHERE id_noleggio = 158 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_copia = 67 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Query executed successfully 
[28/09/2018 21:28:27] - corrId_5bae80db6d4429.46229113 - Committing transaction 
[28/09/2018 21:28:27] - corrId_5bae80db7c1739.63055700 - Reached RestitutionManagementService API 
[28/09/2018 21:28:27] - corrId_5bae80db7c1739.63055700 - Establishing connection to DB 
[28/09/2018 21:28:27] - corrId_5bae80db7c1739.63055700 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:28:27] - corrId_5bae80db7c1739.63055700 - Token is valid 
[28/09/2018 21:28:27] - corrId_5bae80db7c1739.63055700 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:28:27] - corrId_5bae80db7c1739.63055700 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:28:27] - corrId_5bae80db7c1739.63055700 - Executing query 
[28/09/2018 21:28:27] - corrId_5bae80db7c1739.63055700 - Query executed successfully 
[28/09/2018 21:28:41] - corrId_5bae80e9009912.64417850 - Reached RestitutionManagementService API 
[28/09/2018 21:28:41] - corrId_5bae80e9009912.64417850 - Establishing connection to DB 
[28/09/2018 21:28:41] - corrId_5bae80e9009912.64417850 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:28:41] - corrId_5bae80e9009912.64417850 - Token is valid 
[28/09/2018 21:28:41] - corrId_5bae80e9009912.64417850 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:28:41] - corrId_5bae80e9009912.64417850 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:28:41] - corrId_5bae80e9009912.64417850 - Executing query 
[28/09/2018 21:28:41] - corrId_5bae80e9009912.64417850 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Reached RestitutionManagementService API 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Establishing connection to DB 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Processing ReturnCopies request. 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Token is valid 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - COPIES [{"id_noleggio":"66","id_copia":"139","danneggiato":0,"prezzo_extra":"0.00"},{"id_noleggio":"67","id_copia":"158","danneggiato":0,"prezzo_extra":"0.00"}] 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Starting transaction 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query: SELECT * FROM noleggio WHERE id_noleggio = 66 LIMIT 1 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (2, 1, 41, 139, 1, '2018-09-28 21:27:49', '2018-10-04 00:00:00', 35.520000, 0.000000) 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Rent successfully archived, Id:  
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query: DELETE FROM noleggio WHERE id_noleggio = 66 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_copia = 139 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query: SELECT * FROM noleggio WHERE id_noleggio = 67 LIMIT 1 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (2, 1, 41, 158, 1, '2018-09-28 21:27:49', '2018-09-30 00:00:00', 12.160000, 0.000000) 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Rent successfully archived, Id:  
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query: DELETE FROM noleggio WHERE id_noleggio = 67 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_copia = 158 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Query executed successfully 
[28/09/2018 21:29:08] - corrId_5bae8104d40c50.65567493 - Committing transaction 
[28/09/2018 21:29:08] - corrId_5bae8104e23557.46269677 - Reached RestitutionManagementService API 
[28/09/2018 21:29:08] - corrId_5bae8104e23557.46269677 - Establishing connection to DB 
[28/09/2018 21:29:08] - corrId_5bae8104e23557.46269677 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:29:08] - corrId_5bae8104e23557.46269677 - Token is valid 
[28/09/2018 21:29:08] - corrId_5bae8104e23557.46269677 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:29:08] - corrId_5bae8104e23557.46269677 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 41 
[28/09/2018 21:29:08] - corrId_5bae8104e23557.46269677 - Executing query 
[28/09/2018 21:29:08] - corrId_5bae8104e23557.46269677 - Query executed successfully 
[28/09/2018 21:35:38] - corrId_5bae828ab663c2.56147169 - Reached AuthenticationService API 
[28/09/2018 21:35:38] - corrId_5bae828ab663c2.56147169 - Token is valid 
[28/09/2018 21:38:16] - corrId_5bae8328764518.28567145 - Reached RestitutionManagementService API 
[28/09/2018 21:38:16] - corrId_5bae8328764518.28567145 - Establishing connection to DB 
[28/09/2018 21:38:16] - corrId_5bae8328764518.28567145 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:38:16] - corrId_5bae8328764518.28567145 - Token is valid 
[28/09/2018 21:38:16] - corrId_5bae8328764518.28567145 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:38:16] - corrId_5bae8328764518.28567145 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente > 0 
[28/09/2018 21:38:16] - corrId_5bae8328764518.28567145 - Executing query 
[28/09/2018 21:38:16] - corrId_5bae8328764518.28567145 - Query executed successfully 
[28/09/2018 21:38:45] - corrId_5bae8345686513.62436635 - Reached RestitutionManagementService API 
[28/09/2018 21:38:45] - corrId_5bae8345686513.62436635 - Establishing connection to DB 
[28/09/2018 21:38:45] - corrId_5bae8345686513.62436635 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:38:45] - corrId_5bae8345686513.62436635 - Token is valid 
[28/09/2018 21:38:45] - corrId_5bae8345686513.62436635 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:38:45] - corrId_5bae8345686513.62436635 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente > 0 
[28/09/2018 21:38:45] - corrId_5bae8345686513.62436635 - Executing query 
[28/09/2018 21:38:45] - corrId_5bae8345686513.62436635 - Query executed successfully 
[28/09/2018 21:38:47] - corrId_5bae8347bdf567.39785462 - Reached RestitutionManagementService API 
[28/09/2018 21:38:47] - corrId_5bae8347bdf567.39785462 - Establishing connection to DB 
[28/09/2018 21:38:47] - corrId_5bae8347bdf567.39785462 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:38:47] - corrId_5bae8347bdf567.39785462 - Token is valid 
[28/09/2018 21:38:47] - corrId_5bae8347bdf567.39785462 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:38:47] - corrId_5bae8347bdf567.39785462 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 3424234 
[28/09/2018 21:38:47] - corrId_5bae8347bdf567.39785462 - Executing query 
[28/09/2018 21:38:47] - corrId_5bae8347bdf567.39785462 - Query executed successfully 
[28/09/2018 21:38:49] - corrId_5bae834948f2d1.34692389 - Reached RestitutionManagementService API 
[28/09/2018 21:38:49] - corrId_5bae834948f2d1.34692389 - Establishing connection to DB 
[28/09/2018 21:38:49] - corrId_5bae834948f2d1.34692389 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:38:49] - corrId_5bae834948f2d1.34692389 - Token is valid 
[28/09/2018 21:38:49] - corrId_5bae834948f2d1.34692389 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:38:49] - corrId_5bae834948f2d1.34692389 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente > 0 
[28/09/2018 21:38:49] - corrId_5bae834948f2d1.34692389 - Executing query 
[28/09/2018 21:38:49] - corrId_5bae834948f2d1.34692389 - Query executed successfully 
[28/09/2018 21:39:10] - corrId_5bae835e096c45.98362172 - Reached AuthenticationService API 
[28/09/2018 21:39:10] - corrId_5bae835e096c45.98362172 - Token is valid 
[28/09/2018 21:39:13] - corrId_5bae8361ab0293.35121938 - Reached RestitutionManagementService API 
[28/09/2018 21:39:13] - corrId_5bae8361ab0293.35121938 - Establishing connection to DB 
[28/09/2018 21:39:13] - corrId_5bae8361ab0293.35121938 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:39:13] - corrId_5bae8361ab0293.35121938 - Token is valid 
[28/09/2018 21:39:13] - corrId_5bae8361ab0293.35121938 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:39:13] - corrId_5bae8361ab0293.35121938 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente > 0 
[28/09/2018 21:39:13] - corrId_5bae8361ab0293.35121938 - Executing query 
[28/09/2018 21:39:13] - corrId_5bae8361ab0293.35121938 - Query executed successfully 
[28/09/2018 21:39:56] - corrId_5bae838c454f65.77567951 - Reached AuthenticationService API 
[28/09/2018 21:39:56] - corrId_5bae838c454f65.77567951 - Token is valid 
[28/09/2018 21:40:19] - corrId_5bae83a3935704.07547412 - Reached AuthenticationService API 
[28/09/2018 21:40:19] - corrId_5bae83a3935704.07547412 - Token is valid 
[28/09/2018 21:40:35] - corrId_5bae83b369a9d8.44446714 - Reached AuthenticationService API 
[28/09/2018 21:40:35] - corrId_5bae83b369a9d8.44446714 - Token is valid 
[28/09/2018 21:41:01] - corrId_5bae83cde93326.23835711 - Reached RestitutionManagementService API 
[28/09/2018 21:41:01] - corrId_5bae83cde93326.23835711 - Establishing connection to DB 
[28/09/2018 21:41:01] - corrId_5bae83cde93326.23835711 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:41:01] - corrId_5bae83cde93326.23835711 - Token is valid 
[28/09/2018 21:41:01] - corrId_5bae83cde93326.23835711 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:41:01] - corrId_5bae83cde93326.23835711 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente > 0 
[28/09/2018 21:41:01] - corrId_5bae83cde93326.23835711 - Executing query 
[28/09/2018 21:41:01] - corrId_5bae83cde93326.23835711 - Query executed successfully 
[28/09/2018 21:41:12] - corrId_5bae83d8539513.50274003 - Reached AuthenticationService API 
[28/09/2018 21:41:12] - corrId_5bae83d8539513.50274003 - Token is valid 
[28/09/2018 21:41:27] - corrId_5bae83e7c88c93.37823049 - Reached AuthenticationService API 
[28/09/2018 21:41:27] - corrId_5bae83e7c88c93.37823049 - Token is valid 
[28/09/2018 21:41:30] - corrId_5bae83ea27ce26.86083763 - Reached RestitutionManagementService API 
[28/09/2018 21:41:30] - corrId_5bae83ea27ce26.86083763 - Establishing connection to DB 
[28/09/2018 21:41:30] - corrId_5bae83ea27ce26.86083763 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:41:30] - corrId_5bae83ea27ce26.86083763 - Token is valid 
[28/09/2018 21:41:30] - corrId_5bae83ea27ce26.86083763 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:41:30] - corrId_5bae83ea27ce26.86083763 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente > 0 
[28/09/2018 21:41:30] - corrId_5bae83ea27ce26.86083763 - Executing query 
[28/09/2018 21:41:30] - corrId_5bae83ea27ce26.86083763 - Query executed successfully 
[28/09/2018 21:41:42] - corrId_5bae83f65e7f43.67511011 - Reached RestitutionManagementService API 
[28/09/2018 21:41:42] - corrId_5bae83f65e7f43.67511011 - Establishing connection to DB 
[28/09/2018 21:41:42] - corrId_5bae83f65e7f43.67511011 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:41:42] - corrId_5bae83f65e7f43.67511011 - Token is valid 
[28/09/2018 21:41:42] - corrId_5bae83f65e7f43.67511011 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:41:42] - corrId_5bae83f65e7f43.67511011 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[28/09/2018 21:41:42] - corrId_5bae83f65e7f43.67511011 - Executing query 
[28/09/2018 21:41:42] - corrId_5bae83f65e7f43.67511011 - Query executed successfully 
[28/09/2018 21:41:45] - corrId_5bae83f9c3ea49.08160826 - Reached RestitutionManagementService API 
[28/09/2018 21:41:45] - corrId_5bae83f9c3ea49.08160826 - Establishing connection to DB 
[28/09/2018 21:41:45] - corrId_5bae83f9c3ea49.08160826 - Processing GetRentedVideoForUser request. 
[28/09/2018 21:41:45] - corrId_5bae83f9c3ea49.08160826 - Token is valid 
[28/09/2018 21:41:45] - corrId_5bae83f9c3ea49.08160826 - Validated permissions for user MarRosRoma01 (required 10, has 20) 
[28/09/2018 21:41:45] - corrId_5bae83f9c3ea49.08160826 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente > 0 
[28/09/2018 21:41:45] - corrId_5bae83f9c3ea49.08160826 - Executing query 
[28/09/2018 21:41:45] - corrId_5bae83f9c3ea49.08160826 - Query executed successfully 
[28/09/2018 21:42:02] - corrId_5bae840ad04657.13171749 - Reached AuthenticationService API 
[28/09/2018 21:42:02] - corrId_5bae840ad04657.13171749 - Token is valid 
[28/09/2018 21:42:02] - corrId_5bae840ad04657.13171749 - {"username":"MarRosRoma01","id_dipendente":"2","delega_codice":"20","delega_nome":"responsabile","punto_vendita_nome":"Roma01","citta_nome":"Roma","punto_vendita_indirizzo":"Largo Giuseppe Veratti 37","punto_vendita_id_punto_vendita":"1"} 
[28/09/2018 21:42:02] - corrId_5bae840ad04657.13171749 - User MarRosRoma01 logging out. 
[28/09/2018 21:42:05] - corrId_5bae840d81cac4.32161306 - Reached AuthenticationService API 
[28/09/2018 21:42:05] - corrId_5bae840d81cac4.32161306 - Processing Login request. 
[28/09/2018 21:42:05] - corrId_5bae840d81cac4.32161306 - Establishing connection to DB 
[28/09/2018 21:42:05] - corrId_5bae840d81cac4.32161306 - Executing query 
[28/09/2018 21:42:05] - corrId_5bae840d81cac4.32161306 - Query executed successfully 
[28/09/2018 21:42:05] - corrId_5bae840d81cac4.32161306 - User admin validated, starting token generation. 
[28/09/2018 21:42:05] - corrId_5bae840d81cac4.32161306 - Token generated succesfully. 
[28/09/2018 21:42:05] - corrId_5bae840d81cac4.32161306 - Authentication cookie has been set:  
[28/09/2018 21:42:06] - corrId_5bae840e769335.88479725 - Reached AccountManagementService API 
[28/09/2018 21:42:06] - corrId_5bae840e769335.88479725 - Processing GetCities request. 
[28/09/2018 21:42:06] - corrId_5bae840e769335.88479725 - Token is valid 
[28/09/2018 21:42:06] - corrId_5bae840e769335.88479725 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:42:06] - corrId_5bae840e769335.88479725 - Query: SELECT *
            FROM citta 
[28/09/2018 21:42:06] - corrId_5bae840e769335.88479725 - Establishing connection to DB 
[28/09/2018 21:42:06] - corrId_5bae840e769335.88479725 - Executing query 
[28/09/2018 21:42:06] - corrId_5bae840e769335.88479725 - Query executed successfully 
[28/09/2018 21:42:06] - corrId_5bae840e989aa7.36255134 - Reached AccountManagementService API 
[28/09/2018 21:42:06] - corrId_5bae840e989aa7.36255134 - Processing GetStores request. 
[28/09/2018 21:42:06] - corrId_5bae840e989aa7.36255134 - Token is valid 
[28/09/2018 21:42:06] - corrId_5bae840e989aa7.36255134 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:42:06] - corrId_5bae840e989aa7.36255134 - Query: SELECT *
            FROM punto_vendita 
             
[28/09/2018 21:42:06] - corrId_5bae840e989aa7.36255134 - Establishing connection to DB 
[28/09/2018 21:42:06] - corrId_5bae840e989aa7.36255134 - Executing query 
[28/09/2018 21:42:06] - corrId_5bae840e989aa7.36255134 - Query executed successfully 
[28/09/2018 21:42:06] - corrId_5bae840ea16444.96770738 - Reached AccountManagementService API 
[28/09/2018 21:42:06] - corrId_5bae840ea16444.96770738 - Processing GetEmployees request. 
[28/09/2018 21:42:06] - corrId_5bae840ea16444.96770738 - Token is valid 
[28/09/2018 21:42:06] - corrId_5bae840ea16444.96770738 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:42:06] - corrId_5bae840ea16444.96770738 - Query: SELECT dip.id_dipendente, dip.nome as dipendente_nome, dip.cognome as dipendente_cognome,
                dip.username as dipendente_username, del.nome as delega_nome, del.codice as delega_codice,
                pv.nome as punto_vendita_nome, dip.id_punto_vendita as punto_vendita_id
            FROM dipendente as dip
            INNER JOIN delega as del
            ON dip.id_delega = del.id_delega
            INNER JOIN punto_vendita as pv
            ON dip.id_punto_vendita = pv.id_punto_vendita 
             
[28/09/2018 21:42:06] - corrId_5bae840ea16444.96770738 - Establishing connection to DB 
[28/09/2018 21:42:06] - corrId_5bae840ea16444.96770738 - Executing query 
[28/09/2018 21:42:06] - corrId_5bae840ea16444.96770738 - Query executed successfully 
[28/09/2018 21:42:19] - corrId_5bae841b633c45.11003343 - Reached AccountManagementService API 
[28/09/2018 21:42:19] - corrId_5bae841b633c45.11003343 - Processing GetStores request. 
[28/09/2018 21:42:19] - corrId_5bae841b633c45.11003343 - Token is valid 
[28/09/2018 21:42:19] - corrId_5bae841b633c45.11003343 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:42:19] - corrId_5bae841b633c45.11003343 - Query: SELECT *
            FROM punto_vendita 
            WHERE id_citta = 2 
[28/09/2018 21:42:19] - corrId_5bae841b633c45.11003343 - Establishing connection to DB 
[28/09/2018 21:42:19] - corrId_5bae841b633c45.11003343 - Executing query 
[28/09/2018 21:42:19] - corrId_5bae841b633c45.11003343 - Query executed successfully 
[28/09/2018 21:42:21] - corrId_5bae841d48fc35.00291022 - Reached AccountManagementService API 
[28/09/2018 21:42:21] - corrId_5bae841d48fc35.00291022 - Processing GetStores request. 
[28/09/2018 21:42:21] - corrId_5bae841d48fc35.00291022 - Token is valid 
[28/09/2018 21:42:21] - corrId_5bae841d48fc35.00291022 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:42:21] - corrId_5bae841d48fc35.00291022 - Query: SELECT *
            FROM punto_vendita 
            WHERE id_citta = 1 
[28/09/2018 21:42:21] - corrId_5bae841d48fc35.00291022 - Establishing connection to DB 
[28/09/2018 21:42:21] - corrId_5bae841d48fc35.00291022 - Executing query 
[28/09/2018 21:42:21] - corrId_5bae841d48fc35.00291022 - Query executed successfully 
[28/09/2018 21:42:21] - corrId_5bae841d5010c9.86108574 - Reached AccountManagementService API 
[28/09/2018 21:42:21] - corrId_5bae841d5010c9.86108574 - Processing GetEmployees request. 
[28/09/2018 21:42:21] - corrId_5bae841d5010c9.86108574 - Token is valid 
[28/09/2018 21:42:21] - corrId_5bae841d5010c9.86108574 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:42:21] - corrId_5bae841d5010c9.86108574 - Query: SELECT dip.id_dipendente, dip.nome as dipendente_nome, dip.cognome as dipendente_cognome,
                dip.username as dipendente_username, del.nome as delega_nome, del.codice as delega_codice,
                pv.nome as punto_vendita_nome, dip.id_punto_vendita as punto_vendita_id
            FROM dipendente as dip
            INNER JOIN delega as del
            ON dip.id_delega = del.id_delega
            INNER JOIN punto_vendita as pv
            ON dip.id_punto_vendita = pv.id_punto_vendita 
             
[28/09/2018 21:42:21] - corrId_5bae841d5010c9.86108574 - Establishing connection to DB 
[28/09/2018 21:42:21] - corrId_5bae841d5010c9.86108574 - Executing query 
[28/09/2018 21:42:21] - corrId_5bae841d5010c9.86108574 - Query executed successfully 
[28/09/2018 21:42:22] - corrId_5bae841e715d55.62207279 - Reached AccountManagementService API 
[28/09/2018 21:42:22] - corrId_5bae841e715d55.62207279 - Processing GetEmployees request. 
[28/09/2018 21:42:22] - corrId_5bae841e715d55.62207279 - Token is valid 
[28/09/2018 21:42:22] - corrId_5bae841e715d55.62207279 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:42:22] - corrId_5bae841e715d55.62207279 - Query: SELECT dip.id_dipendente, dip.nome as dipendente_nome, dip.cognome as dipendente_cognome,
                dip.username as dipendente_username, del.nome as delega_nome, del.codice as delega_codice,
                pv.nome as punto_vendita_nome, dip.id_punto_vendita as punto_vendita_id
            FROM dipendente as dip
            INNER JOIN delega as del
            ON dip.id_delega = del.id_delega
            INNER JOIN punto_vendita as pv
            ON dip.id_punto_vendita = pv.id_punto_vendita 
            WHERE dip.id_punto_vendita = 5 
[28/09/2018 21:42:22] - corrId_5bae841e715d55.62207279 - Establishing connection to DB 
[28/09/2018 21:42:22] - corrId_5bae841e715d55.62207279 - Executing query 
[28/09/2018 21:42:22] - corrId_5bae841e715d55.62207279 - Query executed successfully 
[28/09/2018 21:42:25] - corrId_5bae84215da073.27649842 - Reached AccountManagementService API 
[28/09/2018 21:42:25] - corrId_5bae84215da073.27649842 - Processing GetStores request. 
[28/09/2018 21:42:25] - corrId_5bae84215da073.27649842 - Token is valid 
[28/09/2018 21:42:25] - corrId_5bae84215da073.27649842 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:42:25] - corrId_5bae84215da073.27649842 - Query: SELECT *
            FROM punto_vendita 
             
[28/09/2018 21:42:25] - corrId_5bae84215da073.27649842 - Establishing connection to DB 
[28/09/2018 21:42:25] - corrId_5bae84215da073.27649842 - Executing query 
[28/09/2018 21:42:25] - corrId_5bae84215da073.27649842 - Query executed successfully 
[28/09/2018 21:42:25] - corrId_5bae842167a4e6.33873415 - Reached AccountManagementService API 
[28/09/2018 21:42:25] - corrId_5bae842167a4e6.33873415 - Processing GetEmployees request. 
[28/09/2018 21:42:25] - corrId_5bae842167a4e6.33873415 - Token is valid 
[28/09/2018 21:42:25] - corrId_5bae842167a4e6.33873415 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:42:25] - corrId_5bae842167a4e6.33873415 - Query: SELECT dip.id_dipendente, dip.nome as dipendente_nome, dip.cognome as dipendente_cognome,
                dip.username as dipendente_username, del.nome as delega_nome, del.codice as delega_codice,
                pv.nome as punto_vendita_nome, dip.id_punto_vendita as punto_vendita_id
            FROM dipendente as dip
            INNER JOIN delega as del
            ON dip.id_delega = del.id_delega
            INNER JOIN punto_vendita as pv
            ON dip.id_punto_vendita = pv.id_punto_vendita 
             
[28/09/2018 21:42:25] - corrId_5bae842167a4e6.33873415 - Establishing connection to DB 
[28/09/2018 21:42:25] - corrId_5bae842167a4e6.33873415 - Executing query 
[28/09/2018 21:42:25] - corrId_5bae842167a4e6.33873415 - Query executed successfully 
[28/09/2018 21:43:38] - corrId_5bae846a63f2f8.03525924 - Reached AuthenticationService API 
[28/09/2018 21:43:38] - corrId_5bae846a63f2f8.03525924 - Token is valid 
[28/09/2018 21:43:43] - corrId_5bae846f056428.60536695 - Reached RentalManagementService API 
[28/09/2018 21:43:43] - corrId_5bae846f056428.60536695 - Establishing connection to DB 
[28/09/2018 21:43:43] - corrId_5bae846f056428.60536695 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 21:43:43] - corrId_5bae846f056428.60536695 - Token is valid 
[28/09/2018 21:43:43] - corrId_5bae846f056428.60536695 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:43:43] - corrId_5bae846f056428.60536695 - Executing query 
[28/09/2018 21:43:43] - corrId_5bae846f056428.60536695 - Query executed successfully 
[28/09/2018 21:43:43] - corrId_5bae846f1021f0.94993987 - Reached RentalManagementService API 
[28/09/2018 21:43:43] - corrId_5bae846f1021f0.94993987 - Establishing connection to DB 
[28/09/2018 21:43:43] - corrId_5bae846f1021f0.94993987 - Processing ClearRentalBookings request. 
[28/09/2018 21:43:43] - corrId_5bae846f1021f0.94993987 - Token is valid 
[28/09/2018 21:43:43] - corrId_5bae846f1021f0.94993987 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:43:43] - corrId_5bae846f1021f0.94993987 - Executing query 
[28/09/2018 21:43:43] - corrId_5bae846f1021f0.94993987 - Query executed successfully 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Reached RentalManagementService API 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Establishing connection to DB 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Token is valid 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Executing query 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Query executed successfully 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Executing query 
[28/09/2018 21:43:43] - corrId_5bae846f16b963.80268206 - Query executed successfully 
[28/09/2018 21:43:44] - corrId_5bae8470d2af02.00959854 - Reached CustomerManagementService API 
[28/09/2018 21:43:44] - corrId_5bae8470d2af02.00959854 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 21:43:44] - corrId_5bae8470d2af02.00959854 - Token is valid 
[28/09/2018 21:43:44] - corrId_5bae8470d2af02.00959854 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:43:44] - corrId_5bae8470d2af02.00959854 - Establishing connection to DB 
[28/09/2018 21:43:44] - corrId_5bae8470d2af02.00959854 - Executing query 
[28/09/2018 21:43:44] - corrId_5bae8470d2af02.00959854 - Query executed successfully 
[28/09/2018 21:43:45] - corrId_5bae84716a1503.59952108 - Reached StorageManagementService API 
[28/09/2018 21:43:45] - corrId_5bae84716a1503.59952108 - Processing GetVideosInStorage request. 
[28/09/2018 21:43:45] - corrId_5bae84716a1503.59952108 - Token is valid 
[28/09/2018 21:43:45] - corrId_5bae84716a1503.59952108 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:43:45] - corrId_5bae84716a1503.59952108 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[28/09/2018 21:43:45] - corrId_5bae84716a1503.59952108 - Establishing connection to DB 
[28/09/2018 21:43:45] - corrId_5bae84716a1503.59952108 - Executing query 
[28/09/2018 21:43:45] - corrId_5bae84716a1503.59952108 - Query executed successfully 
[28/09/2018 21:43:46] - corrId_5bae8472002258.19363177 - Reached AccountManagementService API 
[28/09/2018 21:43:46] - corrId_5bae8472002258.19363177 - Processing GetCities request. 
[28/09/2018 21:43:46] - corrId_5bae8472002258.19363177 - Token is valid 
[28/09/2018 21:43:46] - corrId_5bae8472002258.19363177 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:43:46] - corrId_5bae8472002258.19363177 - Query: SELECT *
            FROM citta 
[28/09/2018 21:43:46] - corrId_5bae8472002258.19363177 - Establishing connection to DB 
[28/09/2018 21:43:46] - corrId_5bae8472002258.19363177 - Executing query 
[28/09/2018 21:43:46] - corrId_5bae8472002258.19363177 - Query executed successfully 
[28/09/2018 21:43:46] - corrId_5bae8472215f90.77728054 - Reached AccountManagementService API 
[28/09/2018 21:43:46] - corrId_5bae8472215f90.77728054 - Processing GetStores request. 
[28/09/2018 21:43:46] - corrId_5bae8472215f90.77728054 - Token is valid 
[28/09/2018 21:43:46] - corrId_5bae8472215f90.77728054 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:43:46] - corrId_5bae8472215f90.77728054 - Query: SELECT *
            FROM punto_vendita 
             
[28/09/2018 21:43:46] - corrId_5bae8472215f90.77728054 - Establishing connection to DB 
[28/09/2018 21:43:46] - corrId_5bae8472215f90.77728054 - Executing query 
[28/09/2018 21:43:46] - corrId_5bae8472215f90.77728054 - Query executed successfully 
[28/09/2018 21:43:46] - corrId_5bae84722aa7c6.01641308 - Reached AccountManagementService API 
[28/09/2018 21:43:46] - corrId_5bae84722aa7c6.01641308 - Processing GetEmployees request. 
[28/09/2018 21:43:46] - corrId_5bae84722aa7c6.01641308 - Token is valid 
[28/09/2018 21:43:46] - corrId_5bae84722aa7c6.01641308 - Validated permissions for user admin (required 30, has 30) 
[28/09/2018 21:43:46] - corrId_5bae84722aa7c6.01641308 - Query: SELECT dip.id_dipendente, dip.nome as dipendente_nome, dip.cognome as dipendente_cognome,
                dip.username as dipendente_username, del.nome as delega_nome, del.codice as delega_codice,
                pv.nome as punto_vendita_nome, dip.id_punto_vendita as punto_vendita_id
            FROM dipendente as dip
            INNER JOIN delega as del
            ON dip.id_delega = del.id_delega
            INNER JOIN punto_vendita as pv
            ON dip.id_punto_vendita = pv.id_punto_vendita 
             
[28/09/2018 21:43:46] - corrId_5bae84722aa7c6.01641308 - Establishing connection to DB 
[28/09/2018 21:43:46] - corrId_5bae84722aa7c6.01641308 - Executing query 
[28/09/2018 21:43:46] - corrId_5bae84722aa7c6.01641308 - Query executed successfully 
[28/09/2018 21:44:42] - corrId_5bae84aa5607d7.76756192 - Reached StorageManagementService API 
[28/09/2018 21:44:42] - corrId_5bae84aa5607d7.76756192 - Processing GetVideosInStorage request. 
[28/09/2018 21:44:42] - corrId_5bae84aa5607d7.76756192 - Token is valid 
[28/09/2018 21:44:42] - corrId_5bae84aa5607d7.76756192 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:44:42] - corrId_5bae84aa5607d7.76756192 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[28/09/2018 21:44:42] - corrId_5bae84aa5607d7.76756192 - Establishing connection to DB 
[28/09/2018 21:44:42] - corrId_5bae84aa5607d7.76756192 - Executing query 
[28/09/2018 21:44:42] - corrId_5bae84aa5607d7.76756192 - Query executed successfully 
[28/09/2018 21:44:42] - corrId_5bae84aacb6fb5.46048839 - Reached CustomerManagementService API 
[28/09/2018 21:44:42] - corrId_5bae84aacb6fb5.46048839 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 21:44:42] - corrId_5bae84aacb6fb5.46048839 - Token is valid 
[28/09/2018 21:44:42] - corrId_5bae84aacb6fb5.46048839 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:44:42] - corrId_5bae84aacb6fb5.46048839 - Establishing connection to DB 
[28/09/2018 21:44:42] - corrId_5bae84aacb6fb5.46048839 - Executing query 
[28/09/2018 21:44:42] - corrId_5bae84aacb6fb5.46048839 - Query executed successfully 
[28/09/2018 21:44:43] - corrId_5bae84abba8654.73237743 - Reached RentalManagementService API 
[28/09/2018 21:44:43] - corrId_5bae84abba8654.73237743 - Establishing connection to DB 
[28/09/2018 21:44:43] - corrId_5bae84abba8659.33522003 - Reached RentalManagementService API 
[28/09/2018 21:44:43] - corrId_5bae84abba8659.33522003 - Establishing connection to DB 
[28/09/2018 21:44:43] - corrId_5bae84abba8654.73237743 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 21:44:43] - corrId_5bae84abba8654.73237743 - Token is valid 
[28/09/2018 21:44:43] - corrId_5bae84abba8654.73237743 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:44:43] - corrId_5bae84abba8659.33522003 - Processing ClearRentalBookings request. 
[28/09/2018 21:44:43] - corrId_5bae84abba8654.73237743 - Executing query 
[28/09/2018 21:44:43] - corrId_5bae84abba8659.33522003 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:44:43] - corrId_5bae84abba8659.33522003 - Executing query 
[28/09/2018 21:44:43] - corrId_5bae84abba8654.73237743 - Query executed successfully 
[28/09/2018 21:44:43] - corrId_5bae84abba8659.33522003 - Query executed successfully 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Reached RentalManagementService API 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Establishing connection to DB 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Token is valid 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Executing query 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Query executed successfully 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Executing query 
[28/09/2018 21:44:43] - corrId_5bae84abc3cd73.19711170 - Query executed successfully 
[28/09/2018 21:44:59] - corrId_5bae84bbed9501.93013517 - Reached AuthenticationService API 
[28/09/2018 21:44:59] - corrId_5bae84bbed9501.93013517 - Token is valid 
[28/09/2018 21:46:23] - corrId_5bae850f9dffa2.13686577 - Reached AuthenticationService API 
[28/09/2018 21:46:23] - corrId_5bae850f9dffa2.13686577 - Token is valid 
[28/09/2018 21:48:08] - corrId_5bae85783fe0e8.32290961 - Reached AuthenticationService API 
[28/09/2018 21:48:08] - corrId_5bae85783fe0e8.32290961 - Token is valid 
[28/09/2018 21:49:08] - corrId_5bae85b4b41694.13303089 - Reached AuthenticationService API 
[28/09/2018 21:49:08] - corrId_5bae85b4b41694.13303089 - Token is valid 
[28/09/2018 21:51:19] - corrId_5bae8637c37d41.58059497 - Reached AuthenticationService API 
[28/09/2018 21:51:19] - corrId_5bae8637c37d41.58059497 - Token is valid 
[28/09/2018 21:51:54] - corrId_5bae865a642d10.22023012 - Reached AuthenticationService API 
[28/09/2018 21:51:54] - corrId_5bae865a642d10.22023012 - Token is valid 
[28/09/2018 21:54:32] - corrId_5bae86f8cac1b6.71422473 - Reached AuthenticationService API 
[28/09/2018 21:54:32] - corrId_5bae86f8cac1b6.71422473 - Token is valid 
[28/09/2018 21:54:47] - corrId_5bae8707815d94.38669947 - Reached AuthenticationService API 
[28/09/2018 21:54:47] - corrId_5bae8707815d94.38669947 - Token is valid 
[28/09/2018 21:55:04] - corrId_5bae8718865797.30357396 - Reached AuthenticationService API 
[28/09/2018 21:55:04] - corrId_5bae8718865797.30357396 - Token is valid 
[28/09/2018 21:55:40] - corrId_5bae873ce4cea6.76652481 - Reached AuthenticationService API 
[28/09/2018 21:55:40] - corrId_5bae873ce4cea6.76652481 - Token is valid 
[28/09/2018 21:55:53] - corrId_5bae8749275366.34338157 - Reached AuthenticationService API 
[28/09/2018 21:55:53] - corrId_5bae8749275366.34338157 - Token is valid 
[28/09/2018 21:56:54] - corrId_5bae87867d12c1.59758415 - Reached AuthenticationService API 
[28/09/2018 21:56:54] - corrId_5bae87867d12c1.59758415 - Token is valid 
[28/09/2018 21:57:12] - corrId_5bae87987a46e2.82045142 - Reached AuthenticationService API 
[28/09/2018 21:57:12] - corrId_5bae87987a46e2.82045142 - Token is valid 
[28/09/2018 21:57:29] - corrId_5bae87a94aa2e5.77553718 - Reached AuthenticationService API 
[28/09/2018 21:57:29] - corrId_5bae87a94aa2e5.77553718 - Token is valid 
[28/09/2018 21:58:08] - corrId_5bae87d037a791.95866048 - Reached AuthenticationService API 
[28/09/2018 21:58:08] - corrId_5bae87d037a791.95866048 - Token is valid 
[28/09/2018 22:04:14] - corrId_5bae893e2635d8.17862345 - Reached AuthenticationService API 
[28/09/2018 22:04:14] - corrId_5bae893e2635d8.17862345 - Token is valid 
[28/09/2018 22:05:30] - corrId_5bae898aa49799.59371850 - Reached AuthenticationService API 
[28/09/2018 22:05:30] - corrId_5bae898aa49799.59371850 - Token is valid 
[28/09/2018 22:05:42] - corrId_5bae899688e0e1.36640006 - Reached AuthenticationService API 
[28/09/2018 22:05:42] - corrId_5bae899688e0e1.36640006 - Token is valid 
[28/09/2018 22:06:44] - corrId_5bae89d4a2f802.33493346 - Reached AuthenticationService API 
[28/09/2018 22:06:44] - corrId_5bae89d4a2f802.33493346 - Token is valid 
[28/09/2018 22:07:47] - corrId_5bae8a134c6f57.74671137 - Reached AuthenticationService API 
[28/09/2018 22:07:47] - corrId_5bae8a134c6f57.74671137 - Token is valid 
[28/09/2018 22:08:13] - corrId_5bae8a2d6e3e75.91701257 - Reached AuthenticationService API 
[28/09/2018 22:08:13] - corrId_5bae8a2d6e3e75.91701257 - Token is valid 
[28/09/2018 22:09:07] - corrId_5bae8a63ddce84.56344430 - Reached AuthenticationService API 
[28/09/2018 22:09:07] - corrId_5bae8a63ddce84.56344430 - Token is valid 
[28/09/2018 22:10:46] - corrId_5bae8ac6391a22.29009045 - Reached AuthenticationService API 
[28/09/2018 22:10:46] - corrId_5bae8ac6391a22.29009045 - Token is valid 
[28/09/2018 22:11:13] - corrId_5bae8ae16163b5.96001129 - Reached AuthenticationService API 
[28/09/2018 22:11:13] - corrId_5bae8ae16163b5.96001129 - Token is valid 
[28/09/2018 22:11:32] - corrId_5bae8af4a56830.05244506 - Reached AuthenticationService API 
[28/09/2018 22:11:32] - corrId_5bae8af4a56830.05244506 - Token is valid 
[28/09/2018 22:12:02] - corrId_5bae8b12a3f117.38895604 - Reached AuthenticationService API 
[28/09/2018 22:12:02] - corrId_5bae8b12a3f117.38895604 - Token is valid 
[28/09/2018 22:13:00] - corrId_5bae8b4cb932b3.86095195 - Reached AuthenticationService API 
[28/09/2018 22:13:00] - corrId_5bae8b4cb932b3.86095195 - Token is valid 
[28/09/2018 22:14:31] - corrId_5bae8ba7c913a2.71414601 - Reached AuthenticationService API 
[28/09/2018 22:14:31] - corrId_5bae8ba7c913a2.71414601 - Token is valid 
[28/09/2018 22:14:46] - corrId_5bae8bb67b7bf6.09431126 - Reached AuthenticationService API 
[28/09/2018 22:14:46] - corrId_5bae8bb67b7bf6.09431126 - Token is valid 
[28/09/2018 22:17:40] - corrId_5bae8c64192ba3.43444377 - Reached AuthenticationService API 
[28/09/2018 22:17:40] - corrId_5bae8c64192ba3.43444377 - Token is valid 
[28/09/2018 22:20:14] - corrId_5bae8cfe166a67.48784065 - Reached AuthenticationService API 
[28/09/2018 22:20:14] - corrId_5bae8cfe166a67.48784065 - Token is valid 
[28/09/2018 22:22:15] - corrId_5bae8d77afc602.27427679 - Reached AuthenticationService API 
[28/09/2018 22:22:15] - corrId_5bae8d77afc602.27427679 - Token is valid 
[28/09/2018 22:22:42] - corrId_5bae8d922100e8.50735147 - Reached AuthenticationService API 
[28/09/2018 22:22:42] - corrId_5bae8d922100e8.50735147 - Token is valid 
[28/09/2018 22:22:55] - corrId_5bae8d9f5fd126.39653619 - Reached AuthenticationService API 
[28/09/2018 22:22:55] - corrId_5bae8d9f5fd126.39653619 - Token is valid 
[28/09/2018 22:23:41] - corrId_5bae8dcd5852b6.17847563 - Reached AuthenticationService API 
[28/09/2018 22:23:41] - corrId_5bae8dcd5852b6.17847563 - Token is valid 
[28/09/2018 22:24:03] - corrId_5bae8de33ae760.57379494 - Reached RentalManagementService API 
[28/09/2018 22:24:03] - corrId_5bae8de33ae760.57379494 - Establishing connection to DB 
[28/09/2018 22:24:03] - corrId_5bae8de33ae760.57379494 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 22:24:03] - corrId_5bae8de33ae760.57379494 - Token is valid 
[28/09/2018 22:24:03] - corrId_5bae8de33ae760.57379494 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 22:24:03] - corrId_5bae8de33ae760.57379494 - Executing query 
[28/09/2018 22:24:03] - corrId_5bae8de33ae760.57379494 - Query executed successfully 
[28/09/2018 22:24:03] - corrId_5bae8de347d790.55434754 - Reached RentalManagementService API 
[28/09/2018 22:24:03] - corrId_5bae8de347d790.55434754 - Establishing connection to DB 
[28/09/2018 22:24:03] - corrId_5bae8de347d790.55434754 - Processing ClearRentalBookings request. 
[28/09/2018 22:24:03] - corrId_5bae8de347d790.55434754 - Token is valid 
[28/09/2018 22:24:03] - corrId_5bae8de347d790.55434754 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 22:24:03] - corrId_5bae8de347d790.55434754 - Executing query 
[28/09/2018 22:24:03] - corrId_5bae8de347d790.55434754 - Query executed successfully 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Reached RentalManagementService API 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Establishing connection to DB 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Token is valid 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Executing query 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Query executed successfully 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Executing query 
[28/09/2018 22:24:03] - corrId_5bae8de34db390.49213286 - Query executed successfully 
[28/09/2018 22:24:04] - corrId_5bae8de4f32fa5.33726682 - Reached CustomerManagementService API 
[28/09/2018 22:24:04] - corrId_5bae8de4f32fa5.33726682 - Processing GetAllCustomersWithPremiumCode request. 
[28/09/2018 22:24:04] - corrId_5bae8de4f32fa5.33726682 - Token is valid 
[28/09/2018 22:24:04] - corrId_5bae8de4f32fa5.33726682 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 22:24:05] - corrId_5bae8de4f32fa5.33726682 - Establishing connection to DB 
[28/09/2018 22:24:05] - corrId_5bae8de4f32fa5.33726682 - Executing query 
[28/09/2018 22:24:05] - corrId_5bae8de4f32fa5.33726682 - Query executed successfully 
[28/09/2018 22:24:06] - corrId_5bae8de624f439.57645854 - Reached RentalManagementService API 
[28/09/2018 22:24:06] - corrId_5bae8de624f439.57645854 - Establishing connection to DB 
[28/09/2018 22:24:06] - corrId_5bae8de6257117.61817682 - Reached RentalManagementService API 
[28/09/2018 22:24:06] - corrId_5bae8de624f439.57645854 - Processing ClearRentalBookingsForUser request. 
[28/09/2018 22:24:06] - corrId_5bae8de6257117.61817682 - Establishing connection to DB 
[28/09/2018 22:24:06] - corrId_5bae8de624f439.57645854 - Token is valid 
[28/09/2018 22:24:06] - corrId_5bae8de624f439.57645854 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 22:24:06] - corrId_5bae8de6257117.61817682 - Processing ClearRentalBookings request. 
[28/09/2018 22:24:06] - corrId_5bae8de624f439.57645854 - Executing query 
[28/09/2018 22:24:06] - corrId_5bae8de6257117.61817682 - Token is valid 
[28/09/2018 22:24:06] - corrId_5bae8de6257117.61817682 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 22:24:06] - corrId_5bae8de624f439.57645854 - Query executed successfully 
[28/09/2018 22:24:06] - corrId_5bae8de6257117.61817682 - Executing query 
[28/09/2018 22:24:06] - corrId_5bae8de6257117.61817682 - Query executed successfully 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Reached RentalManagementService API 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Establishing connection to DB 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Processing GetVideosInStorageWithCount request. 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Token is valid 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Validated permissions for user admin (required 10, has 30) 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Executing query 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Query executed successfully 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Executing query 
[28/09/2018 22:24:06] - corrId_5bae8de62b0ef4.39888981 - Query executed successfully 
[28/09/2018 22:24:15] - corrId_5bae8defd7f375.82047822 - Reached AuthenticationService API 
[28/09/2018 22:24:15] - corrId_5bae8defd7f375.82047822 - Token is valid 
[28/09/2018 22:24:38] - corrId_5bae8e0690e3c8.78791305 - Reached AuthenticationService API 
[28/09/2018 22:24:38] - corrId_5bae8e0690e3c8.78791305 - Token is valid 
