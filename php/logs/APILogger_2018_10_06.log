[2018-10-06 11:00:33] - corrId_5bb879b1db49a7.31465541 - Reached AuthenticationService API 
[2018-10-06 11:00:33] - corrId_5bb879b1db49a7.31465541 - Token is valid 
[2018-10-06 11:41:41] - corrId_5bb883556b1030.19855292 - Reached AuthenticationService API 
[2018-10-06 11:41:41] - corrId_5bb883556b1030.19855292 - Token is valid 
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - Reached AuthenticationService API 
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - Processing Login request. 
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - Establishing connection to DB 
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - Executing query 
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - Query executed successfully 
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - User admin validated, starting token generation. 
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - Token generated succesfully. 
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - Authentication cookie has been set:  
[2018-10-06 12:13:07] - corrId_5bb88ab3196fa9.29305931 - User  succesfully logged in. 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Reached BookingManagementService API 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Establishing connection to DB 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Processing GetComingSoonMovies request. 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Token is valid 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Executing query 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Query executed successfully 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Executing query 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Query executed successfully 
[2018-10-06 12:13:07] - corrId_5bb88ab347d2f7.65644741 - Operation getComingSoonMovies was successful. 
[2018-10-06 12:13:08] - corrId_5bb88ab4a11721.40719673 - Reached CustomerManagementService API 
[2018-10-06 12:13:08] - corrId_5bb88ab4a11721.40719673 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 12:13:08] - corrId_5bb88ab4a11721.40719673 - Token is valid 
[2018-10-06 12:13:08] - corrId_5bb88ab4a11721.40719673 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:13:08] - corrId_5bb88ab4a11721.40719673 - Establishing connection to DB 
[2018-10-06 12:13:08] - corrId_5bb88ab4a11721.40719673 - Executing query 
[2018-10-06 12:13:08] - corrId_5bb88ab4a11721.40719673 - Query executed successfully 
[2018-10-06 12:13:08] - corrId_5bb88ab4a11721.40719673 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 12:13:10] - corrId_5bb88ab6cfe871.47318495 - Reached AuthenticationService API 
[2018-10-06 12:13:10] - corrId_5bb88ab6cfe871.47318495 - Token is valid 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Reached BookingManagementService API 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Establishing connection to DB 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Processing GetComingSoonMovies request. 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Token is valid 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Executing query 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Query executed successfully 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Executing query 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Query executed successfully 
[2018-10-06 12:13:10] - corrId_5bb88ab6ebfba2.39025200 - Operation getComingSoonMovies was successful. 
[2018-10-06 12:13:11] - corrId_5bb88ab769b5c0.53533086 - Reached CustomerManagementService API 
[2018-10-06 12:13:11] - corrId_5bb88ab769b5c0.53533086 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 12:13:11] - corrId_5bb88ab769b5c0.53533086 - Token is valid 
[2018-10-06 12:13:11] - corrId_5bb88ab769b5c0.53533086 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:13:11] - corrId_5bb88ab769b5c0.53533086 - Establishing connection to DB 
[2018-10-06 12:13:11] - corrId_5bb88ab769b5c0.53533086 - Executing query 
[2018-10-06 12:13:11] - corrId_5bb88ab769b5c0.53533086 - Query executed successfully 
[2018-10-06 12:13:11] - corrId_5bb88ab769b5c0.53533086 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 12:13:13] - corrId_5bb88ab94ad355.66736332 - Reached GetAllItemsService API 
[2018-10-06 12:13:13] - corrId_5bb88ab94ad355.66736332 - Processing GetAllDiscounts request. 
[2018-10-06 12:13:13] - corrId_5bb88ab94ad355.66736332 - Token is valid 
[2018-10-06 12:13:13] - corrId_5bb88ab94ad355.66736332 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:13:13] - corrId_5bb88ab94ad355.66736332 - Establishing connection to DB 
[2018-10-06 12:13:13] - corrId_5bb88ab94ad355.66736332 - Executing query 
[2018-10-06 12:13:13] - corrId_5bb88ab94ad355.66736332 - Query executed successfully 
[2018-10-06 12:13:44] - corrId_5bb88ad813a007.21131897 - Reached AuthenticationService API 
[2018-10-06 12:13:44] - corrId_5bb88ad813a007.21131897 - Token is valid 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Reached BookingManagementService API 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Establishing connection to DB 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Processing GetComingSoonMovies request. 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Token is valid 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Executing query 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Query executed successfully 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Executing query 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Query executed successfully 
[2018-10-06 12:13:44] - corrId_5bb88ad842bf51.07924113 - Operation getComingSoonMovies was successful. 
[2018-10-06 12:13:44] - corrId_5bb88ad87d4f14.08322283 - Reached CustomerManagementService API 
[2018-10-06 12:13:44] - corrId_5bb88ad87d4f14.08322283 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 12:13:44] - corrId_5bb88ad87d4f14.08322283 - Token is valid 
[2018-10-06 12:13:44] - corrId_5bb88ad87d4f14.08322283 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:13:44] - corrId_5bb88ad87d4f14.08322283 - Establishing connection to DB 
[2018-10-06 12:13:44] - corrId_5bb88ad87d4f14.08322283 - Executing query 
[2018-10-06 12:13:44] - corrId_5bb88ad87d4f14.08322283 - Query executed successfully 
[2018-10-06 12:13:44] - corrId_5bb88ad87d4f14.08322283 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 12:13:45] - corrId_5bb88ad93d3299.25814900 - Reached GetAllItemsService API 
[2018-10-06 12:13:45] - corrId_5bb88ad93d3299.25814900 - Processing GetAllDiscounts request. 
[2018-10-06 12:13:45] - corrId_5bb88ad93d3299.25814900 - Token is valid 
[2018-10-06 12:13:45] - corrId_5bb88ad93d3299.25814900 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:13:45] - corrId_5bb88ad93d3299.25814900 - Establishing connection to DB 
[2018-10-06 12:13:45] - corrId_5bb88ad93d3299.25814900 - Executing query 
[2018-10-06 12:13:45] - corrId_5bb88ad93d3299.25814900 - Query executed successfully 
[2018-10-06 12:14:42] - corrId_5bb88b12e3abd1.90359377 - Reached AuthenticationService API 
[2018-10-06 12:14:42] - corrId_5bb88b12e3abd1.90359377 - Token is valid 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Reached BookingManagementService API 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Establishing connection to DB 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Processing GetComingSoonMovies request. 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Token is valid 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Executing query 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Query executed successfully 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Executing query 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Query executed successfully 
[2018-10-06 12:14:43] - corrId_5bb88b1306b969.97654587 - Operation getComingSoonMovies was successful. 
[2018-10-06 12:14:43] - corrId_5bb88b138a9669.53237117 - Reached CustomerManagementService API 
[2018-10-06 12:14:43] - corrId_5bb88b138a9669.53237117 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 12:14:43] - corrId_5bb88b138a9669.53237117 - Token is valid 
[2018-10-06 12:14:43] - corrId_5bb88b138a9669.53237117 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:14:43] - corrId_5bb88b138a9669.53237117 - Establishing connection to DB 
[2018-10-06 12:14:43] - corrId_5bb88b138a9669.53237117 - Executing query 
[2018-10-06 12:14:43] - corrId_5bb88b138a9669.53237117 - Query executed successfully 
[2018-10-06 12:14:43] - corrId_5bb88b138a9669.53237117 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 12:14:44] - corrId_5bb88b14a280a7.98879553 - Reached GetAllItemsService API 
[2018-10-06 12:14:44] - corrId_5bb88b14a280a7.98879553 - Processing GetAllDiscounts request. 
[2018-10-06 12:14:44] - corrId_5bb88b14a280a7.98879553 - Token is valid 
[2018-10-06 12:14:44] - corrId_5bb88b14a280a7.98879553 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 12:14:44] - corrId_5bb88b14a280a7.98879553 - Establishing connection to DB 
[2018-10-06 12:14:44] - corrId_5bb88b14a280a7.98879553 - Executing query 
[2018-10-06 12:14:44] - corrId_5bb88b14a280a7.98879553 - Query executed successfully 
[2018-10-06 12:14:47] - corrId_5bb88b171709a0.89520329 - Reached AuthenticationService API 
[2018-10-06 12:14:47] - corrId_5bb88b171709a0.89520329 - Token is valid 
[2018-10-06 12:14:47] - corrId_5bb88b171709a0.89520329 - User admin logging out. 
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - Reached AuthenticationService API 
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - Processing Login request. 
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - Establishing connection to DB 
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - Executing query 
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - Query executed successfully 
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - User LuiVerRoma01 validated, starting token generation. 
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - Token generated succesfully. 
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - Authentication cookie has been set:  
[2018-10-06 12:14:51] - corrId_5bb88b1b233100.00154610 - User  succesfully logged in. 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Reached BookingManagementService API 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Establishing connection to DB 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Processing GetComingSoonMovies request. 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Token is valid 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Executing query 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Query executed successfully 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Executing query 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Query executed successfully 
[2018-10-06 12:14:51] - corrId_5bb88b1b42afc3.56223338 - Operation getComingSoonMovies was successful. 
[2018-10-06 12:14:52] - corrId_5bb88b1c82ffb2.70175705 - Reached CustomerManagementService API 
[2018-10-06 12:14:52] - corrId_5bb88b1c82ffb2.70175705 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 12:14:52] - corrId_5bb88b1c82ffb2.70175705 - Token is valid 
[2018-10-06 12:14:52] - corrId_5bb88b1c82ffb2.70175705 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:14:52] - corrId_5bb88b1c82ffb2.70175705 - Establishing connection to DB 
[2018-10-06 12:14:52] - corrId_5bb88b1c82ffb2.70175705 - Executing query 
[2018-10-06 12:14:52] - corrId_5bb88b1c82ffb2.70175705 - Query executed successfully 
[2018-10-06 12:14:52] - corrId_5bb88b1c82ffb2.70175705 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 12:14:53] - corrId_5bb88b1d6d19b8.13757838 - Reached GetAllItemsService API 
[2018-10-06 12:14:53] - corrId_5bb88b1d6d19b8.13757838 - Processing GetAllDiscounts request. 
[2018-10-06 12:14:53] - corrId_5bb88b1d6d19b8.13757838 - Token is valid 
[2018-10-06 12:14:53] - corrId_5bb88b1d6d19b8.13757838 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:14:53] - corrId_5bb88b1d6d19b8.13757838 - Establishing connection to DB 
[2018-10-06 12:14:53] - corrId_5bb88b1d6d19b8.13757838 - Executing query 
[2018-10-06 12:14:53] - corrId_5bb88b1d6d19b8.13757838 - Query executed successfully 
[2018-10-06 12:14:55] - corrId_5bb88b1fac6242.28261645 - Reached GetAllItemsService API 
[2018-10-06 12:14:55] - corrId_5bb88b1fac6242.28261645 - Processing GetAllDiscounts request. 
[2018-10-06 12:14:55] - corrId_5bb88b1fac6242.28261645 - Token is valid 
[2018-10-06 12:14:55] - corrId_5bb88b1fac6242.28261645 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:14:55] - corrId_5bb88b1fac6242.28261645 - Establishing connection to DB 
[2018-10-06 12:14:55] - corrId_5bb88b1fac6242.28261645 - Executing query 
[2018-10-06 12:14:55] - corrId_5bb88b1fac6242.28261645 - Query executed successfully 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Reached BookingManagementService API 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Establishing connection to DB 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Processing GetComingSoonMovies request. 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Token is valid 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Executing query 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Query executed successfully 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Executing query 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Query executed successfully 
[2018-10-06 12:18:53] - corrId_5bb88c0da3d369.28045820 - Operation getComingSoonMovies was successful. 
[2018-10-06 12:18:55] - corrId_5bb88c0f5e2cd2.22889526 - Reached CustomerManagementService API 
[2018-10-06 12:18:55] - corrId_5bb88c0f5e2cd2.22889526 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 12:18:55] - corrId_5bb88c0f5e2cd2.22889526 - Token is valid 
[2018-10-06 12:18:55] - corrId_5bb88c0f5e2cd2.22889526 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:18:55] - corrId_5bb88c0f5e2cd2.22889526 - Establishing connection to DB 
[2018-10-06 12:18:55] - corrId_5bb88c0f5e2cd2.22889526 - Executing query 
[2018-10-06 12:18:55] - corrId_5bb88c0f5e2cd2.22889526 - Query executed successfully 
[2018-10-06 12:18:55] - corrId_5bb88c0f5e2cd2.22889526 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 12:19:08] - corrId_5bb88c1c9c2e01.43550606 - Reached RestitutionManagementService API 
[2018-10-06 12:19:08] - corrId_5bb88c1c9c2e01.43550606 - Establishing connection to DB 
[2018-10-06 12:19:08] - corrId_5bb88c1c9c2e01.43550606 - Processing GetRentedVideoForUser request. 
[2018-10-06 12:19:08] - corrId_5bb88c1c9c2e01.43550606 - Token is valid 
[2018-10-06 12:19:08] - corrId_5bb88c1c9c2e01.43550606 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:19:08] - corrId_5bb88c1c9c2e01.43550606 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 12:19:08] - corrId_5bb88c1c9c2e01.43550606 - Executing query 
[2018-10-06 12:19:08] - corrId_5bb88c1c9c2e01.43550606 - Query executed successfully 
[2018-10-06 12:19:29] - corrId_5bb88c31c89003.79591880 - Reached RentalManagementService API 
[2018-10-06 12:19:29] - corrId_5bb88c31c89003.79591880 - Establishing connection to DB 
[2018-10-06 12:19:29] - corrId_5bb88c31c89003.79591880 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 12:19:29] - corrId_5bb88c31c89003.79591880 - Token is valid 
[2018-10-06 12:19:29] - corrId_5bb88c31c89003.79591880 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:19:29] - corrId_5bb88c31c89003.79591880 - Executing query 
[2018-10-06 12:19:29] - corrId_5bb88c31c89003.79591880 - Query executed successfully 
[2018-10-06 12:19:29] - corrId_5bb88c31d486a6.12909695 - Reached RentalManagementService API 
[2018-10-06 12:19:29] - corrId_5bb88c31d486a6.12909695 - Establishing connection to DB 
[2018-10-06 12:19:29] - corrId_5bb88c31d486a6.12909695 - Processing ClearRentalBookings request. 
[2018-10-06 12:19:29] - corrId_5bb88c31d486a6.12909695 - Token is valid 
[2018-10-06 12:19:29] - corrId_5bb88c31d486a6.12909695 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:19:29] - corrId_5bb88c31d486a6.12909695 - Executing query 
[2018-10-06 12:19:29] - corrId_5bb88c31d486a6.12909695 - Query executed successfully 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Reached RentalManagementService API 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Establishing connection to DB 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Token is valid 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Executing query 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Query executed successfully 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Executing query 
[2018-10-06 12:19:29] - corrId_5bb88c31dc58a8.01014924 - Query executed successfully 
[2018-10-06 12:19:32] - corrId_5bb88c343319c4.89059388 - Reached CustomerManagementService API 
[2018-10-06 12:19:32] - corrId_5bb88c343319c4.89059388 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 12:19:32] - corrId_5bb88c343319c4.89059388 - Token is valid 
[2018-10-06 12:19:32] - corrId_5bb88c343319c4.89059388 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:19:32] - corrId_5bb88c343319c4.89059388 - Establishing connection to DB 
[2018-10-06 12:19:32] - corrId_5bb88c343319c4.89059388 - Executing query 
[2018-10-06 12:19:32] - corrId_5bb88c343319c4.89059388 - Query executed successfully 
[2018-10-06 12:19:32] - corrId_5bb88c343319c4.89059388 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 12:19:46] - corrId_5bb88c42a576b0.79348072 - Reached RestitutionManagementService API 
[2018-10-06 12:19:46] - corrId_5bb88c42a576b0.79348072 - Establishing connection to DB 
[2018-10-06 12:19:46] - corrId_5bb88c42a576b0.79348072 - Processing GetRentedVideoForUser request. 
[2018-10-06 12:19:46] - corrId_5bb88c42a576b0.79348072 - Token is valid 
[2018-10-06 12:19:46] - corrId_5bb88c42a576b0.79348072 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:19:46] - corrId_5bb88c42a576b0.79348072 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 12:19:46] - corrId_5bb88c42a576b0.79348072 - Executing query 
[2018-10-06 12:19:46] - corrId_5bb88c42a576b0.79348072 - Query executed successfully 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Reached BookingManagementService API 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Establishing connection to DB 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Processing GetComingSoonMovies request. 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Token is valid 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Executing query 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Query executed successfully 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Executing query 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Query executed successfully 
[2018-10-06 12:34:26] - corrId_5bb88fb241ade5.08914661 - Operation getComingSoonMovies was successful. 
[2018-10-06 12:38:13] - corrId_5bb8909575d387.89848553 - Reached RestitutionManagementService API 
[2018-10-06 12:38:13] - corrId_5bb8909575d387.89848553 - Establishing connection to DB 
[2018-10-06 12:38:13] - corrId_5bb8909575d387.89848553 - Processing GetRentedVideoForUser request. 
[2018-10-06 12:38:13] - corrId_5bb8909575d387.89848553 - Token is valid 
[2018-10-06 12:38:13] - corrId_5bb8909575d387.89848553 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 12:38:13] - corrId_5bb8909575d387.89848553 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 12:38:13] - corrId_5bb8909575d387.89848553 - Executing query 
[2018-10-06 12:38:13] - corrId_5bb8909575d387.89848553 - Query executed successfully 
[2018-10-06 13:08:27] - corrId_5bb897ab356fc6.21262072 - Reached CustomerManagementService API 
[2018-10-06 13:08:27] - corrId_5bb897ab356fc6.21262072 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:08:27] - corrId_5bb897ab356fc6.21262072 - Token is valid 
[2018-10-06 13:08:27] - corrId_5bb897ab356fc6.21262072 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 13:08:27] - corrId_5bb897ab356fc6.21262072 - Establishing connection to DB 
[2018-10-06 13:08:27] - corrId_5bb897ab356fc6.21262072 - Executing query 
[2018-10-06 13:08:27] - corrId_5bb897ab356fc6.21262072 - Query executed successfully 
[2018-10-06 13:08:27] - corrId_5bb897ab356fc6.21262072 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Reached BookingManagementService API 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Establishing connection to DB 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Processing GetComingSoonMovies request. 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Token is valid 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Executing query 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Query executed successfully 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Executing query 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Query executed successfully 
[2018-10-06 13:11:13] - corrId_5bb898510ef7f7.79244614 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Reached BookingManagementService API 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Establishing connection to DB 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Processing GetUsersForBooking request. 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Token is valid 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Query: SELECT pr.id_prenotazione, cl.id_cliente, cl.nome, cl.cognome, fi.titolo, fi.id_film
            FROM prenotazione pr
            INNER JOIN film fi
            ON pr.id_film = fi.id_film
            INNER JOIN cliente cl
            ON pr.id_cliente = cl.id_cliente
            WHERE pr.id_film = 4
            AND pr.id_punto_vendita = 1 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Executing query 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Query executed successfully 
[2018-10-06 13:11:14] - corrId_5bb898527d2311.30982180 - Operation getUsersForBooking was successful. 
[2018-10-06 13:11:20] - corrId_5bb898584eedc7.94556581 - Reached RestitutionManagementService API 
[2018-10-06 13:11:20] - corrId_5bb898584eedc7.94556581 - Establishing connection to DB 
[2018-10-06 13:11:20] - corrId_5bb898584eedc7.94556581 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:11:20] - corrId_5bb898584eedc7.94556581 - Token is valid 
[2018-10-06 13:11:20] - corrId_5bb898584eedc7.94556581 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 13:11:20] - corrId_5bb898584eedc7.94556581 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:11:20] - corrId_5bb898584eedc7.94556581 - Executing query 
[2018-10-06 13:11:20] - corrId_5bb898584eedc7.94556581 - Query executed successfully 
[2018-10-06 13:11:23] - corrId_5bb8985b0c8ae2.03611117 - Reached CustomerManagementService API 
[2018-10-06 13:11:23] - corrId_5bb8985b0c8ae2.03611117 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:11:23] - corrId_5bb8985b0c8ae2.03611117 - Token is valid 
[2018-10-06 13:11:23] - corrId_5bb8985b0c8ae2.03611117 - Validated permissions for user LuiVerRoma01 (required 10, has 10) 
[2018-10-06 13:11:23] - corrId_5bb8985b0c8ae2.03611117 - Establishing connection to DB 
[2018-10-06 13:11:23] - corrId_5bb8985b0c8ae2.03611117 - Executing query 
[2018-10-06 13:11:23] - corrId_5bb8985b0c8ae2.03611117 - Query executed successfully 
[2018-10-06 13:11:23] - corrId_5bb8985b0c8ae2.03611117 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:11:24] - corrId_5bb8985cd3fa45.65290392 - Reached AuthenticationService API 
[2018-10-06 13:11:24] - corrId_5bb8985cd3fa45.65290392 - Token is valid 
[2018-10-06 13:11:24] - corrId_5bb8985cd3fa45.65290392 - User LuiVerRoma01 logging out. 
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - Reached AuthenticationService API 
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - Processing Login request. 
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - Establishing connection to DB 
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - Executing query 
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - Query executed successfully 
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - User admin validated, starting token generation. 
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - Token generated succesfully. 
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - Authentication cookie has been set:  
[2018-10-06 13:11:27] - corrId_5bb8985f1cd105.26481632 - User  succesfully logged in. 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Reached BookingManagementService API 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Establishing connection to DB 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Processing GetComingSoonMovies request. 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Token is valid 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Executing query 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Query executed successfully 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Executing query 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Query executed successfully 
[2018-10-06 13:11:27] - corrId_5bb8985f42a8a8.32444411 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Reached SalesManagementService API 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Establishing connection to DB 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Processing GetStoresAndSales request. 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Token is valid 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Query: SELECT pv.id_punto_vendita, pv.nome, pv.indirizzo, ci.nome as citta_nome, noleggi.incasso_giornaliero
            FROM punto_vendita pv
            INNER JOIN citta ci
            ON pv.id_citta = ci.id_citta 
            LEFT JOIN (SELECT SUM(no.prezzo_totale) as incasso_giornaliero, no.id_noleggio, no.id_punto_vendita 
                        FROM noleggio no 
                        WHERE no.data_inizio >= '2018-10-06' 
                        AND no.data_inizio <= '2018-10-06 23:59') as noleggi
            ON noleggi.id_punto_vendita = pv.id_punto_vendita            
            
            GROUP BY pv.id_punto_vendita; 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Executing query 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Query executed successfully 
[2018-10-06 13:11:28] - corrId_5bb89860db68c5.37946637 - Operation getStoresAndSales was successful. 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Reached SalesManagementService API 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Establishing connection to DB 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Processing GetSalesForEmployees request. 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Token is valid 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Query: SELECT id_dipendente, nome, cognome
            FROM dipendente
            WHERE id_punto_vendita = 1;
            
            SELECT SUM(no.prezzo_totale) as incasso_totale, no.id_dipendente
            FROM noleggio no
            WHERE no.id_punto_vendita = 1
            AND no.data_inizio >= '2018-10-06'
            AND no.data_inizio <= '2018-10-06 23:59'
            GROUP BY no.id_dipendente;
            
            SELECT SUM(no.prezzo_totale) as incasso_totale, no.id_dipendente
            FROM storico_noleggio no
            WHERE no.id_punto_vendita = 1
            AND no.data_inizio >= '2018-10-06'
            AND no.data_inizio <= '2018-10-06 23:59'
            GROUP BY no.id_dipendente; 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Executing multi query 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Multi query executed successfully 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - LOOP N. 0 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - LOOP N. 1 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - LOOP N. 2 
[2018-10-06 13:11:29] - corrId_5bb89861ded2d7.18398639 - Operation getSalesForEmployees was successful. 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Reached SalesManagementService API 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Establishing connection to DB 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Processing GetStoresAndSales request. 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Token is valid 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Query: SELECT pv.id_punto_vendita, pv.nome, pv.indirizzo, ci.nome as citta_nome, noleggi.incasso_giornaliero
            FROM punto_vendita pv
            INNER JOIN citta ci
            ON pv.id_citta = ci.id_citta 
            LEFT JOIN (SELECT SUM(no.prezzo_totale) as incasso_giornaliero, no.id_noleggio, no.id_punto_vendita 
                        FROM noleggio no 
                        WHERE no.data_inizio >= '2018-10-05' 
                        AND no.data_inizio <= '2018-10-06 23:59') as noleggi
            ON noleggi.id_punto_vendita = pv.id_punto_vendita            
            
            GROUP BY pv.id_punto_vendita; 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Executing query 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Query executed successfully 
[2018-10-06 13:11:37] - corrId_5bb8986977e598.21304436 - Operation getStoresAndSales was successful. 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Reached SalesManagementService API 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Establishing connection to DB 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Processing GetSalesForEmployees request. 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Token is valid 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Query: SELECT id_dipendente, nome, cognome
            FROM dipendente
            WHERE id_punto_vendita = 1;
            
            SELECT SUM(no.prezzo_totale) as incasso_totale, no.id_dipendente
            FROM noleggio no
            WHERE no.id_punto_vendita = 1
            AND no.data_inizio >= '2018-10-05'
            AND no.data_inizio <= '2018-10-06 23:59'
            GROUP BY no.id_dipendente;
            
            SELECT SUM(no.prezzo_totale) as incasso_totale, no.id_dipendente
            FROM storico_noleggio no
            WHERE no.id_punto_vendita = 1
            AND no.data_inizio >= '2018-10-05'
            AND no.data_inizio <= '2018-10-06 23:59'
            GROUP BY no.id_dipendente; 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Executing multi query 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Multi query executed successfully 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - LOOP N. 0 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - LOOP N. 1 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - LOOP N. 2 
[2018-10-06 13:11:39] - corrId_5bb8986bdf0af9.81960761 - Operation getSalesForEmployees was successful. 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Reached SalesManagementService API 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Establishing connection to DB 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Processing GetStoresAndSales request. 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Token is valid 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Query: SELECT pv.id_punto_vendita, pv.nome, pv.indirizzo, ci.nome as citta_nome, noleggi.incasso_giornaliero
            FROM punto_vendita pv
            INNER JOIN citta ci
            ON pv.id_citta = ci.id_citta 
            LEFT JOIN (SELECT SUM(no.prezzo_totale) as incasso_giornaliero, no.id_noleggio, no.id_punto_vendita 
                        FROM noleggio no 
                        WHERE no.data_inizio >= '2018-10-04' 
                        AND no.data_inizio <= '2018-10-06 23:59') as noleggi
            ON noleggi.id_punto_vendita = pv.id_punto_vendita            
            
            GROUP BY pv.id_punto_vendita; 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Executing query 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Query executed successfully 
[2018-10-06 13:11:44] - corrId_5bb89870829218.31310259 - Operation getStoresAndSales was successful. 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Reached SalesManagementService API 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Establishing connection to DB 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Processing GetSalesForEmployees request. 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Token is valid 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Query: SELECT id_dipendente, nome, cognome
            FROM dipendente
            WHERE id_punto_vendita = 1;
            
            SELECT SUM(no.prezzo_totale) as incasso_totale, no.id_dipendente
            FROM noleggio no
            WHERE no.id_punto_vendita = 1
            AND no.data_inizio >= '2018-10-04'
            AND no.data_inizio <= '2018-10-06 23:59'
            GROUP BY no.id_dipendente;
            
            SELECT SUM(no.prezzo_totale) as incasso_totale, no.id_dipendente
            FROM storico_noleggio no
            WHERE no.id_punto_vendita = 1
            AND no.data_inizio >= '2018-10-04'
            AND no.data_inizio <= '2018-10-06 23:59'
            GROUP BY no.id_dipendente; 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Executing multi query 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Multi query executed successfully 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - LOOP N. 0 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - LOOP N. 1 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - LOOP N. 2 
[2018-10-06 13:11:45] - corrId_5bb89871e5bb88.23471363 - Operation getSalesForEmployees was successful. 
[2018-10-06 13:23:04] - corrId_5bb89b18796a98.36018775 - Reached AuthenticationService API 
[2018-10-06 13:23:04] - corrId_5bb89b18796a98.36018775 - Token is valid 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Reached BookingManagementService API 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Establishing connection to DB 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Processing GetComingSoonMovies request. 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Token is valid 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Executing query 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Query executed successfully 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Executing query 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Query executed successfully 
[2018-10-06 13:23:04] - corrId_5bb89b18a3a749.64875489 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Reached SalesManagementService API 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Establishing connection to DB 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Processing GetStoresAndSales request. 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Token is valid 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Query: SELECT pv.id_punto_vendita, pv.nome, pv.indirizzo, ci.nome as citta_nome, noleggi.incasso_giornaliero
            FROM punto_vendita pv
            INNER JOIN citta ci
            ON pv.id_citta = ci.id_citta 
            LEFT JOIN (SELECT SUM(no.prezzo_totale) as incasso_giornaliero, no.id_noleggio, no.id_punto_vendita 
                        FROM noleggio no 
                        WHERE no.data_inizio >= '2018-10-06' 
                        AND no.data_inizio <= '2018-10-06 23:59') as noleggi
            ON noleggi.id_punto_vendita = pv.id_punto_vendita            
            
            GROUP BY pv.id_punto_vendita; 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Executing query 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Query executed successfully 
[2018-10-06 13:23:05] - corrId_5bb89b190d81d7.82479247 - Operation getStoresAndSales was successful. 
[2018-10-06 13:23:26] - corrId_5bb89b2e0bf767.49837513 - Reached AuthenticationService API 
[2018-10-06 13:23:26] - corrId_5bb89b2e0bf767.49837513 - Token is valid 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Reached BookingManagementService API 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Establishing connection to DB 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Processing GetComingSoonMovies request. 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Token is valid 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Executing query 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Query executed successfully 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Executing query 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Query executed successfully 
[2018-10-06 13:23:26] - corrId_5bb89b2e29feb1.04342176 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:23:26] - corrId_5bb89b2e511167.97449899 - Reached CustomerManagementService API 
[2018-10-06 13:23:26] - corrId_5bb89b2e511167.97449899 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:23:26] - corrId_5bb89b2e511167.97449899 - Token is valid 
[2018-10-06 13:23:26] - corrId_5bb89b2e511167.97449899 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:23:26] - corrId_5bb89b2e511167.97449899 - Establishing connection to DB 
[2018-10-06 13:23:26] - corrId_5bb89b2e511167.97449899 - Executing query 
[2018-10-06 13:23:26] - corrId_5bb89b2e511167.97449899 - Query executed successfully 
[2018-10-06 13:23:26] - corrId_5bb89b2e511167.97449899 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:24:57] - corrId_5bb89b89579ff5.14959674 - Reached AuthenticationService API 
[2018-10-06 13:24:57] - corrId_5bb89b89579ff5.14959674 - Token is valid 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Reached BookingManagementService API 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Establishing connection to DB 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Processing GetComingSoonMovies request. 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Token is valid 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Executing query 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Query executed successfully 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Executing query 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Query executed successfully 
[2018-10-06 13:24:57] - corrId_5bb89b896c9ee1.29032994 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:24:57] - corrId_5bb89b89dd1698.01959085 - Reached CustomerManagementService API 
[2018-10-06 13:24:57] - corrId_5bb89b89dd1698.01959085 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:24:57] - corrId_5bb89b89dd1698.01959085 - Token is valid 
[2018-10-06 13:24:57] - corrId_5bb89b89dd1698.01959085 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:24:57] - corrId_5bb89b89dd1698.01959085 - Establishing connection to DB 
[2018-10-06 13:24:57] - corrId_5bb89b89dd1698.01959085 - Executing query 
[2018-10-06 13:24:57] - corrId_5bb89b89dd1698.01959085 - Query executed successfully 
[2018-10-06 13:24:57] - corrId_5bb89b89dd1698.01959085 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:25:04] - corrId_5bb89b90877053.95521091 - Reached RestitutionManagementService API 
[2018-10-06 13:25:04] - corrId_5bb89b90877053.95521091 - Establishing connection to DB 
[2018-10-06 13:25:04] - corrId_5bb89b90877053.95521091 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:25:04] - corrId_5bb89b90877053.95521091 - Token is valid 
[2018-10-06 13:25:04] - corrId_5bb89b90877053.95521091 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:25:04] - corrId_5bb89b90877053.95521091 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[2018-10-06 13:25:04] - corrId_5bb89b90877053.95521091 - Executing query 
[2018-10-06 13:25:04] - corrId_5bb89b90877053.95521091 - Query executed successfully 
[2018-10-06 13:28:57] - corrId_5bb89c790c4932.90777917 - Reached AuthenticationService API 
[2018-10-06 13:28:57] - corrId_5bb89c790c4932.90777917 - Token is valid 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Reached BookingManagementService API 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Establishing connection to DB 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Processing GetComingSoonMovies request. 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Token is valid 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Executing query 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Query executed successfully 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Executing query 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Query executed successfully 
[2018-10-06 13:28:57] - corrId_5bb89c792fedf4.28244457 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:28:57] - corrId_5bb89c79a4a525.25528297 - Reached CustomerManagementService API 
[2018-10-06 13:28:57] - corrId_5bb89c79a4a525.25528297 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:28:57] - corrId_5bb89c79a4a525.25528297 - Token is valid 
[2018-10-06 13:28:57] - corrId_5bb89c79a4a525.25528297 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:28:57] - corrId_5bb89c79a4a525.25528297 - Establishing connection to DB 
[2018-10-06 13:28:57] - corrId_5bb89c79a4a525.25528297 - Executing query 
[2018-10-06 13:28:57] - corrId_5bb89c79a4a525.25528297 - Query executed successfully 
[2018-10-06 13:28:57] - corrId_5bb89c79a4a525.25528297 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:28:59] - corrId_5bb89c7b442ce5.15113435 - Reached RestitutionManagementService API 
[2018-10-06 13:28:59] - corrId_5bb89c7b442ce5.15113435 - Establishing connection to DB 
[2018-10-06 13:28:59] - corrId_5bb89c7b442ce5.15113435 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:28:59] - corrId_5bb89c7b442ce5.15113435 - Token is valid 
[2018-10-06 13:28:59] - corrId_5bb89c7b442ce5.15113435 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:28:59] - corrId_5bb89c7b442ce5.15113435 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:28:59] - corrId_5bb89c7b442ce5.15113435 - Executing query 
[2018-10-06 13:28:59] - corrId_5bb89c7b442ce5.15113435 - Query executed successfully 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Reached BookingManagementService API 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Establishing connection to DB 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Processing GetComingSoonMovies request. 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Token is valid 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Executing query 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Query executed successfully 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Executing query 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Query executed successfully 
[2018-10-06 13:29:12] - corrId_5bb89c88de1721.22375026 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:29:15] - corrId_5bb89c8b4d2d47.01216406 - Reached RestitutionManagementService API 
[2018-10-06 13:29:15] - corrId_5bb89c8b4d2d47.01216406 - Establishing connection to DB 
[2018-10-06 13:29:15] - corrId_5bb89c8b4d2d47.01216406 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:29:15] - corrId_5bb89c8b4d2d47.01216406 - Token is valid 
[2018-10-06 13:29:15] - corrId_5bb89c8b4d2d47.01216406 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:29:15] - corrId_5bb89c8b4d2d47.01216406 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:29:15] - corrId_5bb89c8b4d2d47.01216406 - Executing query 
[2018-10-06 13:29:15] - corrId_5bb89c8b4d2d47.01216406 - Query executed successfully 
[2018-10-06 13:29:31] - corrId_5bb89c9b7a9d48.36407801 - Reached AuthenticationService API 
[2018-10-06 13:29:31] - corrId_5bb89c9b7a9d48.36407801 - Token is valid 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Reached BookingManagementService API 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Establishing connection to DB 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Processing GetComingSoonMovies request. 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Token is valid 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Executing query 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Query executed successfully 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Executing query 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Query executed successfully 
[2018-10-06 13:29:31] - corrId_5bb89c9b8b3713.90509015 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Reached SalesManagementService API 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Establishing connection to DB 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Processing GetStoresAndSales request. 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Token is valid 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Query: SELECT pv.id_punto_vendita, pv.nome, pv.indirizzo, ci.nome as citta_nome, noleggi.incasso_giornaliero
            FROM punto_vendita pv
            INNER JOIN citta ci
            ON pv.id_citta = ci.id_citta 
            LEFT JOIN (SELECT SUM(no.prezzo_totale) as incasso_giornaliero, no.id_noleggio, no.id_punto_vendita 
                        FROM noleggio no 
                        WHERE no.data_inizio >= '2018-10-06' 
                        AND no.data_inizio <= '2018-10-06 23:59') as noleggi
            ON noleggi.id_punto_vendita = pv.id_punto_vendita            
            
            GROUP BY pv.id_punto_vendita; 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Executing query 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Query executed successfully 
[2018-10-06 13:29:31] - corrId_5bb89c9bee9505.29318733 - Operation getStoresAndSales was successful. 
[2018-10-06 13:29:35] - corrId_5bb89c9fdc1ac5.84284517 - Reached CustomerManagementService API 
[2018-10-06 13:29:35] - corrId_5bb89c9fdc1ac5.84284517 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:29:35] - corrId_5bb89c9fdc1ac5.84284517 - Token is valid 
[2018-10-06 13:29:35] - corrId_5bb89c9fdc1ac5.84284517 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:29:35] - corrId_5bb89c9fdc1ac5.84284517 - Establishing connection to DB 
[2018-10-06 13:29:35] - corrId_5bb89c9fdc1ac5.84284517 - Executing query 
[2018-10-06 13:29:35] - corrId_5bb89c9fdc1ac5.84284517 - Query executed successfully 
[2018-10-06 13:29:35] - corrId_5bb89c9fdc1ac5.84284517 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:29:37] - corrId_5bb89ca19b7179.00468197 - Reached RestitutionManagementService API 
[2018-10-06 13:29:37] - corrId_5bb89ca19b7179.00468197 - Establishing connection to DB 
[2018-10-06 13:29:37] - corrId_5bb89ca19b7179.00468197 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:29:37] - corrId_5bb89ca19b7179.00468197 - Token is valid 
[2018-10-06 13:29:37] - corrId_5bb89ca19b7179.00468197 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:29:37] - corrId_5bb89ca19b7179.00468197 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:29:37] - corrId_5bb89ca19b7179.00468197 - Executing query 
[2018-10-06 13:29:37] - corrId_5bb89ca19b7179.00468197 - Query executed successfully 
[2018-10-06 13:30:17] - corrId_5bb89cc94371f8.18818921 - Reached AuthenticationService API 
[2018-10-06 13:30:17] - corrId_5bb89cc94371f8.18818921 - Token is valid 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Reached BookingManagementService API 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Establishing connection to DB 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Processing GetComingSoonMovies request. 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Token is valid 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Executing query 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Query executed successfully 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Executing query 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Query executed successfully 
[2018-10-06 13:30:17] - corrId_5bb89cc96771b2.99778000 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:30:17] - corrId_5bb89cc9993ff8.07138401 - Reached CustomerManagementService API 
[2018-10-06 13:30:17] - corrId_5bb89cc9993ff8.07138401 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:30:17] - corrId_5bb89cc9993ff8.07138401 - Token is valid 
[2018-10-06 13:30:17] - corrId_5bb89cc9993ff8.07138401 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:30:17] - corrId_5bb89cc9993ff8.07138401 - Establishing connection to DB 
[2018-10-06 13:30:17] - corrId_5bb89cc9993ff8.07138401 - Executing query 
[2018-10-06 13:30:17] - corrId_5bb89cc9993ff8.07138401 - Query executed successfully 
[2018-10-06 13:30:17] - corrId_5bb89cc9993ff8.07138401 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:30:19] - corrId_5bb89ccb0a3753.78038076 - Reached RestitutionManagementService API 
[2018-10-06 13:30:19] - corrId_5bb89ccb0a3753.78038076 - Establishing connection to DB 
[2018-10-06 13:30:19] - corrId_5bb89ccb0a3753.78038076 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:30:19] - corrId_5bb89ccb0a3753.78038076 - Token is valid 
[2018-10-06 13:30:19] - corrId_5bb89ccb0a3753.78038076 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:30:19] - corrId_5bb89ccb0a3753.78038076 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:30:19] - corrId_5bb89ccb0a3753.78038076 - Executing query 
[2018-10-06 13:30:19] - corrId_5bb89ccb0a3753.78038076 - Query executed successfully 
[2018-10-06 13:37:50] - corrId_5bb89e8e8dce80.84660123 - Reached AuthenticationService API 
[2018-10-06 13:37:50] - corrId_5bb89e8e8dce80.84660123 - Token is valid 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Reached BookingManagementService API 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Establishing connection to DB 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Processing GetComingSoonMovies request. 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Token is valid 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Executing query 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Query executed successfully 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Executing query 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Query executed successfully 
[2018-10-06 13:37:50] - corrId_5bb89e8eac9179.23994604 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:37:50] - corrId_5bb89e8eedd3e2.92097444 - Reached CustomerManagementService API 
[2018-10-06 13:37:50] - corrId_5bb89e8eedd3e2.92097444 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:37:50] - corrId_5bb89e8eedd3e2.92097444 - Token is valid 
[2018-10-06 13:37:50] - corrId_5bb89e8eedd3e2.92097444 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:37:50] - corrId_5bb89e8eedd3e2.92097444 - Establishing connection to DB 
[2018-10-06 13:37:50] - corrId_5bb89e8eedd3e2.92097444 - Executing query 
[2018-10-06 13:37:50] - corrId_5bb89e8eedd3e2.92097444 - Query executed successfully 
[2018-10-06 13:37:50] - corrId_5bb89e8eedd3e2.92097444 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:40:13] - corrId_5bb89f1dab5518.13680903 - Reached AuthenticationService API 
[2018-10-06 13:40:13] - corrId_5bb89f1dab5518.13680903 - Token is valid 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Reached BookingManagementService API 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Establishing connection to DB 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Processing GetComingSoonMovies request. 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Token is valid 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Executing query 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Query executed successfully 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Executing query 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Query executed successfully 
[2018-10-06 13:40:13] - corrId_5bb89f1dcc8930.63923033 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:40:19] - corrId_5bb89f23a06ac3.81943661 - Reached StorageManagementService API 
[2018-10-06 13:40:19] - corrId_5bb89f23a06ac3.81943661 - Processing GetVideosInStorage request. 
[2018-10-06 13:40:19] - corrId_5bb89f23a06ac3.81943661 - Token is valid 
[2018-10-06 13:40:19] - corrId_5bb89f23a06ac3.81943661 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:40:19] - corrId_5bb89f23a06ac3.81943661 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 13:40:19] - corrId_5bb89f23a06ac3.81943661 - Establishing connection to DB 
[2018-10-06 13:40:19] - corrId_5bb89f23a06ac3.81943661 - Executing query 
[2018-10-06 13:40:19] - corrId_5bb89f23a06ac3.81943661 - Query executed successfully 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Reached SalesManagementService API 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Establishing connection to DB 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Processing GetStoresAndSales request. 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Token is valid 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Query: SELECT pv.id_punto_vendita, pv.nome, pv.indirizzo, ci.nome as citta_nome, noleggi.incasso_giornaliero
            FROM punto_vendita pv
            INNER JOIN citta ci
            ON pv.id_citta = ci.id_citta 
            LEFT JOIN (SELECT SUM(no.prezzo_totale) as incasso_giornaliero, no.id_noleggio, no.id_punto_vendita 
                        FROM noleggio no 
                        WHERE no.data_inizio >= '2018-10-06' 
                        AND no.data_inizio <= '2018-10-06 23:59') as noleggi
            ON noleggi.id_punto_vendita = pv.id_punto_vendita            
            
            GROUP BY pv.id_punto_vendita; 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Executing query 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Query executed successfully 
[2018-10-06 13:40:20] - corrId_5bb89f24116192.93817658 - Operation getStoresAndSales was successful. 
[2018-10-06 13:40:22] - corrId_5bb89f2626f5c4.95772945 - Reached CustomerManagementService API 
[2018-10-06 13:40:22] - corrId_5bb89f2626f5c4.95772945 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:40:22] - corrId_5bb89f2626f5c4.95772945 - Token is valid 
[2018-10-06 13:40:22] - corrId_5bb89f2626f5c4.95772945 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:40:22] - corrId_5bb89f2626f5c4.95772945 - Establishing connection to DB 
[2018-10-06 13:40:22] - corrId_5bb89f2626f5c4.95772945 - Executing query 
[2018-10-06 13:40:22] - corrId_5bb89f2626f5c4.95772945 - Query executed successfully 
[2018-10-06 13:40:22] - corrId_5bb89f2626f5c4.95772945 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:44:29] - corrId_5bb8a01da96995.29416874 - Reached AuthenticationService API 
[2018-10-06 13:44:29] - corrId_5bb8a01da96995.29416874 - Token is valid 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Reached BookingManagementService API 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Establishing connection to DB 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Processing GetComingSoonMovies request. 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Token is valid 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Executing query 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Query executed successfully 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Executing query 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Query executed successfully 
[2018-10-06 13:44:29] - corrId_5bb8a01dce8588.02262176 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Reached SalesManagementService API 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Establishing connection to DB 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Processing GetStoresAndSales request. 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Token is valid 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Query: SELECT pv.id_punto_vendita, pv.nome, pv.indirizzo, ci.nome as citta_nome, noleggi.incasso_giornaliero
            FROM punto_vendita pv
            INNER JOIN citta ci
            ON pv.id_citta = ci.id_citta 
            LEFT JOIN (SELECT SUM(no.prezzo_totale) as incasso_giornaliero, no.id_noleggio, no.id_punto_vendita 
                        FROM noleggio no 
                        WHERE no.data_inizio >= '2018-10-06' 
                        AND no.data_inizio <= '2018-10-06 23:59') as noleggi
            ON noleggi.id_punto_vendita = pv.id_punto_vendita            
            
            GROUP BY pv.id_punto_vendita; 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Executing query 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Query executed successfully 
[2018-10-06 13:44:30] - corrId_5bb8a01ea9b7a1.70709792 - Operation getStoresAndSales was successful. 
[2018-10-06 13:44:31] - corrId_5bb8a01f926233.92079291 - Reached CustomerManagementService API 
[2018-10-06 13:44:31] - corrId_5bb8a01f926233.92079291 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:44:31] - corrId_5bb8a01f926233.92079291 - Token is valid 
[2018-10-06 13:44:31] - corrId_5bb8a01f926233.92079291 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:44:31] - corrId_5bb8a01f926233.92079291 - Establishing connection to DB 
[2018-10-06 13:44:31] - corrId_5bb8a01f926233.92079291 - Executing query 
[2018-10-06 13:44:31] - corrId_5bb8a01f926233.92079291 - Query executed successfully 
[2018-10-06 13:44:31] - corrId_5bb8a01f926233.92079291 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:44:35] - corrId_5bb8a02330e543.88313268 - Reached RestitutionManagementService API 
[2018-10-06 13:44:35] - corrId_5bb8a02330e543.88313268 - Establishing connection to DB 
[2018-10-06 13:44:35] - corrId_5bb8a02330e543.88313268 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:44:35] - corrId_5bb8a02330e543.88313268 - Token is valid 
[2018-10-06 13:44:35] - corrId_5bb8a02330e543.88313268 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:44:35] - corrId_5bb8a02330e543.88313268 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:44:35] - corrId_5bb8a02330e543.88313268 - Executing query 
[2018-10-06 13:44:35] - corrId_5bb8a02330e543.88313268 - Query executed successfully 
[2018-10-06 13:44:44] - corrId_5bb8a02c8c0379.73959215 - Reached RestitutionManagementService API 
[2018-10-06 13:44:44] - corrId_5bb8a02c8c0379.73959215 - Establishing connection to DB 
[2018-10-06 13:44:44] - corrId_5bb8a02c8c0379.73959215 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:44:44] - corrId_5bb8a02c8c0379.73959215 - Token is valid 
[2018-10-06 13:44:44] - corrId_5bb8a02c8c0379.73959215 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:44:44] - corrId_5bb8a02c8c0379.73959215 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:44:44] - corrId_5bb8a02c8c0379.73959215 - Executing query 
[2018-10-06 13:44:44] - corrId_5bb8a02c8c0379.73959215 - Query executed successfully 
[2018-10-06 13:45:40] - corrId_5bb8a0644045a0.86629876 - Reached AuthenticationService API 
[2018-10-06 13:45:40] - corrId_5bb8a0644045a0.86629876 - Token is valid 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Reached BookingManagementService API 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Establishing connection to DB 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Processing GetComingSoonMovies request. 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Token is valid 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Executing query 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Query executed successfully 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Executing query 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Query executed successfully 
[2018-10-06 13:45:40] - corrId_5bb8a06465a056.48097372 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:45:40] - corrId_5bb8a064d38aa6.46475021 - Reached CustomerManagementService API 
[2018-10-06 13:45:40] - corrId_5bb8a064d38aa6.46475021 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:45:40] - corrId_5bb8a064d38aa6.46475021 - Token is valid 
[2018-10-06 13:45:40] - corrId_5bb8a064d38aa6.46475021 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:45:40] - corrId_5bb8a064d38aa6.46475021 - Establishing connection to DB 
[2018-10-06 13:45:40] - corrId_5bb8a064d38aa6.46475021 - Executing query 
[2018-10-06 13:45:40] - corrId_5bb8a064d38aa6.46475021 - Query executed successfully 
[2018-10-06 13:45:40] - corrId_5bb8a064d38aa6.46475021 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Reached RestitutionManagementService API 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Establishing connection to DB 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Token is valid 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio_storico no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Executing query 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Error while executing query -> Table 'videonoleggio.noleggio_storico' doesn't exist 
[2018-10-06 13:45:42] - corrId_5bb8a0665f7a39.00986175 - Error occured -> Exception: Exception: Table 'videonoleggio.noleggio_storico' doesn't exist in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:69
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(47): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(149): RestitutionManagementService->GetRentedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(170): RestitutionManagementService->Init()
#4 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:79
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(47): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(149): RestitutionManagementService->GetRentedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(170): RestitutionManagementService->Init()
#4 {main} 
[2018-10-06 13:45:45] - corrId_5bb8a069cb7cc7.35091026 - Reached RestitutionManagementService API 
[2018-10-06 13:45:45] - corrId_5bb8a069cb7cc7.35091026 - Establishing connection to DB 
[2018-10-06 13:45:45] - corrId_5bb8a069cb7cc7.35091026 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:45:45] - corrId_5bb8a069cb7cc7.35091026 - Token is valid 
[2018-10-06 13:45:45] - corrId_5bb8a069cb7cc7.35091026 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:45:45] - corrId_5bb8a069cb7cc7.35091026 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:45:45] - corrId_5bb8a069cb7cc7.35091026 - Executing query 
[2018-10-06 13:45:45] - corrId_5bb8a069cb7cc7.35091026 - Query executed successfully 
[2018-10-06 13:45:48] - corrId_5bb8a06cecfa58.13104182 - Reached RestitutionManagementService API 
[2018-10-06 13:45:48] - corrId_5bb8a06cecfa58.13104182 - Establishing connection to DB 
[2018-10-06 13:45:48] - corrId_5bb8a06cecfa58.13104182 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:45:48] - corrId_5bb8a06cecfa58.13104182 - Token is valid 
[2018-10-06 13:45:48] - corrId_5bb8a06cecfa58.13104182 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:45:48] - corrId_5bb8a06cecfa58.13104182 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:45:48] - corrId_5bb8a06cecfa58.13104182 - Executing query 
[2018-10-06 13:45:48] - corrId_5bb8a06cecfa58.13104182 - Query executed successfully 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Reached RestitutionManagementService API 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Establishing connection to DB 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Token is valid 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio_storico no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Executing query 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Error while executing query -> Table 'videonoleggio.noleggio_storico' doesn't exist 
[2018-10-06 13:46:09] - corrId_5bb8a08102d1b3.02341342 - Error occured -> Exception: Exception: Table 'videonoleggio.noleggio_storico' doesn't exist in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:69
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(47): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(149): RestitutionManagementService->GetRentedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(170): RestitutionManagementService->Init()
#4 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:79
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(47): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(149): RestitutionManagementService->GetRentedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(170): RestitutionManagementService->Init()
#4 {main} 
[2018-10-06 13:46:11] - corrId_5bb8a0836d0819.78409694 - Reached AuthenticationService API 
[2018-10-06 13:46:11] - corrId_5bb8a0836d0819.78409694 - Token is valid 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Reached BookingManagementService API 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Establishing connection to DB 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Processing GetComingSoonMovies request. 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Token is valid 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Executing query 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Query executed successfully 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Executing query 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Query executed successfully 
[2018-10-06 13:46:11] - corrId_5bb8a0838c86c1.86061284 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:46:11] - corrId_5bb8a083ed1bb3.43076003 - Reached CustomerManagementService API 
[2018-10-06 13:46:11] - corrId_5bb8a083ed1bb3.43076003 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:46:11] - corrId_5bb8a083ed1bb3.43076003 - Token is valid 
[2018-10-06 13:46:11] - corrId_5bb8a083ed1bb3.43076003 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:46:11] - corrId_5bb8a083ed1bb3.43076003 - Establishing connection to DB 
[2018-10-06 13:46:11] - corrId_5bb8a083ed1bb3.43076003 - Executing query 
[2018-10-06 13:46:11] - corrId_5bb8a083ed1bb3.43076003 - Query executed successfully 
[2018-10-06 13:46:11] - corrId_5bb8a083ed1bb3.43076003 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:46:13] - corrId_5bb8a085350300.80533034 - Reached RestitutionManagementService API 
[2018-10-06 13:46:13] - corrId_5bb8a085350300.80533034 - Establishing connection to DB 
[2018-10-06 13:46:13] - corrId_5bb8a085350300.80533034 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:46:13] - corrId_5bb8a085350300.80533034 - Token is valid 
[2018-10-06 13:46:13] - corrId_5bb8a085350300.80533034 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:46:13] - corrId_5bb8a085350300.80533034 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 35 
[2018-10-06 13:46:13] - corrId_5bb8a085350300.80533034 - Executing query 
[2018-10-06 13:46:13] - corrId_5bb8a085350300.80533034 - Query executed successfully 
[2018-10-06 13:47:02] - corrId_5bb8a0b68357e4.76742227 - Reached AuthenticationService API 
[2018-10-06 13:47:02] - corrId_5bb8a0b68357e4.76742227 - Token is valid 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Reached BookingManagementService API 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Establishing connection to DB 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Processing GetComingSoonMovies request. 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Token is valid 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Executing query 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Query executed successfully 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Executing query 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Query executed successfully 
[2018-10-06 13:47:02] - corrId_5bb8a0b69c0070.01557804 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:47:03] - corrId_5bb8a0b726d209.56360235 - Reached CustomerManagementService API 
[2018-10-06 13:47:03] - corrId_5bb8a0b726d209.56360235 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:47:03] - corrId_5bb8a0b726d209.56360235 - Token is valid 
[2018-10-06 13:47:03] - corrId_5bb8a0b726d209.56360235 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:47:03] - corrId_5bb8a0b726d209.56360235 - Establishing connection to DB 
[2018-10-06 13:47:03] - corrId_5bb8a0b726d209.56360235 - Executing query 
[2018-10-06 13:47:03] - corrId_5bb8a0b726d209.56360235 - Query executed successfully 
[2018-10-06 13:47:03] - corrId_5bb8a0b726d209.56360235 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:47:04] - corrId_5bb8a0b81e3005.99260663 - Reached RestitutionManagementService API 
[2018-10-06 13:47:04] - corrId_5bb8a0b81e3005.99260663 - Establishing connection to DB 
[2018-10-06 13:47:04] - corrId_5bb8a0b81e3005.99260663 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:47:04] - corrId_5bb8a0b81e3005.99260663 - Token is valid 
[2018-10-06 13:47:04] - corrId_5bb8a0b81e3005.99260663 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:47:04] - corrId_5bb8a0b81e3005.99260663 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:47:04] - corrId_5bb8a0b81e3005.99260663 - Executing query 
[2018-10-06 13:47:04] - corrId_5bb8a0b81e3005.99260663 - Query executed successfully 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Reached RestitutionManagementService API 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Establishing connection to DB 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Token is valid 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio_storico no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Executing query 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Error while executing query -> Table 'videonoleggio.noleggio_storico' doesn't exist 
[2018-10-06 13:47:07] - corrId_5bb8a0bb79f162.34270898 - Error occured -> Exception: Exception: Table 'videonoleggio.noleggio_storico' doesn't exist in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:69
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(47): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(149): RestitutionManagementService->GetRentedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(170): RestitutionManagementService->Init()
#4 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:79
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(47): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(149): RestitutionManagementService->GetRentedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(170): RestitutionManagementService->Init()
#4 {main} 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Reached RestitutionManagementService API 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Establishing connection to DB 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Token is valid 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Executing query 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Error while executing query -> Unknown column 'no.id_noleggio' in 'field list' 
[2018-10-06 13:47:27] - corrId_5bb8a0cf81d587.65983428 - Error occured -> Exception: Exception: Unknown column 'no.id_noleggio' in 'field list' in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:69
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(47): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(149): RestitutionManagementService->GetRentedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(170): RestitutionManagementService->Init()
#4 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:79
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(47): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(149): RestitutionManagementService->GetRentedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(170): RestitutionManagementService->Init()
#4 {main} 
[2018-10-06 13:51:31] - corrId_5bb8a1c3352328.42105855 - Reached RestitutionManagementService API 
[2018-10-06 13:51:31] - corrId_5bb8a1c3352328.42105855 - Establishing connection to DB 
[2018-10-06 13:51:31] - corrId_5bb8a1c3352328.42105855 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:51:31] - corrId_5bb8a1c3352328.42105855 - Token is valid 
[2018-10-06 13:51:31] - corrId_5bb8a1c3352328.42105855 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:51:31] - corrId_5bb8a1c3352328.42105855 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:51:31] - corrId_5bb8a1c3352328.42105855 - Executing query 
[2018-10-06 13:51:31] - corrId_5bb8a1c3352328.42105855 - Query executed successfully 
[2018-10-06 13:52:19] - corrId_5bb8a1f39b25a1.15772357 - Reached AuthenticationService API 
[2018-10-06 13:52:19] - corrId_5bb8a1f39b25a1.15772357 - Token is valid 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Reached BookingManagementService API 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Establishing connection to DB 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Processing GetComingSoonMovies request. 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Token is valid 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Executing query 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Query executed successfully 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Executing query 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Query executed successfully 
[2018-10-06 13:52:19] - corrId_5bb8a1f3c17b96.58413223 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:52:20] - corrId_5bb8a1f447efe7.58552473 - Reached CustomerManagementService API 
[2018-10-06 13:52:20] - corrId_5bb8a1f447efe7.58552473 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:52:20] - corrId_5bb8a1f447efe7.58552473 - Token is valid 
[2018-10-06 13:52:20] - corrId_5bb8a1f447efe7.58552473 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:20] - corrId_5bb8a1f447efe7.58552473 - Establishing connection to DB 
[2018-10-06 13:52:20] - corrId_5bb8a1f447efe7.58552473 - Executing query 
[2018-10-06 13:52:20] - corrId_5bb8a1f447efe7.58552473 - Query executed successfully 
[2018-10-06 13:52:20] - corrId_5bb8a1f447efe7.58552473 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:52:21] - corrId_5bb8a1f5aac169.28473854 - Reached RestitutionManagementService API 
[2018-10-06 13:52:21] - corrId_5bb8a1f5aac169.28473854 - Establishing connection to DB 
[2018-10-06 13:52:21] - corrId_5bb8a1f5aac169.28473854 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:52:21] - corrId_5bb8a1f5aac169.28473854 - Token is valid 
[2018-10-06 13:52:21] - corrId_5bb8a1f5aac169.28473854 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:21] - corrId_5bb8a1f5aac169.28473854 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:52:21] - corrId_5bb8a1f5aac169.28473854 - Executing query 
[2018-10-06 13:52:21] - corrId_5bb8a1f5aac169.28473854 - Query executed successfully 
[2018-10-06 13:52:23] - corrId_5bb8a1f7408e18.94874364 - Reached RestitutionManagementService API 
[2018-10-06 13:52:23] - corrId_5bb8a1f7408e18.94874364 - Establishing connection to DB 
[2018-10-06 13:52:23] - corrId_5bb8a1f7408e18.94874364 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:52:23] - corrId_5bb8a1f7408e18.94874364 - Token is valid 
[2018-10-06 13:52:23] - corrId_5bb8a1f7408e18.94874364 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:23] - corrId_5bb8a1f7408e18.94874364 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:52:23] - corrId_5bb8a1f7408e18.94874364 - Executing query 
[2018-10-06 13:52:23] - corrId_5bb8a1f7408e18.94874364 - Query executed successfully 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Reached RestitutionManagementService API 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Establishing connection to DB 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Token is valid 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM noleggio_storico no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Executing query 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Error while executing query -> Table 'videonoleggio.noleggio_storico' doesn't exist 
[2018-10-06 13:52:25] - corrId_5bb8a1f9b409a7.92405435 - Error occured -> Exception: Exception: Table 'videonoleggio.noleggio_storico' doesn't exist in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:69
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(75): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(180): RestitutionManagementService->GetArchivedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(201): RestitutionManagementService->Init()
#4 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:79
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(75): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(180): RestitutionManagementService->GetArchivedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(201): RestitutionManagementService->Init()
#4 {main} 
[2018-10-06 13:52:32] - corrId_5bb8a20032a6a5.63413650 - Reached RestitutionManagementService API 
[2018-10-06 13:52:32] - corrId_5bb8a20032a6a5.63413650 - Establishing connection to DB 
[2018-10-06 13:52:32] - corrId_5bb8a20032a6a5.63413650 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:52:32] - corrId_5bb8a20032a6a5.63413650 - Token is valid 
[2018-10-06 13:52:32] - corrId_5bb8a20032a6a5.63413650 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:32] - corrId_5bb8a20032a6a5.63413650 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:52:32] - corrId_5bb8a20032a6a5.63413650 - Executing query 
[2018-10-06 13:52:32] - corrId_5bb8a20032a6a5.63413650 - Query executed successfully 
[2018-10-06 13:52:53] - corrId_5bb8a215a81316.58635234 - Reached AuthenticationService API 
[2018-10-06 13:52:53] - corrId_5bb8a215a81316.58635234 - Token is valid 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Reached BookingManagementService API 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Establishing connection to DB 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Processing GetComingSoonMovies request. 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Token is valid 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Executing query 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Query executed successfully 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Executing query 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Query executed successfully 
[2018-10-06 13:52:53] - corrId_5bb8a215badfb4.19554170 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:52:54] - corrId_5bb8a216a84b90.04094964 - Reached CustomerManagementService API 
[2018-10-06 13:52:54] - corrId_5bb8a216a84b90.04094964 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:52:54] - corrId_5bb8a216a84b90.04094964 - Token is valid 
[2018-10-06 13:52:54] - corrId_5bb8a216a84b90.04094964 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:54] - corrId_5bb8a216a84b90.04094964 - Establishing connection to DB 
[2018-10-06 13:52:54] - corrId_5bb8a216a84b90.04094964 - Executing query 
[2018-10-06 13:52:54] - corrId_5bb8a216a84b90.04094964 - Query executed successfully 
[2018-10-06 13:52:54] - corrId_5bb8a216a84b90.04094964 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:52:55] - corrId_5bb8a217e74e15.20060331 - Reached RestitutionManagementService API 
[2018-10-06 13:52:55] - corrId_5bb8a217e74e15.20060331 - Establishing connection to DB 
[2018-10-06 13:52:55] - corrId_5bb8a217e74e15.20060331 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:52:55] - corrId_5bb8a217e74e15.20060331 - Token is valid 
[2018-10-06 13:52:55] - corrId_5bb8a217e74e15.20060331 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:52:55] - corrId_5bb8a217e74e15.20060331 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:52:55] - corrId_5bb8a217e74e15.20060331 - Executing query 
[2018-10-06 13:52:55] - corrId_5bb8a217e74e15.20060331 - Query executed successfully 
[2018-10-06 13:53:01] - corrId_5bb8a21d5d5ce8.85863384 - Reached RestitutionManagementService API 
[2018-10-06 13:53:01] - corrId_5bb8a21d5d5ce8.85863384 - Establishing connection to DB 
[2018-10-06 13:53:01] - corrId_5bb8a21d5d5ce8.85863384 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:53:01] - corrId_5bb8a21d5d5ce8.85863384 - Token is valid 
[2018-10-06 13:53:01] - corrId_5bb8a21d5d5ce8.85863384 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:01] - corrId_5bb8a21d5d5ce8.85863384 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 35 
[2018-10-06 13:53:01] - corrId_5bb8a21d5d5ce8.85863384 - Executing query 
[2018-10-06 13:53:01] - corrId_5bb8a21d5d5ce8.85863384 - Query executed successfully 
[2018-10-06 13:53:03] - corrId_5bb8a21fcca4d2.06229582 - Reached RestitutionManagementService API 
[2018-10-06 13:53:03] - corrId_5bb8a21fcca4d2.06229582 - Establishing connection to DB 
[2018-10-06 13:53:03] - corrId_5bb8a21fcca4d2.06229582 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:53:03] - corrId_5bb8a21fcca4d2.06229582 - Token is valid 
[2018-10-06 13:53:03] - corrId_5bb8a21fcca4d2.06229582 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:03] - corrId_5bb8a21fcca4d2.06229582 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[2018-10-06 13:53:03] - corrId_5bb8a21fcca4d2.06229582 - Executing query 
[2018-10-06 13:53:03] - corrId_5bb8a21fcca4d2.06229582 - Query executed successfully 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Reached RestitutionManagementService API 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Establishing connection to DB 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Token is valid 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM noleggio_storico no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Executing query 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Error while executing query -> Table 'videonoleggio.noleggio_storico' doesn't exist 
[2018-10-06 13:53:19] - corrId_5bb8a22f936124.94851646 - Error occured -> Exception: Exception: Table 'videonoleggio.noleggio_storico' doesn't exist in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:69
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(75): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(180): RestitutionManagementService->GetArchivedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(201): RestitutionManagementService->Init()
#4 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:79
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(75): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(180): RestitutionManagementService->GetArchivedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(201): RestitutionManagementService->Init()
#4 {main} 
[2018-10-06 13:53:38] - corrId_5bb8a242d7cf68.42166836 - Reached AuthenticationService API 
[2018-10-06 13:53:38] - corrId_5bb8a242d7cf68.42166836 - Token is valid 
[2018-10-06 13:53:38] - corrId_5bb8a242f3a468.60478686 - Reached BookingManagementService API 
[2018-10-06 13:53:38] - corrId_5bb8a242f3a468.60478686 - Establishing connection to DB 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Processing GetComingSoonMovies request. 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Token is valid 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Executing query 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Query executed successfully 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Executing query 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Query executed successfully 
[2018-10-06 13:53:39] - corrId_5bb8a242f3a468.60478686 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:53:39] - corrId_5bb8a24350ccf3.33196915 - Reached CustomerManagementService API 
[2018-10-06 13:53:39] - corrId_5bb8a24350ccf3.33196915 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:53:39] - corrId_5bb8a24350ccf3.33196915 - Token is valid 
[2018-10-06 13:53:39] - corrId_5bb8a24350ccf3.33196915 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:39] - corrId_5bb8a24350ccf3.33196915 - Establishing connection to DB 
[2018-10-06 13:53:39] - corrId_5bb8a24350ccf3.33196915 - Executing query 
[2018-10-06 13:53:39] - corrId_5bb8a24350ccf3.33196915 - Query executed successfully 
[2018-10-06 13:53:39] - corrId_5bb8a24350ccf3.33196915 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:53:40] - corrId_5bb8a244e25115.50686738 - Reached RestitutionManagementService API 
[2018-10-06 13:53:40] - corrId_5bb8a244e25115.50686738 - Establishing connection to DB 
[2018-10-06 13:53:40] - corrId_5bb8a244e25115.50686738 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:53:40] - corrId_5bb8a244e25115.50686738 - Token is valid 
[2018-10-06 13:53:40] - corrId_5bb8a244e25115.50686738 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:40] - corrId_5bb8a244e25115.50686738 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:53:40] - corrId_5bb8a244e25115.50686738 - Executing query 
[2018-10-06 13:53:40] - corrId_5bb8a244e25115.50686738 - Query executed successfully 
[2018-10-06 13:53:45] - corrId_5bb8a249129013.08945388 - Reached RestitutionManagementService API 
[2018-10-06 13:53:45] - corrId_5bb8a249129013.08945388 - Establishing connection to DB 
[2018-10-06 13:53:45] - corrId_5bb8a249129013.08945388 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:53:45] - corrId_5bb8a249129013.08945388 - Token is valid 
[2018-10-06 13:53:45] - corrId_5bb8a249129013.08945388 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:45] - corrId_5bb8a249129013.08945388 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:53:45] - corrId_5bb8a249129013.08945388 - Executing query 
[2018-10-06 13:53:45] - corrId_5bb8a249129013.08945388 - Query executed successfully 
[2018-10-06 13:53:47] - corrId_5bb8a24b522494.33188303 - Reached RestitutionManagementService API 
[2018-10-06 13:53:47] - corrId_5bb8a24b522494.33188303 - Establishing connection to DB 
[2018-10-06 13:53:47] - corrId_5bb8a24b522494.33188303 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:53:47] - corrId_5bb8a24b522494.33188303 - Token is valid 
[2018-10-06 13:53:47] - corrId_5bb8a24b522494.33188303 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:47] - corrId_5bb8a24b522494.33188303 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:53:47] - corrId_5bb8a24b522494.33188303 - Executing query 
[2018-10-06 13:53:47] - corrId_5bb8a24b522494.33188303 - Query executed successfully 
[2018-10-06 13:53:52] - corrId_5bb8a250a0a098.87425920 - Reached RestitutionManagementService API 
[2018-10-06 13:53:52] - corrId_5bb8a250a0a098.87425920 - Establishing connection to DB 
[2018-10-06 13:53:52] - corrId_5bb8a250a0a098.87425920 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:53:52] - corrId_5bb8a250a0a098.87425920 - Token is valid 
[2018-10-06 13:53:52] - corrId_5bb8a250a0a098.87425920 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:53:52] - corrId_5bb8a250a0a098.87425920 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:53:52] - corrId_5bb8a250a0a098.87425920 - Executing query 
[2018-10-06 13:53:52] - corrId_5bb8a250a0a098.87425920 - Query executed successfully 
[2018-10-06 13:54:01] - corrId_5bb8a2597a1258.41874575 - Reached RestitutionManagementService API 
[2018-10-06 13:54:01] - corrId_5bb8a2597a1258.41874575 - Establishing connection to DB 
[2018-10-06 13:54:01] - corrId_5bb8a2597a1258.41874575 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:54:01] - corrId_5bb8a2597a1258.41874575 - Token is valid 
[2018-10-06 13:54:01] - corrId_5bb8a2597a1258.41874575 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:01] - corrId_5bb8a2597a1258.41874575 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:54:01] - corrId_5bb8a2597a1258.41874575 - Executing query 
[2018-10-06 13:54:01] - corrId_5bb8a2597a1258.41874575 - Query executed successfully 
[2018-10-06 13:54:06] - corrId_5bb8a25eda7757.09175669 - Reached RestitutionManagementService API 
[2018-10-06 13:54:06] - corrId_5bb8a25eda7757.09175669 - Establishing connection to DB 
[2018-10-06 13:54:06] - corrId_5bb8a25eda7757.09175669 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:54:06] - corrId_5bb8a25eda7757.09175669 - Token is valid 
[2018-10-06 13:54:06] - corrId_5bb8a25eda7757.09175669 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:06] - corrId_5bb8a25eda7757.09175669 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:54:06] - corrId_5bb8a25eda7757.09175669 - Executing query 
[2018-10-06 13:54:06] - corrId_5bb8a25eda7757.09175669 - Query executed successfully 
[2018-10-06 13:54:17] - corrId_5bb8a269636d71.81226405 - Reached RestitutionManagementService API 
[2018-10-06 13:54:17] - corrId_5bb8a269636d71.81226405 - Establishing connection to DB 
[2018-10-06 13:54:17] - corrId_5bb8a269636d71.81226405 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:54:17] - corrId_5bb8a269636d71.81226405 - Token is valid 
[2018-10-06 13:54:17] - corrId_5bb8a269636d71.81226405 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:17] - corrId_5bb8a269636d71.81226405 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:54:17] - corrId_5bb8a269636d71.81226405 - Executing query 
[2018-10-06 13:54:17] - corrId_5bb8a269636d71.81226405 - Query executed successfully 
[2018-10-06 13:54:29] - corrId_5bb8a275312d16.73766188 - Reached RestitutionManagementService API 
[2018-10-06 13:54:29] - corrId_5bb8a275312d16.73766188 - Establishing connection to DB 
[2018-10-06 13:54:29] - corrId_5bb8a275312d16.73766188 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:54:29] - corrId_5bb8a275312d16.73766188 - Token is valid 
[2018-10-06 13:54:29] - corrId_5bb8a275312d16.73766188 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:29] - corrId_5bb8a275312d16.73766188 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:54:29] - corrId_5bb8a275312d16.73766188 - Executing query 
[2018-10-06 13:54:29] - corrId_5bb8a275312d16.73766188 - Query executed successfully 
[2018-10-06 13:54:30] - corrId_5bb8a276513535.12788418 - Reached RestitutionManagementService API 
[2018-10-06 13:54:30] - corrId_5bb8a276513535.12788418 - Establishing connection to DB 
[2018-10-06 13:54:30] - corrId_5bb8a276513535.12788418 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:54:30] - corrId_5bb8a276513535.12788418 - Token is valid 
[2018-10-06 13:54:30] - corrId_5bb8a276513535.12788418 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:30] - corrId_5bb8a276513535.12788418 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:54:30] - corrId_5bb8a276513535.12788418 - Executing query 
[2018-10-06 13:54:30] - corrId_5bb8a276513535.12788418 - Query executed successfully 
[2018-10-06 13:54:31] - corrId_5bb8a277695fa7.02321135 - Reached CustomerManagementService API 
[2018-10-06 13:54:31] - corrId_5bb8a277695fa7.02321135 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:54:31] - corrId_5bb8a277695fa7.02321135 - Token is valid 
[2018-10-06 13:54:31] - corrId_5bb8a277695fa7.02321135 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:31] - corrId_5bb8a277695fa7.02321135 - Establishing connection to DB 
[2018-10-06 13:54:31] - corrId_5bb8a277695fa7.02321135 - Executing query 
[2018-10-06 13:54:31] - corrId_5bb8a277695fa7.02321135 - Query executed successfully 
[2018-10-06 13:54:31] - corrId_5bb8a277695fa7.02321135 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Reached BookingManagementService API 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Establishing connection to DB 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Processing GetComingSoonMovies request. 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Token is valid 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Executing query 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Query executed successfully 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Executing query 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Query executed successfully 
[2018-10-06 13:54:32] - corrId_5bb8a2786097a7.84395004 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:54:33] - corrId_5bb8a27989d805.77926812 - Reached RentalManagementService API 
[2018-10-06 13:54:33] - corrId_5bb8a27989d805.77926812 - Establishing connection to DB 
[2018-10-06 13:54:33] - corrId_5bb8a27989d805.77926812 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 13:54:33] - corrId_5bb8a27989d805.77926812 - Token is valid 
[2018-10-06 13:54:33] - corrId_5bb8a27989d805.77926812 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:33] - corrId_5bb8a27989d805.77926812 - Executing query 
[2018-10-06 13:54:33] - corrId_5bb8a27989d805.77926812 - Query executed successfully 
[2018-10-06 13:54:33] - corrId_5bb8a27995e794.07373208 - Reached RentalManagementService API 
[2018-10-06 13:54:33] - corrId_5bb8a27995e794.07373208 - Establishing connection to DB 
[2018-10-06 13:54:33] - corrId_5bb8a27995e794.07373208 - Processing ClearRentalBookings request. 
[2018-10-06 13:54:33] - corrId_5bb8a27995e794.07373208 - Token is valid 
[2018-10-06 13:54:33] - corrId_5bb8a27995e794.07373208 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:33] - corrId_5bb8a27995e794.07373208 - Executing query 
[2018-10-06 13:54:33] - corrId_5bb8a27995e794.07373208 - Query executed successfully 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Reached RentalManagementService API 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Establishing connection to DB 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Token is valid 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Executing query 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Query executed successfully 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Executing query 
[2018-10-06 13:54:33] - corrId_5bb8a2799cbdd2.08073238 - Query executed successfully 
[2018-10-06 13:54:34] - corrId_5bb8a27a1410d5.50272281 - Reached StorageManagementService API 
[2018-10-06 13:54:34] - corrId_5bb8a27a1410d5.50272281 - Processing GetVideosInStorage request. 
[2018-10-06 13:54:34] - corrId_5bb8a27a1410d5.50272281 - Token is valid 
[2018-10-06 13:54:34] - corrId_5bb8a27a1410d5.50272281 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:34] - corrId_5bb8a27a1410d5.50272281 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 13:54:34] - corrId_5bb8a27a1410d5.50272281 - Establishing connection to DB 
[2018-10-06 13:54:34] - corrId_5bb8a27a1410d5.50272281 - Executing query 
[2018-10-06 13:54:34] - corrId_5bb8a27a1410d5.50272281 - Query executed successfully 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Reached SalesManagementService API 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Establishing connection to DB 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Processing GetStoresAndSales request. 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Token is valid 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Validated permissions for user admin (required 20, has 30) 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Query: SELECT pv.id_punto_vendita, pv.nome, pv.indirizzo, ci.nome as citta_nome, noleggi.incasso_giornaliero
            FROM punto_vendita pv
            INNER JOIN citta ci
            ON pv.id_citta = ci.id_citta 
            LEFT JOIN (SELECT SUM(no.prezzo_totale) as incasso_giornaliero, no.id_noleggio, no.id_punto_vendita 
                        FROM noleggio no 
                        WHERE no.data_inizio >= '2018-10-06' 
                        AND no.data_inizio <= '2018-10-06 23:59') as noleggi
            ON noleggi.id_punto_vendita = pv.id_punto_vendita            
            
            GROUP BY pv.id_punto_vendita; 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Executing query 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Query executed successfully 
[2018-10-06 13:54:34] - corrId_5bb8a27a782880.80821828 - Operation getStoresAndSales was successful. 
[2018-10-06 13:54:34] - corrId_5bb8a27af03bf6.89781255 - Reached AccountManagementService API 
[2018-10-06 13:54:34] - corrId_5bb8a27af03bf6.89781255 - Processing GetCities request. 
[2018-10-06 13:54:34] - corrId_5bb8a27af03bf6.89781255 - Token is valid 
[2018-10-06 13:54:34] - corrId_5bb8a27af03bf6.89781255 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:34] - corrId_5bb8a27af03bf6.89781255 - Query: SELECT *
            FROM citta 
[2018-10-06 13:54:34] - corrId_5bb8a27af03bf6.89781255 - Establishing connection to DB 
[2018-10-06 13:54:34] - corrId_5bb8a27af03bf6.89781255 - Executing query 
[2018-10-06 13:54:34] - corrId_5bb8a27af03bf6.89781255 - Query executed successfully 
[2018-10-06 13:54:35] - corrId_5bb8a27b1be4c6.74861625 - Reached AccountManagementService API 
[2018-10-06 13:54:35] - corrId_5bb8a27b1be4c6.74861625 - Processing GetStores request. 
[2018-10-06 13:54:35] - corrId_5bb8a27b1be4c6.74861625 - Token is valid 
[2018-10-06 13:54:35] - corrId_5bb8a27b1be4c6.74861625 - Validated permissions for user admin (required 30, has 30) 
[2018-10-06 13:54:35] - corrId_5bb8a27b1be4c6.74861625 - Query: SELECT *
            FROM punto_vendita 
             
[2018-10-06 13:54:35] - corrId_5bb8a27b1be4c6.74861625 - Establishing connection to DB 
[2018-10-06 13:54:35] - corrId_5bb8a27b1be4c6.74861625 - Executing query 
[2018-10-06 13:54:35] - corrId_5bb8a27b1be4c6.74861625 - Query executed successfully 
[2018-10-06 13:54:35] - corrId_5bb8a27b21fef9.77947638 - Reached AccountManagementService API 
[2018-10-06 13:54:35] - corrId_5bb8a27b21fef9.77947638 - Processing GetEmployees request. 
[2018-10-06 13:54:35] - corrId_5bb8a27b21fef9.77947638 - Token is valid 
[2018-10-06 13:54:35] - corrId_5bb8a27b21fef9.77947638 - Validated permissions for user admin (required 30, has 30) 
[2018-10-06 13:54:35] - corrId_5bb8a27b21fef9.77947638 - Query: SELECT dip.id_dipendente, dip.nome as dipendente_nome, dip.cognome as dipendente_cognome,
                dip.username as dipendente_username, del.nome as delega_nome, del.codice as delega_codice,
                pv.nome as punto_vendita_nome, dip.id_punto_vendita as punto_vendita_id
            FROM dipendente as dip
            INNER JOIN delega as del
            ON dip.id_delega = del.id_delega
            INNER JOIN punto_vendita as pv
            ON dip.id_punto_vendita = pv.id_punto_vendita 
             
[2018-10-06 13:54:35] - corrId_5bb8a27b21fef9.77947638 - Establishing connection to DB 
[2018-10-06 13:54:35] - corrId_5bb8a27b21fef9.77947638 - Executing query 
[2018-10-06 13:54:35] - corrId_5bb8a27b21fef9.77947638 - Query executed successfully 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Reached BookingManagementService API 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Establishing connection to DB 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Processing GetComingSoonMovies request. 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Token is valid 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Executing query 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Query executed successfully 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Executing query 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Query executed successfully 
[2018-10-06 13:54:35] - corrId_5bb8a27bd35264.64105310 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:55:11] - corrId_5bb8a29f805b36.69905800 - Reached AuthenticationService API 
[2018-10-06 13:55:11] - corrId_5bb8a29f805b36.69905800 - Token is valid 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Reached BookingManagementService API 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Establishing connection to DB 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Processing GetComingSoonMovies request. 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Token is valid 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Executing query 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Query executed successfully 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Executing query 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Query executed successfully 
[2018-10-06 13:55:11] - corrId_5bb8a29f99fe00.99830394 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:55:12] - corrId_5bb8a2a093c304.71385764 - Reached CustomerManagementService API 
[2018-10-06 13:55:12] - corrId_5bb8a2a093c304.71385764 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:55:12] - corrId_5bb8a2a093c304.71385764 - Token is valid 
[2018-10-06 13:55:12] - corrId_5bb8a2a093c304.71385764 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:12] - corrId_5bb8a2a093c304.71385764 - Establishing connection to DB 
[2018-10-06 13:55:12] - corrId_5bb8a2a093c304.71385764 - Executing query 
[2018-10-06 13:55:12] - corrId_5bb8a2a093c304.71385764 - Query executed successfully 
[2018-10-06 13:55:12] - corrId_5bb8a2a093c304.71385764 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:55:15] - corrId_5bb8a2a316f542.69687386 - Reached StorageManagementService API 
[2018-10-06 13:55:15] - corrId_5bb8a2a316f542.69687386 - Processing GetVideosInStorage request. 
[2018-10-06 13:55:15] - corrId_5bb8a2a316f542.69687386 - Token is valid 
[2018-10-06 13:55:15] - corrId_5bb8a2a316f542.69687386 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:15] - corrId_5bb8a2a316f542.69687386 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 13:55:15] - corrId_5bb8a2a316f542.69687386 - Establishing connection to DB 
[2018-10-06 13:55:15] - corrId_5bb8a2a316f542.69687386 - Executing query 
[2018-10-06 13:55:15] - corrId_5bb8a2a316f542.69687386 - Query executed successfully 
[2018-10-06 13:55:15] - corrId_5bb8a2a3a6b9c5.14668509 - Reached CustomerManagementService API 
[2018-10-06 13:55:15] - corrId_5bb8a2a3a6b9c5.14668509 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:55:15] - corrId_5bb8a2a3a6b9c5.14668509 - Token is valid 
[2018-10-06 13:55:15] - corrId_5bb8a2a3a6b9c5.14668509 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:15] - corrId_5bb8a2a3a6b9c5.14668509 - Establishing connection to DB 
[2018-10-06 13:55:15] - corrId_5bb8a2a3a6b9c5.14668509 - Executing query 
[2018-10-06 13:55:15] - corrId_5bb8a2a3a6b9c5.14668509 - Query executed successfully 
[2018-10-06 13:55:15] - corrId_5bb8a2a3a6b9c5.14668509 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:55:16] - corrId_5bb8a2a4e7fe56.42905602 - Reached RestitutionManagementService API 
[2018-10-06 13:55:16] - corrId_5bb8a2a4e7fe56.42905602 - Establishing connection to DB 
[2018-10-06 13:55:16] - corrId_5bb8a2a4e7fe56.42905602 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:55:16] - corrId_5bb8a2a4e7fe56.42905602 - Token is valid 
[2018-10-06 13:55:16] - corrId_5bb8a2a4e7fe56.42905602 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:16] - corrId_5bb8a2a4e7fe56.42905602 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:55:16] - corrId_5bb8a2a4e7fe56.42905602 - Executing query 
[2018-10-06 13:55:16] - corrId_5bb8a2a4e7fe56.42905602 - Query executed successfully 
[2018-10-06 13:55:18] - corrId_5bb8a2a6e2bd66.80580188 - Reached RestitutionManagementService API 
[2018-10-06 13:55:18] - corrId_5bb8a2a6e2bd66.80580188 - Establishing connection to DB 
[2018-10-06 13:55:18] - corrId_5bb8a2a6e2bd66.80580188 - Processing GetRentedVideoForUser request. 
[2018-10-06 13:55:18] - corrId_5bb8a2a6e2bd66.80580188 - Token is valid 
[2018-10-06 13:55:18] - corrId_5bb8a2a6e2bd66.80580188 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:18] - corrId_5bb8a2a6e2bd66.80580188 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:55:18] - corrId_5bb8a2a6e2bd66.80580188 - Executing query 
[2018-10-06 13:55:18] - corrId_5bb8a2a6e2bd66.80580188 - Query executed successfully 
[2018-10-06 13:55:45] - corrId_5bb8a2c1746e11.25065380 - Reached AuthenticationService API 
[2018-10-06 13:55:45] - corrId_5bb8a2c1746e11.25065380 - Token is valid 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Reached BookingManagementService API 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Establishing connection to DB 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Processing GetComingSoonMovies request. 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Token is valid 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Executing query 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Query executed successfully 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Executing query 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Query executed successfully 
[2018-10-06 13:55:45] - corrId_5bb8a2c1927597.40468791 - Operation getComingSoonMovies was successful. 
[2018-10-06 13:55:45] - corrId_5bb8a2c1d8b7a3.36806610 - Reached CustomerManagementService API 
[2018-10-06 13:55:45] - corrId_5bb8a2c1d8b7a3.36806610 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 13:55:45] - corrId_5bb8a2c1d8b7a3.36806610 - Token is valid 
[2018-10-06 13:55:45] - corrId_5bb8a2c1d8b7a3.36806610 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:45] - corrId_5bb8a2c1d8b7a3.36806610 - Establishing connection to DB 
[2018-10-06 13:55:45] - corrId_5bb8a2c1d8b7a3.36806610 - Executing query 
[2018-10-06 13:55:45] - corrId_5bb8a2c1d8b7a3.36806610 - Query executed successfully 
[2018-10-06 13:55:45] - corrId_5bb8a2c1d8b7a3.36806610 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 13:55:47] - corrId_5bb8a2c39a0ad6.40861750 - Reached RestitutionManagementService API 
[2018-10-06 13:55:47] - corrId_5bb8a2c39a0ad6.40861750 - Establishing connection to DB 
[2018-10-06 13:55:47] - corrId_5bb8a2c39a0ad6.40861750 - Processing GetArchivedVideoForUser request. 
[2018-10-06 13:55:47] - corrId_5bb8a2c39a0ad6.40861750 - Token is valid 
[2018-10-06 13:55:47] - corrId_5bb8a2c39a0ad6.40861750 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 13:55:47] - corrId_5bb8a2c39a0ad6.40861750 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 13:55:47] - corrId_5bb8a2c39a0ad6.40861750 - Executing query 
[2018-10-06 13:55:47] - corrId_5bb8a2c39a0ad6.40861750 - Query executed successfully 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b90.37973392 - Reached RentalManagementService API 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b91.52347759 - Reached RentalManagementService API 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b90.37973392 - Establishing connection to DB 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b91.52347759 - Establishing connection to DB 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b90.37973392 - Processing ClearRentalBookings request. 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b90.37973392 - Token is valid 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b90.37973392 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b90.37973392 - Executing query 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b90.37973392 - Query executed successfully 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b91.52347759 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b91.52347759 - Token is valid 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b91.52347759 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b91.52347759 - Executing query 
[2018-10-06 21:27:59] - corrId_5bb90cbf5c1b91.52347759 - Query executed successfully 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Reached RentalManagementService API 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Establishing connection to DB 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Token is valid 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Executing query 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Query executed successfully 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Executing query 
[2018-10-06 21:27:59] - corrId_5bb90cbf669b00.19063741 - Query executed successfully 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Reached RentalManagementService API 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Establishing connection to DB 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Processing GetMostRecentCopies request. 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Token is valid 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Starting transaction 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Executing query 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Query executed successfully 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 130
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Executing query 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Query executed successfully 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 3
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Executing query 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Query executed successfully 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 136
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Executing query 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Query executed successfully 
[2018-10-06 21:30:32] - corrId_5bb90d58dacd43.51310245 - Committing transaction 
[2018-10-06 21:30:32] - corrId_5bb90d58eba8c1.60482597 - Reached RentalManagementService API 
[2018-10-06 21:30:32] - corrId_5bb90d58eba8c1.60482597 - Establishing connection to DB 
[2018-10-06 21:30:32] - corrId_5bb90d58eba8c1.60482597 - Processing GetActiveDiscount request. 
[2018-10-06 21:30:32] - corrId_5bb90d58eba8c1.60482597 - Token is valid 
[2018-10-06 21:30:32] - corrId_5bb90d58eba8c1.60482597 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:30:32] - corrId_5bb90d58eba8c1.60482597 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:30:32] - corrId_5bb90d58eba8c1.60482597 - Executing query 
[2018-10-06 21:30:32] - corrId_5bb90d58eba8c1.60482597 - Query executed successfully 
[2018-10-06 21:30:35] - corrId_5bb90d5b7fced9.74492292 - Reached RentalManagementService API 
[2018-10-06 21:30:35] - corrId_5bb90d5b7fced9.74492292 - Establishing connection to DB 
[2018-10-06 21:30:35] - corrId_5bb90d5b7fced9.74492292 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:30:35] - corrId_5bb90d5b7fced9.74492292 - Token is valid 
[2018-10-06 21:30:35] - corrId_5bb90d5b7fced9.74492292 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:30:35] - corrId_5bb90d5b7fced9.74492292 - Executing query 
[2018-10-06 21:30:35] - corrId_5bb90d5b7fced9.74492292 - Query executed successfully 
[2018-10-06 21:34:30] - corrId_5bb90e469d2f34.42964210 - Reached AuthenticationService API 
[2018-10-06 21:34:30] - corrId_5bb90e469d2f34.42964210 - Token is valid 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Reached BookingManagementService API 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Establishing connection to DB 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Processing GetComingSoonMovies request. 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Token is valid 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Executing query 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Query executed successfully 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Executing query 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Query executed successfully 
[2018-10-06 21:34:30] - corrId_5bb90e46b61612.12211426 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:34:31] - corrId_5bb90e470f9601.98840699 - Reached RentalManagementService API 
[2018-10-06 21:34:31] - corrId_5bb90e470f9601.98840699 - Establishing connection to DB 
[2018-10-06 21:34:31] - corrId_5bb90e470fd4b9.00020062 - Reached RentalManagementService API 
[2018-10-06 21:34:31] - corrId_5bb90e470fd4b9.00020062 - Establishing connection to DB 
[2018-10-06 21:34:31] - corrId_5bb90e470f9601.98840699 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:34:31] - corrId_5bb90e470f9601.98840699 - Token is valid 
[2018-10-06 21:34:31] - corrId_5bb90e470fd4b9.00020062 - Processing ClearRentalBookings request. 
ired 10, has 30) 
[2018-10-06 21:34:31] - corrId_5bb90e470f9601.98840699 - Executing query 
[2018-10-06 21:34:31] - corrId_5bb90e470fd4b9.00020062 - Token is valid 
[2018-10-06 21:34:31] - corrId_5bb90e470fd4b9.00020062 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:34:31] - corrId_5bb90e470f9601.98840699 - Query executed successfully 
[2018-10-06 21:34:31] - corrId_5bb90e470fd4b9.00020062 - Executing query 
[2018-10-06 21:34:31] - corrId_5bb90e470fd4b9.00020062 - Query executed successfully 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Reached RentalManagementService API 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Establishing connection to DB 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Token is valid 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Executing query 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Query executed successfully 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Executing query 
[2018-10-06 21:34:31] - corrId_5bb90e471ad0e2.29077609 - Query executed successfully 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Reached RentalManagementService API 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Establishing connection to DB 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Processing GetMostRecentCopies request. 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Token is valid 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Starting transaction 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Executing query 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Query executed successfully 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 130
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Executing query 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Query executed successfully 
[2018-10-06 21:34:46] - corrId_5bb90e563ef6e2.69615569 - Committing transaction 
[2018-10-06 21:34:46] - corrId_5bb90e564c25c8.13774470 - Reached RentalManagementService API 
[2018-10-06 21:34:46] - corrId_5bb90e564c25c8.13774470 - Establishing connection to DB 
[2018-10-06 21:34:46] - corrId_5bb90e564c25c8.13774470 - Processing GetActiveDiscount request. 
[2018-10-06 21:34:46] - corrId_5bb90e564c25c8.13774470 - Token is valid 
[2018-10-06 21:34:46] - corrId_5bb90e564c25c8.13774470 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:34:46] - corrId_5bb90e564c25c8.13774470 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:34:46] - corrId_5bb90e564c25c8.13774470 - Executing query 
[2018-10-06 21:34:46] - corrId_5bb90e564c25c8.13774470 - Query executed successfully 
[2018-10-06 21:35:02] - corrId_5bb90e66b228a5.12738739 - Reached RentalManagementService API 
[2018-10-06 21:35:02] - corrId_5bb90e66b228a5.12738739 - Establishing connection to DB 
[2018-10-06 21:35:02] - corrId_5bb90e66b228a5.12738739 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:35:02] - corrId_5bb90e66b228a5.12738739 - Token is valid 
[2018-10-06 21:35:02] - corrId_5bb90e66b228a5.12738739 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:02] - corrId_5bb90e66b228a5.12738739 - Executing query 
[2018-10-06 21:35:02] - corrId_5bb90e66b228a5.12738739 - Query executed successfully 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Reached RentalManagementService API 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Establishing connection to DB 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Processing GetMostRecentCopies request. 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Token is valid 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Starting transaction 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Executing query 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Query executed successfully 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 130
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Executing query 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Query executed successfully 
[2018-10-06 21:35:03] - corrId_5bb90e676da564.77597553 - Committing transaction 
[2018-10-06 21:35:14] - corrId_5bb90e72e21e22.89016183 - Reached RentalManagementService API 
[2018-10-06 21:35:14] - corrId_5bb90e72e21e22.89016183 - Establishing connection to DB 
[2018-10-06 21:35:14] - corrId_5bb90e72e21e22.89016183 - Processing GetActiveDiscount request. 
[2018-10-06 21:35:14] - corrId_5bb90e72e21e22.89016183 - Token is valid 
[2018-10-06 21:35:14] - corrId_5bb90e72e21e22.89016183 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:14] - corrId_5bb90e72e21e22.89016183 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:35:14] - corrId_5bb90e72e21e22.89016183 - Executing query 
[2018-10-06 21:35:14] - corrId_5bb90e72e21e22.89016183 - Query executed successfully 
[2018-10-06 21:35:29] - corrId_5bb90e813da864.36394758 - Reached AuthenticationService API 
[2018-10-06 21:35:29] - corrId_5bb90e813da864.36394758 - Token is valid 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Reached BookingManagementService API 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Establishing connection to DB 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Processing GetComingSoonMovies request. 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Token is valid 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Executing query 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Query executed successfully 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Executing query 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Query executed successfully 
[2018-10-06 21:35:29] - corrId_5bb90e8165f0c3.10223550 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:35:29] - corrId_5bb90e81b7b335.02265778 - Reached RentalManagementService API 
[2018-10-06 21:35:29] - corrId_5bb90e81b7f1c0.15294468 - Reached RentalManagementService API 
[2018-10-06 21:35:29] - corrId_5bb90e81b7b335.02265778 - Establishing connection to DB 
[2018-10-06 21:35:29] - corrId_5bb90e81b7f1c0.15294468 - Establishing connection to DB 
[2018-10-06 21:35:29] - corrId_5bb90e81b7b335.02265778 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:35:29] - corrId_5bb90e81b7f1c0.15294468 - Processing ClearRentalBookings request. 
[2018-10-06 21:35:29] - corrId_5bb90e81b7b335.02265778 - Token is valid 
[2018-10-06 21:35:29] - corrId_5bb90e81b7f1c0.15294468 - Token is valid 
[2018-10-06 21:35:29] - corrId_5bb90e81b7b335.02265778 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:29] - corrId_5bb90e81b7f1c0.15294468 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:29] - corrId_5bb90e81b7b335.02265778 - Executing query 
[2018-10-06 21:35:29] - corrId_5bb90e81b7f1c0.15294468 - Executing query 
[2018-10-06 21:35:29] - corrId_5bb90e81b7f1c0.15294468 - Query executed successfully 
[2018-10-06 21:35:29] - corrId_5bb90e81b7b335.02265778 - Query executed successfully 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Reached RentalManagementService API 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Establishing connection to DB 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Token is valid 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Executing query 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Query executed successfully 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Executing query 
[2018-10-06 21:35:29] - corrId_5bb90e81c0fa54.39112430 - Query executed successfully 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Reached RentalManagementService API 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Establishing connection to DB 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Processing GetMostRecentCopies request. 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Token is valid 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Starting transaction 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Executing query 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Query executed successfully 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 130
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Executing query 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Query executed successfully 
[2018-10-06 21:35:30] - corrId_5bb90e82d5f521.39761884 - Committing transaction 
[2018-10-06 21:35:30] - corrId_5bb90e82e07498.96265197 - Reached RentalManagementService API 
[2018-10-06 21:35:30] - corrId_5bb90e82e07498.96265197 - Establishing connection to DB 
[2018-10-06 21:35:30] - corrId_5bb90e82e07498.96265197 - Processing GetActiveDiscount request. 
[2018-10-06 21:35:30] - corrId_5bb90e82e07498.96265197 - Token is valid 
[2018-10-06 21:35:30] - corrId_5bb90e82e07498.96265197 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:30] - corrId_5bb90e82e07498.96265197 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:35:30] - corrId_5bb90e82e07498.96265197 - Executing query 
[2018-10-06 21:35:30] - corrId_5bb90e82e07498.96265197 - Query executed successfully 
[2018-10-06 21:35:34] - corrId_5bb90e86328e19.76951402 - Reached RentalManagementService API 
[2018-10-06 21:35:34] - corrId_5bb90e86328e19.76951402 - Establishing connection to DB 
[2018-10-06 21:35:34] - corrId_5bb90e86328e19.76951402 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:35:34] - corrId_5bb90e86328e19.76951402 - Token is valid 
[2018-10-06 21:35:34] - corrId_5bb90e86328e19.76951402 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:34] - corrId_5bb90e86328e19.76951402 - Executing query 
[2018-10-06 21:35:34] - corrId_5bb90e86328e19.76951402 - Query executed successfully 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Reached RentalManagementService API 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Establishing connection to DB 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Processing GetMostRecentCopies request. 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Token is valid 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Starting transaction 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Executing query 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Query executed successfully 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 130
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Executing query 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Query executed successfully 
[2018-10-06 21:35:34] - corrId_5bb90e86b7a9a7.85429288 - Committing transaction 
[2018-10-06 21:35:54] - corrId_5bb90e9a88e750.35315234 - Reached RentalManagementService API 
[2018-10-06 21:35:54] - corrId_5bb90e9a88e750.35315234 - Establishing connection to DB 
[2018-10-06 21:35:54] - corrId_5bb90e9a88e750.35315234 - Processing GetActiveDiscount request. 
[2018-10-06 21:35:54] - corrId_5bb90e9a88e750.35315234 - Token is valid 
[2018-10-06 21:35:54] - corrId_5bb90e9a88e750.35315234 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:54] - corrId_5bb90e9a88e750.35315234 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:35:54] - corrId_5bb90e9a88e750.35315234 - Executing query 
[2018-10-06 21:35:54] - corrId_5bb90e9a88e750.35315234 - Query executed successfully 
[2018-10-06 21:35:56] - corrId_5bb90e9c768732.40463131 - Reached RentalManagementService API 
[2018-10-06 21:35:56] - corrId_5bb90e9c768732.40463131 - Establishing connection to DB 
[2018-10-06 21:35:56] - corrId_5bb90e9c768732.40463131 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:35:56] - corrId_5bb90e9c768732.40463131 - Token is valid 
[2018-10-06 21:35:56] - corrId_5bb90e9c768732.40463131 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:35:56] - corrId_5bb90e9c768732.40463131 - Executing query 
[2018-10-06 21:35:56] - corrId_5bb90e9c768732.40463131 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Reached RentalManagementService API 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Establishing connection to DB 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Processing GetMostRecentCopies request. 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Token is valid 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Starting transaction 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 2
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Executing query 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 130
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Executing query 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 3
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Executing query 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 136
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Executing query 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 14
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Executing query 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 161
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Executing query 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 15
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Executing query 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 151
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Executing query 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Query executed successfully 
[2018-10-06 21:36:01] - corrId_5bb90ea1a2b009.04012623 - Committing transaction 
[2018-10-06 21:37:04] - corrId_5bb90ee08f11a5.92957815 - Reached RentalManagementService API 
[2018-10-06 21:37:04] - corrId_5bb90ee08f11a5.92957815 - Establishing connection to DB 
[2018-10-06 21:37:04] - corrId_5bb90ee08f11a5.92957815 - Processing GetActiveDiscount request. 
[2018-10-06 21:37:04] - corrId_5bb90ee08f11a5.92957815 - Token is valid 
[2018-10-06 21:37:04] - corrId_5bb90ee08f11a5.92957815 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:37:04] - corrId_5bb90ee08f11a5.92957815 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:37:04] - corrId_5bb90ee08f11a5.92957815 - Executing query 
[2018-10-06 21:37:04] - corrId_5bb90ee08f11a5.92957815 - Query executed successfully 
[2018-10-06 21:37:05] - corrId_5bb90ee139dcf9.93989904 - Reached AuthenticationService API 
[2018-10-06 21:37:05] - corrId_5bb90ee139dcf9.93989904 - Token is valid 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Reached BookingManagementService API 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Establishing connection to DB 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Processing GetComingSoonMovies request. 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Token is valid 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Executing query 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Query executed successfully 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Executing query 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Query executed successfully 
[2018-10-06 21:37:05] - corrId_5bb90ee1528584.75238038 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac2361.74042236 - Reached RentalManagementService API 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac2361.74042236 - Establishing connection to DB 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac6218.98759426 - Reached RentalManagementService API 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac6218.98759426 - Establishing connection to DB 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac2361.74042236 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac6218.98759426 - Processing ClearRentalBookings request. 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac2361.74042236 - Token is valid 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac6218.98759426 - Token is valid 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac2361.74042236 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac6218.98759426 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac2361.74042236 - Executing query 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac6218.98759426 - Executing query 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac6218.98759426 - Query executed successfully 
[2018-10-06 21:37:06] - corrId_5bb90ee2ac2361.74042236 - Query executed successfully 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Reached RentalManagementService API 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Establishing connection to DB 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Token is valid 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Executing query 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Query executed successfully 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Executing query 
[2018-10-06 21:37:06] - corrId_5bb90ee2b7db79.49661088 - Query executed successfully 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Reached BookingManagementService API 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Establishing connection to DB 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Processing GetComingSoonMovies request. 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Token is valid 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            OR fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Executing query 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Query executed successfully 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5, 12) 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Executing query 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Query executed successfully 
[2018-10-06 21:37:07] - corrId_5bb90ee3ebb932.44007414 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:39:26] - corrId_5bb90f6e4407c5.60657711 - Reached AuthenticationService API 
[2018-10-06 21:39:26] - corrId_5bb90f6e4407c5.60657711 - Token is valid 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Reached BookingManagementService API 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Establishing connection to DB 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Processing GetComingSoonMovies request. 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Token is valid 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Executing query 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Query executed successfully 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Executing query 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Query executed successfully 
[2018-10-06 21:39:26] - corrId_5bb90f6e64fd73.09828086 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Reached BookingManagementService API 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Establishing connection to DB 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Processing GetComingSoonMovies request. 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Token is valid 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Executing query 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Query executed successfully 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Executing query 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Query executed successfully 
[2018-10-06 21:39:26] - corrId_5bb90f6ea4bcb2.14676824 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:39:55] - corrId_5bb90f8b9aa2b8.82108365 - Reached RentalManagementService API 
[2018-10-06 21:39:55] - corrId_5bb90f8b9aa2b8.82108365 - Establishing connection to DB 
[2018-10-06 21:39:55] - corrId_5bb90f8b9b1fb2.03157542 - Reached RentalManagementService API 
[2018-10-06 21:39:55] - corrId_5bb90f8b9aa2b8.82108365 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:39:55] - corrId_5bb90f8b9b1fb2.03157542 - Establishing connection to DB 
[2018-10-06 21:39:55] - corrId_5bb90f8b9aa2b8.82108365 - Token is valid 
[2018-10-06 21:39:55] - corrId_5bb90f8b9aa2b8.82108365 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:39:55] - corrId_5bb90f8b9b1fb2.03157542 - Processing ClearRentalBookings request. 
[2018-10-06 21:39:55] - corrId_5bb90f8b9aa2b8.82108365 - Executing query 
[2018-10-06 21:39:55] - corrId_5bb90f8b9b1fb2.03157542 - Token is valid 
[2018-10-06 21:39:55] - corrId_5bb90f8b9b1fb2.03157542 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:39:55] - corrId_5bb90f8b9aa2b8.82108365 - Query executed successfully 
[2018-10-06 21:39:55] - corrId_5bb90f8b9b1fb2.03157542 - Executing query 
[2018-10-06 21:39:55] - corrId_5bb90f8b9b1fb2.03157542 - Query executed successfully 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Reached RentalManagementService API 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Establishing connection to DB 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Token is valid 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Executing query 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Query executed successfully 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 14, 15) 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Executing query 
[2018-10-06 21:39:55] - corrId_5bb90f8ba07ea1.25717972 - Query executed successfully 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Reached BookingManagementService API 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Establishing connection to DB 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Processing GetComingSoonMovies request. 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Token is valid 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Executing query 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Query executed successfully 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Executing query 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Query executed successfully 
[2018-10-06 21:40:04] - corrId_5bb90f942c1284.91356928 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:40:29] - corrId_5bb90fadeeddf0.03062242 - Reached StorageManagementService API 
[2018-10-06 21:40:29] - corrId_5bb90fadeeddf0.03062242 - Processing GetVideosInStorage request. 
[2018-10-06 21:40:29] - corrId_5bb90fadeeddf0.03062242 - Token is valid 
[2018-10-06 21:40:29] - corrId_5bb90fadeeddf0.03062242 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:40:29] - corrId_5bb90fadeeddf0.03062242 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 21:40:29] - corrId_5bb90fadeeddf0.03062242 - Establishing connection to DB 
[2018-10-06 21:40:29] - corrId_5bb90fadeeddf0.03062242 - Executing query 
[2018-10-06 21:40:30] - corrId_5bb90fadeeddf0.03062242 - Query executed successfully 
[2018-10-06 21:40:31] - corrId_5bb90faf625757.59081423 - Reached StorageManagementService API 
[2018-10-06 21:40:31] - corrId_5bb90faf625757.59081423 - Processing GetAlreadyAvailableMovies request. 
[2018-10-06 21:40:31] - corrId_5bb90faf625757.59081423 - Token is valid 
[2018-10-06 21:40:31] - corrId_5bb90faf625757.59081423 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:40:31] - corrId_5bb90faf625757.59081423 - Establishing connection to DB 
[2018-10-06 21:40:31] - corrId_5bb90faf625757.59081423 - Executing query 
[2018-10-06 21:40:31] - corrId_5bb90faf625757.59081423 - Query executed successfully 
[2018-10-06 21:40:31] - corrId_5bb90faf65c232.22537476 - Reached GetAllItemsService API 
[2018-10-06 21:40:31] - corrId_5bb90faf65c232.22537476 - Processing GetAllSuppliers request. 
[2018-10-06 21:40:31] - corrId_5bb90faf65c232.22537476 - Token is valid 
[2018-10-06 21:40:31] - corrId_5bb90faf65c232.22537476 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:40:31] - corrId_5bb90faf65c232.22537476 - Establishing connection to DB 
[2018-10-06 21:40:31] - corrId_5bb90faf65c232.22537476 - Executing query 
[2018-10-06 21:40:31] - corrId_5bb90faf65c232.22537476 - Query executed successfully 
[2018-10-06 21:42:09] - corrId_5bb91011467b68.39668198 - Reached AuthenticationService API 
[2018-10-06 21:42:09] - corrId_5bb91011467b68.39668198 - Token is valid 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Reached BookingManagementService API 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Establishing connection to DB 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Processing GetComingSoonMovies request. 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Token is valid 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Executing query 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Query executed successfully 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Executing query 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Query executed successfully 
[2018-10-06 21:42:09] - corrId_5bb910116d8b19.71063399 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:42:09] - corrId_5bb91011da4604.89647526 - Reached StorageManagementService API 
[2018-10-06 21:42:09] - corrId_5bb91011da4604.89647526 - Processing GetVideosInStorage request. 
[2018-10-06 21:42:09] - corrId_5bb91011da4604.89647526 - Token is valid 
[2018-10-06 21:42:09] - corrId_5bb91011da4604.89647526 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:09] - corrId_5bb91011da4604.89647526 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 21:42:09] - corrId_5bb91011da4604.89647526 - Establishing connection to DB 
[2018-10-06 21:42:09] - corrId_5bb91011da4604.89647526 - Executing query 
[2018-10-06 21:42:09] - corrId_5bb91011da4604.89647526 - Query executed successfully 
[2018-10-06 21:42:14] - corrId_5bb9101603d2f2.46932421 - Reached GetAllItemsService API 
[2018-10-06 21:42:14] - corrId_5bb9101603d2f2.46932421 - Processing GetAllSuppliers request. 
[2018-10-06 21:42:14] - corrId_5bb9101603d2f2.46932421 - Token is valid 
[2018-10-06 21:42:14] - corrId_5bb9101603d2f2.46932421 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:14] - corrId_5bb91016048e63.77040031 - Reached StorageManagementService API 
[2018-10-06 21:42:14] - corrId_5bb91016048e63.77040031 - Processing GetAlreadyAvailableMovies request. 
[2018-10-06 21:42:14] - corrId_5bb9101603d2f2.46932421 - Establishing connection to DB 
[2018-10-06 21:42:14] - corrId_5bb91016048e63.77040031 - Token is valid 
[2018-10-06 21:42:14] - corrId_5bb91016048e63.77040031 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:14] - corrId_5bb9101603d2f2.46932421 - Executing query 
[2018-10-06 21:42:14] - corrId_5bb91016048e63.77040031 - Establishing connection to DB 
[2018-10-06 21:42:14] - corrId_5bb9101603d2f2.46932421 - Query executed successfully 
[2018-10-06 21:42:14] - corrId_5bb91016048e63.77040031 - Executing query 
[2018-10-06 21:42:14] - corrId_5bb91016048e63.77040031 - Query executed successfully 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Reached BookingManagementService API 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Establishing connection to DB 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Processing GetComingSoonMovies request. 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Token is valid 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Executing query 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Query executed successfully 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Executing query 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Query executed successfully 
[2018-10-06 21:42:21] - corrId_5bb9101d1047c8.27576999 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:42:23] - corrId_5bb9101f14fb01.00676434 - Reached StorageManagementService API 
[2018-10-06 21:42:23] - corrId_5bb9101f14fb01.00676434 - Processing GetVideosInStorage request. 
[2018-10-06 21:42:23] - corrId_5bb9101f14fb01.00676434 - Token is valid 
[2018-10-06 21:42:23] - corrId_5bb9101f14fb01.00676434 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:23] - corrId_5bb9101f14fb01.00676434 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 21:42:23] - corrId_5bb9101f14fb01.00676434 - Establishing connection to DB 
[2018-10-06 21:42:23] - corrId_5bb9101f14fb01.00676434 - Executing query 
[2018-10-06 21:42:23] - corrId_5bb9101f14fb01.00676434 - Query executed successfully 
[2018-10-06 21:42:24] - corrId_5bb910205234c3.86836776 - Reached StorageManagementService API 
[2018-10-06 21:42:24] - corrId_5bb91020527355.30481061 - Reached GetAllItemsService API 
[2018-10-06 21:42:24] - corrId_5bb910205234c3.86836776 - Processing GetAlreadyAvailableMovies request. 
[2018-10-06 21:42:24] - corrId_5bb91020527355.30481061 - Processing GetAllSuppliers request. 
[2018-10-06 21:42:24] - corrId_5bb910205234c3.86836776 - Token is valid 
[2018-10-06 21:42:24] - corrId_5bb91020527355.30481061 - Token is valid 
[2018-10-06 21:42:24] - corrId_5bb910205234c3.86836776 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:24] - corrId_5bb91020527355.30481061 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:24] - corrId_5bb910205234c3.86836776 - Establishing connection to DB 
[2018-10-06 21:42:24] - corrId_5bb91020527355.30481061 - Establishing connection to DB 
[2018-10-06 21:42:24] - corrId_5bb910205234c3.86836776 - Executing query 
[2018-10-06 21:42:24] - corrId_5bb91020527355.30481061 - Executing query 
[2018-10-06 21:42:24] - corrId_5bb91020527355.30481061 - Query executed successfully 
[2018-10-06 21:42:24] - corrId_5bb910205234c3.86836776 - Query executed successfully 
[2018-10-06 21:42:46] - corrId_5bb910367b6678.26029433 - Reached StorageManagementService API 
[2018-10-06 21:42:46] - corrId_5bb910367b6673.71686339 - Reached GetAllItemsService API 
[2018-10-06 21:42:46] - corrId_5bb910367b6678.26029433 - Processing GetAlreadyAvailableMovies request. 
[2018-10-06 21:42:46] - corrId_5bb910367b6673.71686339 - Processing GetAllSuppliers request. 
[2018-10-06 21:42:46] - corrId_5bb910367b6678.26029433 - Token is valid 
[2018-10-06 21:42:46] - corrId_5bb910367b6673.71686339 - Token is valid 
[2018-10-06 21:42:46] - corrId_5bb910367b6678.26029433 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:46] - corrId_5bb910367b6673.71686339 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:42:46] - corrId_5bb910367b6678.26029433 - Establishing connection to DB 
[2018-10-06 21:42:46] - corrId_5bb910367b6673.71686339 - Establishing connection to DB 
[2018-10-06 21:42:46] - corrId_5bb910367b6673.71686339 - Executing query 
[2018-10-06 21:42:46] - corrId_5bb910367b6673.71686339 - Query executed successfully 
[2018-10-06 21:42:46] - corrId_5bb910367b6678.26029433 - Executing query 
[2018-10-06 21:42:46] - corrId_5bb910367b6678.26029433 - Query executed successfully 
[2018-10-06 21:43:02] - corrId_5bb910469a25d1.45536467 - Reached StorageManagementService API 
[2018-10-06 21:43:02] - corrId_5bb910469a25d1.45536467 - Processing GetVideosInStorage request. 
[2018-10-06 21:43:02] - corrId_5bb910469a25d1.45536467 - Token is valid 
[2018-10-06 21:43:02] - corrId_5bb910469a25d1.45536467 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:43:02] - corrId_5bb910469a25d1.45536467 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 21:43:02] - corrId_5bb910469a25d1.45536467 - Establishing connection to DB 
[2018-10-06 21:43:02] - corrId_5bb910469a25d1.45536467 - Executing query 
[2018-10-06 21:43:02] - corrId_5bb910469a25d1.45536467 - Query executed successfully 
[2018-10-06 21:43:04] - corrId_5bb91048500240.43549732 - Reached StorageManagementService API 
[2018-10-06 21:43:04] - corrId_5bb910485040d4.47956725 - Reached GetAllItemsService API 
[2018-10-06 21:43:04] - corrId_5bb91048500240.43549732 - Processing GetAlreadyAvailableMovies request. 
[2018-10-06 21:43:04] - corrId_5bb910485040d4.47956725 - Processing GetAllSuppliers request. 
[2018-10-06 21:43:04] - corrId_5bb91048500240.43549732 - Token is valid 
[2018-10-06 21:43:04] - corrId_5bb910485040d4.47956725 - Token is valid 
[2018-10-06 21:43:04] - corrId_5bb91048500240.43549732 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:43:04] - corrId_5bb910485040d4.47956725 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:43:04] - corrId_5bb91048500240.43549732 - Query: SELECT *
            FROM film
            WHERE inUscita = 0
            OR data_uscita > '1538854984' 
[2018-10-06 21:43:04] - corrId_5bb910485040d4.47956725 - Establishing connection to DB 
[2018-10-06 21:43:04] - corrId_5bb91048500240.43549732 - Establishing connection to DB 
[2018-10-06 21:43:04] - corrId_5bb91048500240.43549732 - Executing query 
[2018-10-06 21:43:04] - corrId_5bb910485040d4.47956725 - Executing query 
[2018-10-06 21:43:04] - corrId_5bb91048500240.43549732 - Query executed successfully 
[2018-10-06 21:43:40] - corrId_5bb9106c89a2a0.79035215 - Reached GetAllItemsService API 
[2018-10-06 21:43:40] - corrId_5bb9106c89a2a0.79035215 - Processing GetAllSuppliers request. 
[2018-10-06 21:43:40] - corrId_5bb9106c89a2a0.79035215 - Token is valid 
[2018-10-06 21:43:40] - corrId_5bb9106c89a2a0.79035215 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:43:40] - corrId_5bb9106c89a2a0.79035215 - Establishing connection to DB 
[2018-10-06 21:43:40] - corrId_5bb9106c8a9cb1.54684684 - Reached StorageManagementService API 
[2018-10-06 21:43:40] - corrId_5bb9106c8a9cb1.54684684 - Processing GetAlreadyAvailableMovies request. 
[2018-10-06 21:43:40] - corrId_5bb9106c89a2a0.79035215 - Executing query 
[2018-10-06 21:43:40] - corrId_5bb9106c8a9cb1.54684684 - Token is valid 
[2018-10-06 21:43:40] - corrId_5bb9106c89a2a0.79035215 - Query executed successfully 
[2018-10-06 21:43:40] - corrId_5bb9106c8a9cb1.54684684 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:43:40] - corrId_5bb9106c8a9cb1.54684684 - Query: SELECT *
            FROM film
            WHERE inUscita = 0
            OR data_uscita > '2018-10-06' 
[2018-10-06 21:43:40] - corrId_5bb9106c8a9cb1.54684684 - Establishing connection to DB 
[2018-10-06 21:43:40] - corrId_5bb9106c8a9cb1.54684684 - Executing query 
[2018-10-06 21:43:40] - corrId_5bb9106c8a9cb1.54684684 - Query executed successfully 
[2018-10-06 21:44:06] - corrId_5bb910866275c5.68243998 - Reached AuthenticationService API 
[2018-10-06 21:44:06] - corrId_5bb910866275c5.68243998 - Token is valid 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Reached BookingManagementService API 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Establishing connection to DB 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Processing GetComingSoonMovies request. 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Token is valid 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Executing query 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Query executed successfully 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Executing query 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Query executed successfully 
[2018-10-06 21:44:06] - corrId_5bb91086836b36.33992020 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:44:06] - corrId_5bb91086c0b991.16575044 - Reached StorageManagementService API 
[2018-10-06 21:44:06] - corrId_5bb91086c0b991.16575044 - Processing GetVideosInStorage request. 
[2018-10-06 21:44:06] - corrId_5bb91086c0b991.16575044 - Token is valid 
[2018-10-06 21:44:06] - corrId_5bb91086c0b991.16575044 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:06] - corrId_5bb91086c0b991.16575044 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 21:44:06] - corrId_5bb91086c0b991.16575044 - Establishing connection to DB 
[2018-10-06 21:44:06] - corrId_5bb91086c0b991.16575044 - Executing query 
[2018-10-06 21:44:06] - corrId_5bb91086c0b991.16575044 - Query executed successfully 
[2018-10-06 21:44:07] - corrId_5bb91087c97948.45218772 - Reached GetAllItemsService API 
[2018-10-06 21:44:07] - corrId_5bb91087c97948.45218772 - Processing GetAllSuppliers request. 
[2018-10-06 21:44:07] - corrId_5bb91087c97948.45218772 - Token is valid 
[2018-10-06 21:44:07] - corrId_5bb91087ca34b7.35907676 - Reached StorageManagementService API 
[2018-10-06 21:44:07] - corrId_5bb91087ca34b7.35907676 - Processing GetAlreadyAvailableMovies request. 
[2018-10-06 21:44:07] - corrId_5bb91087c97948.45218772 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:07] - corrId_5bb91087ca34b7.35907676 - Token is valid 
[2018-10-06 21:44:07] - corrId_5bb91087ca34b7.35907676 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:07] - corrId_5bb91087ca34b7.35907676 - Query: SELECT *
            FROM film
            WHERE inUscita = 0
            OR data_uscita <= '2018-10-06' 
[2018-10-06 21:44:07] - corrId_5bb91087c97948.45218772 - Executing query 
[2018-10-06 21:44:07] - corrId_5bb91087ca34b7.35907676 - Establishing connection to DB 
[2018-10-06 21:44:07] - corrId_5bb91087c97948.45218772 - Query executed successfully 
[2018-10-06 21:44:07] - corrId_5bb91087ca34b7.35907676 - Executing query 
[2018-10-06 21:44:07] - corrId_5bb91087ca34b7.35907676 - Query executed successfully 
[2018-10-06 21:44:14] - corrId_5bb9108eb8fe89.64781111 - Reached StorageManagementService API 
[2018-10-06 21:44:14] - corrId_5bb9108eb8fe89.64781111 - Processing UnloadCopies request. 
[2018-10-06 21:44:14] - corrId_5bb9108eb8fe89.64781111 - Token is valid 
[2018-10-06 21:44:14] - corrId_5bb9108eb8fe89.64781111 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:14] - corrId_5bb9108eb8fe89.64781111 - Query: INSERT INTO copia
            (id_film, id_punto_vendita, id_fornitore)
            VALUES (5, 1, 1), (5, 1, 1), (5, 1, 1), (5, 1, 1), (5, 1, 1), (5, 1, 1), (5, 1, 1), (5, 1, 1), (5, 1, 1), (5, 1, 1) 
[2018-10-06 21:44:14] - corrId_5bb9108eb8fe89.64781111 - Establishing connection to DB 
[2018-10-06 21:44:14] - corrId_5bb9108eb8fe89.64781111 - Executing query 
[2018-10-06 21:44:14] - corrId_5bb9108eb8fe89.64781111 - Query executed successfully 
[2018-10-06 21:44:14] - corrId_5bb9108ec57328.97616876 - Reached StorageManagementService API 
[2018-10-06 21:44:14] - corrId_5bb9108ec57328.97616876 - Processing GetVideosInStorage request. 
[2018-10-06 21:44:14] - corrId_5bb9108ec57328.97616876 - Token is valid 
[2018-10-06 21:44:14] - corrId_5bb9108ec57328.97616876 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:14] - corrId_5bb9108ec57328.97616876 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 21:44:14] - corrId_5bb9108ec57328.97616876 - Establishing connection to DB 
[2018-10-06 21:44:14] - corrId_5bb9108ec57328.97616876 - Executing query 
[2018-10-06 21:44:14] - corrId_5bb9108ec57328.97616876 - Query executed successfully 
[2018-10-06 21:44:16] - corrId_5bb91090527975.18229617 - Reached RentalManagementService API 
[2018-10-06 21:44:16] - corrId_5bb91090527975.18229617 - Establishing connection to DB 
[2018-10-06 21:44:16] - corrId_5bb9109052b824.83446208 - Reached RentalManagementService API 
[2018-10-06 21:44:16] - corrId_5bb9109052b824.83446208 - Establishing connection to DB 
[2018-10-06 21:44:16] - corrId_5bb91090527975.18229617 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:44:16] - corrId_5bb91090527975.18229617 - Token is valid 
[2018-10-06 21:44:16] - corrId_5bb9109052b824.83446208 - Processing ClearRentalBookings request. 
[2018-10-06 21:44:16] - corrId_5bb91090527975.18229617 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:16] - corrId_5bb91090527975.18229617 - Executing query 
[2018-10-06 21:44:16] - corrId_5bb9109052b824.83446208 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:16] - corrId_5bb91090527975.18229617 - Query executed successfully 
[2018-10-06 21:44:16] - corrId_5bb9109052b824.83446208 - Executing query 
[2018-10-06 21:44:16] - corrId_5bb9109052b824.83446208 - Query executed successfully 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Reached RentalManagementService API 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Establishing connection to DB 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Token is valid 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Executing query 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Query executed successfully 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 5, 14, 15) 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Executing query 
[2018-10-06 21:44:16] - corrId_5bb910905bff11.87721439 - Query executed successfully 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Reached RentalManagementService API 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Establishing connection to DB 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Processing GetMostRecentCopies request. 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Token is valid 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Starting transaction 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 15
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Executing query 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Query executed successfully 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 151
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Executing query 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Query executed successfully 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 5
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Executing query 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Query executed successfully 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 165
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Executing query 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Query executed successfully 
[2018-10-06 21:44:27] - corrId_5bb9109b02b2d7.58374877 - Committing transaction 
[2018-10-06 21:44:39] - corrId_5bb910a74697d9.95006050 - Reached RentalManagementService API 
[2018-10-06 21:44:39] - corrId_5bb910a74697d9.95006050 - Establishing connection to DB 
[2018-10-06 21:44:39] - corrId_5bb910a74697d9.95006050 - Processing GetActiveDiscount request. 
[2018-10-06 21:44:39] - corrId_5bb910a74697d9.95006050 - Token is valid 
[2018-10-06 21:44:39] - corrId_5bb910a74697d9.95006050 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:39] - corrId_5bb910a74697d9.95006050 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:44:39] - corrId_5bb910a74697d9.95006050 - Executing query 
[2018-10-06 21:44:39] - corrId_5bb910a74697d9.95006050 - Query executed successfully 
[2018-10-06 21:44:41] - corrId_5bb910a92c7942.78026855 - Reached RentalManagementService API 
[2018-10-06 21:44:41] - corrId_5bb910a92c7942.78026855 - Establishing connection to DB 
[2018-10-06 21:44:41] - corrId_5bb910a92c7942.78026855 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:44:41] - corrId_5bb910a92c7942.78026855 - Token is valid 
[2018-10-06 21:44:41] - corrId_5bb910a92c7942.78026855 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:41] - corrId_5bb910a92c7942.78026855 - Executing query 
[2018-10-06 21:44:41] - corrId_5bb910a92c7942.78026855 - Query executed successfully 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Reached RentalManagementService API 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Establishing connection to DB 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Processing GetMostRecentCopies request. 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Token is valid 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Starting transaction 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 15
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Executing query 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Query executed successfully 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 151
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Executing query 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Query executed successfully 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 5
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Executing query 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Query executed successfully 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 165
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Executing query 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Query executed successfully 
[2018-10-06 21:44:46] - corrId_5bb910ae006608.73890708 - Committing transaction 
[2018-10-06 21:45:22] - corrId_5bb910d2412040.31767948 - Reached RentalManagementService API 
[2018-10-06 21:45:22] - corrId_5bb910d2412040.31767948 - Establishing connection to DB 
[2018-10-06 21:45:22] - corrId_5bb910d2412040.31767948 - Processing GetActiveDiscount request. 
[2018-10-06 21:45:22] - corrId_5bb910d2412040.31767948 - Token is valid 
[2018-10-06 21:45:22] - corrId_5bb910d2412040.31767948 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:45:22] - corrId_5bb910d2412040.31767948 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:45:22] - corrId_5bb910d2412040.31767948 - Executing query 
[2018-10-06 21:45:22] - corrId_5bb910d2412040.31767948 - Query executed successfully 
[2018-10-06 21:45:24] - corrId_5bb910d4926b41.76373725 - Reached RentalManagementService API 
[2018-10-06 21:45:24] - corrId_5bb910d4926b41.76373725 - Establishing connection to DB 
[2018-10-06 21:45:24] - corrId_5bb910d4926b41.76373725 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:45:24] - corrId_5bb910d4926b41.76373725 - Token is valid 
[2018-10-06 21:45:24] - corrId_5bb910d4926b41.76373725 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:45:24] - corrId_5bb910d4926b41.76373725 - Executing query 
[2018-10-06 21:45:24] - corrId_5bb910d4926b41.76373725 - Query executed successfully 
[2018-10-06 21:45:39] - corrId_5bb910e3d3bec9.85935193 - Reached AuthenticationService API 
[2018-10-06 21:45:39] - corrId_5bb910e3d3bec9.85935193 - Token is valid 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Reached BookingManagementService API 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Establishing connection to DB 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Processing GetComingSoonMovies request. 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Token is valid 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Executing query 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Query executed successfully 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Executing query 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Query executed successfully 
[2018-10-06 21:45:40] - corrId_5bb910e4095a24.18774001 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:45:40] - corrId_5bb910e43d5ab5.63128056 - Reached RentalManagementService API 
[2018-10-06 21:45:40] - corrId_5bb910e43d5ab5.63128056 - Establishing connection to DB 
[2018-10-06 21:45:40] - corrId_5bb910e43d9940.50358478 - Reached RentalManagementService API 
[2018-10-06 21:45:40] - corrId_5bb910e43d5ab5.63128056 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:45:40] - corrId_5bb910e43d9940.50358478 - Establishing connection to DB 
[2018-10-06 21:45:40] - corrId_5bb910e43d5ab5.63128056 - Token is valid 
[2018-10-06 21:45:40] - corrId_5bb910e43d5ab5.63128056 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:45:40] - corrId_5bb910e43d9940.50358478 - Processing ClearRentalBookings request. 
[2018-10-06 21:45:40] - corrId_5bb910e43d5ab5.63128056 - Executing query 
[2018-10-06 21:45:40] - corrId_5bb910e43d9940.50358478 - Token is valid 
[2018-10-06 21:45:40] - corrId_5bb910e43d9940.50358478 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:45:40] - corrId_5bb910e43d9940.50358478 - Executing query 
[2018-10-06 21:45:40] - corrId_5bb910e43d9940.50358478 - Query executed successfully 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Reached RentalManagementService API 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Establishing connection to DB 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Token is valid 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Executing query 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Query executed successfully 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 5, 14, 15) 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Executing query 
[2018-10-06 21:45:40] - corrId_5bb910e44624e8.10703688 - Query executed successfully 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Reached RentalManagementService API 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Establishing connection to DB 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Processing GetMostRecentCopies request. 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Token is valid 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Starting transaction 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 15
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Executing query 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Query executed successfully 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 151
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Executing query 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Query executed successfully 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 5
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Executing query 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Query executed successfully 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 165
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Executing query 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Query executed successfully 
[2018-10-06 21:45:41] - corrId_5bb910e5dc0734.67550905 - Committing transaction 
[2018-10-06 21:46:03] - corrId_5bb910fb4c13e9.17553291 - Reached RentalManagementService API 
[2018-10-06 21:46:03] - corrId_5bb910fb4c13e9.17553291 - Establishing connection to DB 
[2018-10-06 21:46:03] - corrId_5bb910fb4c13e9.17553291 - Processing GetActiveDiscount request. 
[2018-10-06 21:46:03] - corrId_5bb910fb4c13e9.17553291 - Token is valid 
[2018-10-06 21:46:03] - corrId_5bb910fb4c13e9.17553291 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:46:03] - corrId_5bb910fb4c13e9.17553291 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:46:03] - corrId_5bb910fb4c13e9.17553291 - Executing query 
[2018-10-06 21:46:03] - corrId_5bb910fb4c13e9.17553291 - Query executed successfully 
[2018-10-06 21:46:10] - corrId_5bb91102bd4677.39742036 - Reached RentalManagementService API 
[2018-10-06 21:46:10] - corrId_5bb91102bd4677.39742036 - Establishing connection to DB 
[2018-10-06 21:46:10] - corrId_5bb91102bd4677.39742036 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:46:10] - corrId_5bb91102bd4677.39742036 - Token is valid 
[2018-10-06 21:46:10] - corrId_5bb91102bd4677.39742036 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:46:10] - corrId_5bb91102bd4677.39742036 - Executing query 
[2018-10-06 21:46:10] - corrId_5bb91102bd4677.39742036 - Query executed successfully 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Reached BookingManagementService API 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Establishing connection to DB 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Processing GetComingSoonMovies request. 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Token is valid 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Executing query 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Query executed successfully 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Executing query 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Query executed successfully 
[2018-10-06 21:57:36] - corrId_5bb913b0211af2.45064091 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Reached BookingManagementService API 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Establishing connection to DB 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Processing GetUsersForBooking request. 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Token is valid 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Query: SELECT pr.id_prenotazione, cl.id_cliente, cl.nome, cl.cognome, fi.titolo, fi.id_film
            FROM prenotazione pr
            INNER JOIN film fi
            ON pr.id_film = fi.id_film
            INNER JOIN cliente cl
            ON pr.id_cliente = cl.id_cliente
            WHERE pr.id_film = 5
            AND pr.id_punto_vendita = 1 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Executing query 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Query executed successfully 
[2018-10-06 21:57:39] - corrId_5bb913b3a9e295.04831533 - Operation getUsersForBooking was successful. 
[2018-10-06 21:57:44] - corrId_5bb913b838be34.79690904 - Reached RentalManagementService API 
[2018-10-06 21:57:44] - corrId_5bb913b838be34.79690904 - Establishing connection to DB 
[2018-10-06 21:57:44] - corrId_5bb913b8393ae2.17938179 - Reached RentalManagementService API 
[2018-10-06 21:57:44] - corrId_5bb913b8393ae2.17938179 - Establishing connection to DB 
[2018-10-06 21:57:44] - corrId_5bb913b838be34.79690904 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:57:44] - corrId_5bb913b8393ae2.17938179 - Processing ClearRentalBookings request. 
[2018-10-06 21:57:44] - corrId_5bb913b838be34.79690904 - Token is valid 
[2018-10-06 21:57:44] - corrId_5bb913b8393ae2.17938179 - Token is valid 
[2018-10-06 21:57:44] - corrId_5bb913b8393ae2.17938179 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:57:44] - corrId_5bb913b838be34.79690904 - Executing query 
[2018-10-06 21:57:44] - corrId_5bb913b838be34.79690904 - Query executed successfully 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Reached RentalManagementService API 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Establishing connection to DB 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Token is valid 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Executing query 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Query executed successfully 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 5, 14, 15) 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Executing query 
[2018-10-06 21:57:44] - corrId_5bb913b845ecf6.09768453 - Query executed successfully 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Reached RentalManagementService API 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Establishing connection to DB 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Processing GetMostRecentCopies request. 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Token is valid 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Starting transaction 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 5
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Executing query 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Query executed successfully 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 165
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Executing query 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Query executed successfully 
[2018-10-06 21:57:46] - corrId_5bb913ba0dd8d8.35530547 - Committing transaction 
[2018-10-06 21:57:46] - corrId_5bb913ba184650.56107372 - Reached RentalManagementService API 
[2018-10-06 21:57:46] - corrId_5bb913ba184650.56107372 - Establishing connection to DB 
[2018-10-06 21:57:46] - corrId_5bb913ba184650.56107372 - Processing GetActiveDiscount request. 
[2018-10-06 21:57:46] - corrId_5bb913ba184650.56107372 - Token is valid 
[2018-10-06 21:57:46] - corrId_5bb913ba184650.56107372 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:57:46] - corrId_5bb913ba184650.56107372 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:57:46] - corrId_5bb913ba184650.56107372 - Executing query 
[2018-10-06 21:57:46] - corrId_5bb913ba184650.56107372 - Query executed successfully 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Reached CustomerManagementService API 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Processing FindCustomerById request. 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Token is valid 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Establishing connection to DB 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Executing query 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Query executed successfully 
[2018-10-06 21:57:51] - corrId_5bb913bf4102b8.35485137 - Operation findCustomerById was successful. 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Reached RentalManagementService API 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Establishing connection to DB 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Processing RentVideos request. 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Token is valid 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Starting transaction 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (1, 1, 38, 165, 1, CURRENT_TIMESTAMP, '2018-10-08') 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Executing query 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Query executed successfully 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Rent Insert successful, Id:  
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 86
            LIMIT 1 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Executing query 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Query executed successfully 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Query: UPDATE noleggio
            SET prezzo_totale = 9.500000
            WHERE id_noleggio = 86 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Executing query 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Query executed successfully 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Rent Update on amount successful 
[2018-10-06 21:57:54] - corrId_5bb913c263b727.34228747 - Rolling back current transaction 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Reached RentalManagementService API 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Establishing connection to DB 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Processing RentVideos request. 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Token is valid 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Starting transaction 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (1, 1, 38, 165, 1, CURRENT_TIMESTAMP, '2018-10-08') 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Executing query 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Query executed successfully 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Rent Insert successful, Id:  
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 87
            LIMIT 1 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Executing query 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Query executed successfully 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Query: UPDATE noleggio
            SET prezzo_totale = 9.500000
            WHERE id_noleggio = 87 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Executing query 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Query executed successfully 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Rent Update on amount successful 
[2018-10-06 21:58:27] - corrId_5bb913e3567040.76934689 - Rolling back current transaction 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Reached RentalManagementService API 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Establishing connection to DB 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Processing RentVideos request. 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Token is valid 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Starting transaction 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (1, 1, 38, 165, 1, CURRENT_TIMESTAMP, '2018-10-08') 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Executing query 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Query executed successfully 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Rent Insert successful, Id:  
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 88
            LIMIT 1 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Executing query 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Query executed successfully 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Query: UPDATE noleggio
            SET prezzo_totale = 9.500000
            WHERE id_noleggio = 88 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Executing query 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Query executed successfully 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Rent Update on amount successful 
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - INUSCITA:  
[2018-10-06 21:59:02] - corrId_5bb91406457394.22630370 - Rolling back current transaction 
[2018-10-06 21:59:22] - corrId_5bb9141aa674f6.73436471 - Reached AuthenticationService API 
[2018-10-06 21:59:22] - corrId_5bb9141aa674f6.73436471 - Token is valid 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Reached BookingManagementService API 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Establishing connection to DB 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Processing GetComingSoonMovies request. 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Token is valid 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Executing query 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Query executed successfully 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Executing query 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Query executed successfully 
[2018-10-06 21:59:22] - corrId_5bb9141abb3376.81082583 - Operation getComingSoonMovies was successful. 
[2018-10-06 21:59:23] - corrId_5bb9141b0db0b1.03207527 - Reached RentalManagementService API 
[2018-10-06 21:59:23] - corrId_5bb9141b0db0b1.03207527 - Establishing connection to DB 
[2018-10-06 21:59:23] - corrId_5bb9141b0def01.87065784 - Reached RentalManagementService API 
[2018-10-06 21:59:23] - corrId_5bb9141b0def01.87065784 - Establishing connection to DB 
[2018-10-06 21:59:23] - corrId_5bb9141b0db0b1.03207527 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 21:59:23] - corrId_5bb9141b0db0b1.03207527 - Token is valid 
[2018-10-06 21:59:23] - corrId_5bb9141b0db0b1.03207527 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:23] - corrId_5bb9141b0def01.87065784 - Processing ClearRentalBookings request. 
[2018-10-06 21:59:23] - corrId_5bb9141b0db0b1.03207527 - Executing query 
[2018-10-06 21:59:23] - corrId_5bb9141b0def01.87065784 - Token is valid 
[2018-10-06 21:59:23] - corrId_5bb9141b0def01.87065784 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:23] - corrId_5bb9141b0def01.87065784 - Executing query 
[2018-10-06 21:59:23] - corrId_5bb9141b0db0b1.03207527 - Query executed successfully 
[2018-10-06 21:59:23] - corrId_5bb9141b0def01.87065784 - Query executed successfully 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Reached RentalManagementService API 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Establishing connection to DB 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Token is valid 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Executing query 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Query executed successfully 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 5, 14, 15) 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Executing query 
[2018-10-06 21:59:23] - corrId_5bb9141b186e44.18220658 - Query executed successfully 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Reached RentalManagementService API 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Establishing connection to DB 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Processing GetMostRecentCopies request. 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Token is valid 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Starting transaction 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 5
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Executing query 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Query executed successfully 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 165
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Executing query 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Query executed successfully 
[2018-10-06 21:59:25] - corrId_5bb9141d0a2a75.67285844 - Committing transaction 
[2018-10-06 21:59:25] - corrId_5bb9141d146b60.34296139 - Reached RentalManagementService API 
[2018-10-06 21:59:25] - corrId_5bb9141d146b60.34296139 - Establishing connection to DB 
[2018-10-06 21:59:25] - corrId_5bb9141d146b60.34296139 - Processing GetActiveDiscount request. 
[2018-10-06 21:59:25] - corrId_5bb9141d146b60.34296139 - Token is valid 
[2018-10-06 21:59:25] - corrId_5bb9141d146b60.34296139 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:25] - corrId_5bb9141d146b60.34296139 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 21:59:25] - corrId_5bb9141d146b60.34296139 - Executing query 
[2018-10-06 21:59:25] - corrId_5bb9141d146b60.34296139 - Query executed successfully 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Reached CustomerManagementService API 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Processing FindCustomerById request. 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Token is valid 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Establishing connection to DB 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Executing query 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Query executed successfully 
[2018-10-06 21:59:30] - corrId_5bb914227baa70.89443813 - Operation findCustomerById was successful. 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Reached RentalManagementService API 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Establishing connection to DB 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Processing RentVideos request. 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Token is valid 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Starting transaction 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (1, 1, 38, 165, 1, CURRENT_TIMESTAMP, '2018-10-08') 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Executing query 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Query executed successfully 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Rent Insert successful, Id:  
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 89
            LIMIT 1 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Executing query 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Query executed successfully 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Query: UPDATE noleggio
            SET prezzo_totale = 9.500000
            WHERE id_noleggio = 89 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Executing query 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Query executed successfully 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Rent Update on amount successful 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - INUSCITA: 1 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Query: UPDATE prenotazione
            SET ritirato = 1
            WHERE id_cliente = 
            AND id_punto_vendita = 0
            AND id_film = 0 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Executing query 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Error while executing query -> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AND id_punto_vendita = 0
            AND id_film = 0' at line 4 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Error while processing RentVideos request: Exception: Exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AND id_punto_vendita = 0
            AND id_film = 0' at line 4 in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:69
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(21): DBConnection->ExecuteQuery('UPDATE prenotaz...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(266): RentalManagementService->ExecuteQuery('UPDATE prenotaz...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(176): RentalManagementService->SetBookingStatusAsRented(Object(stdClass))
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(294): RentalManagementService->RentVideos()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(312): RentalManagementService->Init()
#5 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:79
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(21): DBConnection->ExecuteQuery('UPDATE prenotaz...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(266): RentalManagementService->ExecuteQuery('UPDATE prenotaz...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(176): RentalManagementService->SetBookingStatusAsRented(Object(stdClass))
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(294): RentalManagementService->RentVideos()
#4 C:\Projects\ProgettiBDC\Videonoleggio\php\RentalManagementService.php(312): RentalManagementService->Init()
#5 {main} 
[2018-10-06 21:59:32] - corrId_5bb91424424893.58822193 - Rolling back current transaction 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Reached RentalManagementService API 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Establishing connection to DB 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Processing RentVideos request. 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Token is valid 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Starting transaction 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (1, 1, 38, 165, 1, CURRENT_TIMESTAMP, '2018-10-08') 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Executing query 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Query executed successfully 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Rent Insert successful, Id:  
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 90
            LIMIT 1 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Executing query 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Query executed successfully 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Query: UPDATE noleggio
            SET prezzo_totale = 9.500000
            WHERE id_noleggio = 90 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Executing query 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Query executed successfully 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Rent Update on amount successful 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - INUSCITA: 1 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Query: UPDATE prenotazione
            SET ritirato = 1
            WHERE id_cliente = 38
            AND id_punto_vendita = 1
            AND id_film = 5 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Executing query 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Query executed successfully 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Booking status succesfully set to 1 
[2018-10-06 22:00:22] - corrId_5bb91456b2b0e1.35256157 - Rolling back current transaction 
[2018-10-06 22:01:44] - corrId_5bb914a8e01814.89598837 - Reached RentalManagementService API 
[2018-10-06 22:01:44] - corrId_5bb914a8e01814.89598837 - Establishing connection to DB 
[2018-10-06 22:01:44] - corrId_5bb914a8e01814.89598837 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 22:01:44] - corrId_5bb914a8e01814.89598837 - Token is valid 
[2018-10-06 22:01:44] - corrId_5bb914a8e01814.89598837 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:01:44] - corrId_5bb914a8e01814.89598837 - Executing query 
[2018-10-06 22:01:44] - corrId_5bb914a8e01814.89598837 - Query executed successfully 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Reached BookingManagementService API 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Establishing connection to DB 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Processing GetComingSoonMovies request. 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Token is valid 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Executing query 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Query executed successfully 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Executing query 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Query executed successfully 
[2018-10-06 22:01:45] - corrId_5bb914a9866633.97568650 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Reached BookingManagementService API 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Establishing connection to DB 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Processing GetUsersForBooking request. 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Token is valid 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Query: SELECT pr.id_prenotazione, cl.id_cliente, cl.nome, cl.cognome, fi.titolo, fi.id_film
            FROM prenotazione pr
            INNER JOIN film fi
            ON pr.id_film = fi.id_film
            INNER JOIN cliente cl
            ON pr.id_cliente = cl.id_cliente
            WHERE pr.id_film = 5
            AND pr.id_punto_vendita = 1 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Executing query 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Query executed successfully 
[2018-10-06 22:01:47] - corrId_5bb914ab328177.02035288 - Operation getUsersForBooking was successful. 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Reached BookingManagementService API 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Establishing connection to DB 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Processing DeleteBookings request. 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Token is valid 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - BOOKINGS: ["12"] 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Query: DELETE FROM prenotazione
            WHERE id_prenotazione IN (12) 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Executing query 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Query executed successfully 
[2018-10-06 22:01:48] - corrId_5bb914acc48cd8.97790189 - Operation deleteBookings was successful. 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Reached BookingManagementService API 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Establishing connection to DB 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Processing GetUsersForBooking request. 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Token is valid 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Query: SELECT pr.id_prenotazione, cl.id_cliente, cl.nome, cl.cognome, fi.titolo, fi.id_film
            FROM prenotazione pr
            INNER JOIN film fi
            ON pr.id_film = fi.id_film
            INNER JOIN cliente cl
            ON pr.id_cliente = cl.id_cliente
            WHERE pr.id_film = 5
            AND pr.id_punto_vendita = 1 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Executing query 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Query executed successfully 
[2018-10-06 22:01:48] - corrId_5bb914accd56b7.07557293 - Operation getUsersForBooking was successful. 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Reached BookingManagementService API 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Establishing connection to DB 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Processing GetUsersForBooking request. 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Token is valid 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Query: SELECT pr.id_prenotazione, cl.id_cliente, cl.nome, cl.cognome, fi.titolo, fi.id_film
            FROM prenotazione pr
            INNER JOIN film fi
            ON pr.id_film = fi.id_film
            INNER JOIN cliente cl
            ON pr.id_cliente = cl.id_cliente
            WHERE pr.id_film = 5
            AND pr.id_punto_vendita = 1 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Executing query 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Query executed successfully 
[2018-10-06 22:01:51] - corrId_5bb914af9df7a0.37975701 - Operation getUsersForBooking was successful. 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Reached BookingManagementService API 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Establishing connection to DB 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Processing GetUsersForBooking request. 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Token is valid 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Query: SELECT pr.id_prenotazione, cl.id_cliente, cl.nome, cl.cognome, fi.titolo, fi.id_film
            FROM prenotazione pr
            INNER JOIN film fi
            ON pr.id_film = fi.id_film
            INNER JOIN cliente cl
            ON pr.id_cliente = cl.id_cliente
            WHERE pr.id_film = 5
            AND pr.id_punto_vendita = 1 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Executing query 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Query executed successfully 
[2018-10-06 22:01:53] - corrId_5bb914b1869261.19469002 - Operation getUsersForBooking was successful. 
[2018-10-06 22:02:03] - corrId_5bb914bb9b4dd7.46086811 - Reached AuthenticationService API 
[2018-10-06 22:02:03] - corrId_5bb914bb9b4dd7.46086811 - Token is valid 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Reached BookingManagementService API 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Establishing connection to DB 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Processing GetComingSoonMovies request. 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Token is valid 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Executing query 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Query executed successfully 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Executing query 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Query executed successfully 
[2018-10-06 22:02:03] - corrId_5bb914bbb00e57.21638744 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:02:05] - corrId_5bb914bd40a629.09372167 - Reached RentalManagementService API 
[2018-10-06 22:02:05] - corrId_5bb914bd40a629.09372167 - Establishing connection to DB 
[2018-10-06 22:02:05] - corrId_5bb914bd40a629.09372167 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 22:02:05] - corrId_5bb914bd4161d1.25164813 - Reached RentalManagementService API 
[2018-10-06 22:02:05] - corrId_5bb914bd40a629.09372167 - Token is valid 
[2018-10-06 22:02:05] - corrId_5bb914bd4161d1.25164813 - Establishing connection to DB 
[2018-10-06 22:02:05] - corrId_5bb914bd40a629.09372167 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:05] - corrId_5bb914bd40a629.09372167 - Executing query 
[2018-10-06 22:02:05] - corrId_5bb914bd40a629.09372167 - Query executed successfully 
[2018-10-06 22:02:05] - corrId_5bb914bd4161d1.25164813 - Processing ClearRentalBookings request. 
[2018-10-06 22:02:05] - corrId_5bb914bd4161d1.25164813 - Token is valid 
[2018-10-06 22:02:05] - corrId_5bb914bd4161d1.25164813 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:05] - corrId_5bb914bd4161d1.25164813 - Executing query 
[2018-10-06 22:02:05] - corrId_5bb914bd4161d1.25164813 - Query executed successfully 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Reached RentalManagementService API 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Establishing connection to DB 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Token is valid 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Executing query 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Query executed successfully 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 5, 14, 15) 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Executing query 
[2018-10-06 22:02:05] - corrId_5bb914bd4c5e18.78044900 - Query executed successfully 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Reached BookingManagementService API 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Establishing connection to DB 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Processing GetComingSoonMovies request. 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Token is valid 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Executing query 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Query executed successfully 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Executing query 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Query executed successfully 
[2018-10-06 22:02:05] - corrId_5bb914bdafbb98.78078443 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:02:44] - corrId_5bb914e4e9c437.53772282 - Reached AuthenticationService API 
[2018-10-06 22:02:44] - corrId_5bb914e4e9c437.53772282 - Token is valid 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Reached BookingManagementService API 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Establishing connection to DB 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Processing GetComingSoonMovies request. 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Token is valid 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Executing query 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Query executed successfully 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Executing query 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Query executed successfully 
[2018-10-06 22:02:45] - corrId_5bb914e51b3962.47858971 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Reached BookingManagementService API 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Establishing connection to DB 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Processing GetComingSoonMovies request. 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Token is valid 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Executing query 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Query executed successfully 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Executing query 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Query executed successfully 
[2018-10-06 22:02:45] - corrId_5bb914e53f99d6.88093727 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Reached BookingManagementService API 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Establishing connection to DB 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Processing GetCustomerBookingsAndId request. 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Token is valid 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Executing query 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Query executed successfully 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Query: SELECT id_film
            FROM prenotazione pr        
            WHERE pr.id_cliente = 38
            AND pr.id_punto_vendita = 1
            AND pr.id_film IN (5) 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Executing query 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Query executed successfully 
[2018-10-06 22:02:49] - corrId_5bb914e9b96d13.21497860 - Operation getCustomerBookingsAndId was successful. 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Reached BookingManagementService API 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Establishing connection to DB 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Processing BookMovies request. 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Token is valid 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Starting transaction 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Query: INSERT INTO prenotazione
                    (id_cliente,
                    id_dipendente,
                    id_punto_vendita,
                    id_film)
                    VALUES
                    (38, 1, 1, 5); 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Executing query 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Query executed successfully 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Committing transaction 
[2018-10-06 22:02:51] - corrId_5bb914eb223b62.34900045 - Operation bookMovies was successful. 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Reached BookingManagementService API 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Establishing connection to DB 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Processing GetComingSoonMovies request. 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Token is valid 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Executing query 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Query executed successfully 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Executing query 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Query executed successfully 
[2018-10-06 22:02:51] - corrId_5bb914eb2d2728.90132245 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Reached BookingManagementService API 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Establishing connection to DB 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Processing GetCustomerBookingsAndId request. 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Token is valid 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 39
            LIMIT 1 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Executing query 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Query executed successfully 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Query: SELECT id_film
            FROM prenotazione pr        
            WHERE pr.id_cliente = 39
            AND pr.id_punto_vendita = 1
            AND pr.id_film IN (5) 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Executing query 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Query executed successfully 
[2018-10-06 22:02:56] - corrId_5bb914f0559115.92203099 - Operation getCustomerBookingsAndId was successful. 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Reached BookingManagementService API 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Establishing connection to DB 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Processing BookMovies request. 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Token is valid 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Starting transaction 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Query: INSERT INTO prenotazione
                    (id_cliente,
                    id_dipendente,
                    id_punto_vendita,
                    id_film)
                    VALUES
                    (39, 1, 1, 5); 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Executing query 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Query executed successfully 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Committing transaction 
[2018-10-06 22:02:57] - corrId_5bb914f1742879.67303573 - Operation bookMovies was successful. 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Reached BookingManagementService API 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Establishing connection to DB 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Processing GetComingSoonMovies request. 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Token is valid 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Executing query 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Query executed successfully 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Executing query 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Query executed successfully 
[2018-10-06 22:02:57] - corrId_5bb914f17f6380.31308534 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Reached BookingManagementService API 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Establishing connection to DB 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Processing GetCustomerBookingsAndId request. 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Token is valid 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 40
            LIMIT 1 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Executing query 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Query executed successfully 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Query: SELECT id_film
            FROM prenotazione pr        
            WHERE pr.id_cliente = 40
            AND pr.id_punto_vendita = 1
            AND pr.id_film IN (5) 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Executing query 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Query executed successfully 
[2018-10-06 22:03:01] - corrId_5bb914f591bda7.17832106 - Operation getCustomerBookingsAndId was successful. 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Reached BookingManagementService API 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Establishing connection to DB 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Processing BookMovies request. 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Token is valid 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Starting transaction 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Query: INSERT INTO prenotazione
                    (id_cliente,
                    id_dipendente,
                    id_punto_vendita,
                    id_film)
                    VALUES
                    (40, 1, 1, 5); 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Executing query 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Query executed successfully 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Committing transaction 
[2018-10-06 22:03:03] - corrId_5bb914f773b969.67957741 - Operation bookMovies was successful. 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Reached BookingManagementService API 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Establishing connection to DB 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Processing GetComingSoonMovies request. 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Token is valid 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Executing query 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Query executed successfully 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Executing query 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Query executed successfully 
[2018-10-06 22:03:03] - corrId_5bb914f77d3eb7.82379959 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:03:11] - corrId_5bb914ff837d72.44956827 - Reached RentalManagementService API 
[2018-10-06 22:03:11] - corrId_5bb914ff837d72.44956827 - Establishing connection to DB 
[2018-10-06 22:03:11] - corrId_5bb914ff83fab4.16393773 - Reached RentalManagementService API 
[2018-10-06 22:03:11] - corrId_5bb914ff837d72.44956827 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 22:03:11] - corrId_5bb914ff83fab4.16393773 - Establishing connection to DB 
[2018-10-06 22:03:11] - corrId_5bb914ff837d72.44956827 - Token is valid 
[2018-10-06 22:03:11] - corrId_5bb914ff837d72.44956827 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:03:11] - corrId_5bb914ff837d72.44956827 - Executing query 
[2018-10-06 22:03:11] - corrId_5bb914ff83fab4.16393773 - Processing ClearRentalBookings request. 
[2018-10-06 22:03:11] - corrId_5bb914ff837d72.44956827 - Query executed successfully 
[2018-10-06 22:03:11] - corrId_5bb914ff83fab4.16393773 - Token is valid 
[2018-10-06 22:03:11] - corrId_5bb914ff83fab4.16393773 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:03:11] - corrId_5bb914ff83fab4.16393773 - Executing query 
[2018-10-06 22:03:11] - corrId_5bb914ff83fab4.16393773 - Query executed successfully 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Reached RentalManagementService API 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Establishing connection to DB 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Token is valid 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Executing query 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Query executed successfully 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 5, 14, 15) 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Executing query 
[2018-10-06 22:03:11] - corrId_5bb914ff8dbea3.89513088 - Query executed successfully 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Reached RentalManagementService API 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Establishing connection to DB 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Processing GetMostRecentCopies request. 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Token is valid 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Starting transaction 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Query: SELECT co.id_copia, co.data_scarico, co.id_film
                    FROM copia co
                    WHERE co.id_punto_vendita = 1
                    AND co.id_film = 5
                    AND co.noleggiato = 0
                    AND co.restituito = 0
                    ORDER BY co.data_scarico desc
                    LIMIT 1 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Executing query 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Query executed successfully 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Query: UPDATE copia             
                    SET
                    noleggiato = 1,
                    data_prenotazione_noleggio = CURRENT_TIMESTAMP,
                    id_dipendente_prenotazione_noleggio = 1
                    WHERE id_copia = 165
                    AND noleggiato = 0
                    AND restituito = 0 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Executing query 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Query executed successfully 
[2018-10-06 22:04:20] - corrId_5bb91544df5422.51597580 - Committing transaction 
[2018-10-06 22:04:20] - corrId_5bb91544e7a197.02995101 - Reached RentalManagementService API 
[2018-10-06 22:04:20] - corrId_5bb91544e7a197.02995101 - Establishing connection to DB 
[2018-10-06 22:04:20] - corrId_5bb91544e7a197.02995101 - Processing GetActiveDiscount request. 
[2018-10-06 22:04:20] - corrId_5bb91544e7a197.02995101 - Token is valid 
[2018-10-06 22:04:20] - corrId_5bb91544e7a197.02995101 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:04:20] - corrId_5bb91544e7a197.02995101 - Query: SELECT id_tariffa, tariffa
            FROM tariffa
            WHERE attiva = 1 
[2018-10-06 22:04:20] - corrId_5bb91544e7a197.02995101 - Executing query 
[2018-10-06 22:04:20] - corrId_5bb91544e7a197.02995101 - Query executed successfully 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Reached CustomerManagementService API 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Processing FindCustomerById request. 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Token is valid 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Establishing connection to DB 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Executing query 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Query executed successfully 
[2018-10-06 22:04:23] - corrId_5bb9154752f306.40384762 - Operation findCustomerById was successful. 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Reached RentalManagementService API 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Establishing connection to DB 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Processing RentVideos request. 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Token is valid 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Starting transaction 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (1, 1, 38, 165, 1, CURRENT_TIMESTAMP, '2018-10-08') 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Executing query 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Query executed successfully 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Rent Insert successful, Id:  
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 91
            LIMIT 1 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Executing query 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Query executed successfully 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Query: UPDATE noleggio
            SET prezzo_totale = 9.500000
            WHERE id_noleggio = 91 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Executing query 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Query executed successfully 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Rent Update on amount successful 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - INUSCITA: 1 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Query: UPDATE prenotazione
            SET ritirato = 1
            WHERE id_cliente = 38
            AND id_punto_vendita = 1
            AND id_film = 5 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Executing query 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Query executed successfully 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Booking status succesfully set to 1 
[2018-10-06 22:04:41] - corrId_5bb91559e300c8.43672537 - Rolling back current transaction 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Reached CustomerManagementService API 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Processing FindCustomerById request. 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Token is valid 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 41
            LIMIT 1 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Establishing connection to DB 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Executing query 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Query executed successfully 
[2018-10-06 22:05:12] - corrId_5bb91578d14ce6.63646171 - Operation findCustomerById was successful. 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Reached RentalManagementService API 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Establishing connection to DB 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Processing RentVideos request. 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Token is valid 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Starting transaction 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (1, 1, 41, 165, 1, CURRENT_TIMESTAMP, '2018-10-08') 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Executing query 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Query executed successfully 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Rent Insert successful, Id:  
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 92
            LIMIT 1 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Executing query 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Query executed successfully 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Query: UPDATE noleggio
            SET prezzo_totale = 7.600000
            WHERE id_noleggio = 92 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Executing query 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Query executed successfully 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Rent Update on amount successful 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - INUSCITA: 1 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Query: UPDATE prenotazione
            SET ritirato = 1
            WHERE id_cliente = 41
            AND id_punto_vendita = 1
            AND id_film = 5 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Executing query 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Query executed successfully 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Booking status succesfully set to 1 
[2018-10-06 22:05:14] - corrId_5bb9157a9a57f8.59503654 - Rolling back current transaction 
[2018-10-06 22:05:57] - corrId_5bb915a5f31120.90594228 - Reached CustomerManagementService API 
[2018-10-06 22:05:57] - corrId_5bb915a5f31120.90594228 - Processing FindCustomerById request. 
[2018-10-06 22:05:58] - corrId_5bb915a5f31120.90594228 - Token is valid 
[2018-10-06 22:05:58] - corrId_5bb915a5f31120.90594228 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:05:58] - corrId_5bb915a5f31120.90594228 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[2018-10-06 22:05:58] - corrId_5bb915a5f31120.90594228 - Establishing connection to DB 
[2018-10-06 22:05:58] - corrId_5bb915a5f31120.90594228 - Executing query 
[2018-10-06 22:05:58] - corrId_5bb915a5f31120.90594228 - Query executed successfully 
[2018-10-06 22:05:58] - corrId_5bb915a5f31120.90594228 - Operation findCustomerById was successful. 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Reached CustomerManagementService API 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Processing FindCustomerById request. 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Token is valid 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 41
            LIMIT 1 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Establishing connection to DB 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Executing query 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Query executed successfully 
[2018-10-06 22:06:00] - corrId_5bb915a82949c3.03523514 - Operation findCustomerById was successful. 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Reached CustomerManagementService API 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Processing FindCustomerById request. 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Token is valid 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Query: SELECT cl.id_cliente, cl.nome, cl.cognome, cl.indirizzo, fi.nome_fidelizzazione, fi.percentuale
            FROM cliente cl
            INNER JOIN fidelizzazione fi
            ON cl.id_fidelizzazione = fi.id_fidelizzazione
            WHERE id_cliente = 38
            LIMIT 1 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Establishing connection to DB 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Executing query 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Query executed successfully 
[2018-10-06 22:06:03] - corrId_5bb915ab5e56e0.44298765 - Operation findCustomerById was successful. 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Reached RentalManagementService API 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Establishing connection to DB 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Processing RentVideos request. 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Token is valid 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Starting transaction 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Query: INSERT INTO noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine)
            VALUES
            (1, 1, 38, 165, 1, CURRENT_TIMESTAMP, '2018-10-08') 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Query executed successfully 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Rent Insert successful, Id:  
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Query: SELECT *
            FROM price_details
            WHERE id_noleggio = 93
            LIMIT 1 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Query executed successfully 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Query: UPDATE noleggio
            SET prezzo_totale = 9.500000
            WHERE id_noleggio = 93 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Query executed successfully 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Rent Update on amount successful 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - INUSCITA: 1 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Query: UPDATE prenotazione
            SET ritirato = 1
            WHERE id_cliente = 38
            AND id_punto_vendita = 1
            AND id_film = 5 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Query executed successfully 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Booking status succesfully set to 1 
[2018-10-06 22:06:06] - corrId_5bb915ae166f84.87908364 - Committing transaction 
[2018-10-06 22:06:06] - corrId_5bb915ae1e3f96.94006121 - Reached RentalManagementService API 
[2018-10-06 22:06:06] - corrId_5bb915ae1e3f96.94006121 - Establishing connection to DB 
[2018-10-06 22:06:06] - corrId_5bb915ae1e3f96.94006121 - Processing ClearRentalBookings request. 
[2018-10-06 22:06:06] - corrId_5bb915ae1e3f96.94006121 - Token is valid 
[2018-10-06 22:06:06] - corrId_5bb915ae1e3f96.94006121 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:06] - corrId_5bb915ae1e3f96.94006121 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae1e3f96.94006121 - Query executed successfully 
[2018-10-06 22:06:06] - corrId_5bb915ae226600.34865435 - Reached RentalManagementService API 
[2018-10-06 22:06:06] - corrId_5bb915ae226600.34865435 - Establishing connection to DB 
[2018-10-06 22:06:06] - corrId_5bb915ae22e336.24280173 - Reached RentalManagementService API 
[2018-10-06 22:06:06] - corrId_5bb915ae22e336.24280173 - Establishing connection to DB 
[2018-10-06 22:06:06] - corrId_5bb915ae226600.34865435 - Processing ClearRentalBookingsForUser request. 
[2018-10-06 22:06:06] - corrId_5bb915ae226600.34865435 - Token is valid 
[2018-10-06 22:06:06] - corrId_5bb915ae226600.34865435 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:06] - corrId_5bb915ae226600.34865435 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae226600.34865435 - Query executed successfully 
[2018-10-06 22:06:06] - corrId_5bb915ae22e336.24280173 - Processing ClearRentalBookings request. 
[2018-10-06 22:06:06] - corrId_5bb915ae22e336.24280173 - Token is valid 
[2018-10-06 22:06:06] - corrId_5bb915ae22e336.24280173 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:06] - corrId_5bb915ae22e336.24280173 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae22e336.24280173 - Query executed successfully 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Reached RentalManagementService API 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Establishing connection to DB 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Processing GetVideosInStorageWithCount request. 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Token is valid 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.inUscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    count(*) as copie_totali, SUM(co.noleggiato) as copie_noleggiate, SUM(co.danneggiato) as copie_danneggiate
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista            
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0
            GROUP BY fi.id_film 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Query executed successfully 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (1, 2, 3, 5, 14, 15) 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Executing query 
[2018-10-06 22:06:06] - corrId_5bb915ae2d6288.86359744 - Query executed successfully 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Reached BookingManagementService API 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Establishing connection to DB 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Processing GetComingSoonMovies request. 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Token is valid 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Executing query 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Query executed successfully 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Executing query 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Query executed successfully 
[2018-10-06 22:06:47] - corrId_5bb915d7e14575.79868155 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Reached BookingManagementService API 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Establishing connection to DB 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Processing GetUsersForBooking request. 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Token is valid 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Query: SELECT pr.id_prenotazione, cl.id_cliente, cl.nome, cl.cognome, fi.titolo, fi.id_film
            FROM prenotazione pr
            INNER JOIN film fi
            ON pr.id_film = fi.id_film
            INNER JOIN cliente cl
            ON pr.id_cliente = cl.id_cliente
            WHERE pr.id_film = 5
            AND pr.id_punto_vendita = 1 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Executing query 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Query executed successfully 
[2018-10-06 22:06:49] - corrId_5bb915d95510b1.11100141 - Operation getUsersForBooking was successful. 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Reached BookingManagementService API 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Establishing connection to DB 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Processing GetComingSoonMovies request. 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Token is valid 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Executing query 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Query executed successfully 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Executing query 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Query executed successfully 
[2018-10-06 22:07:43] - corrId_5bb9160f242c56.99466472 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Reached BookingManagementService API 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Establishing connection to DB 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Processing GetUsersForBooking request. 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Token is valid 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Query: SELECT pr.id_prenotazione, cl.id_cliente, cl.nome, cl.cognome, fi.titolo, fi.id_film
            FROM prenotazione pr
            INNER JOIN film fi
            ON pr.id_film = fi.id_film
            INNER JOIN cliente cl
            ON pr.id_cliente = cl.id_cliente
            WHERE pr.id_film = 5
            AND pr.id_punto_vendita = 1 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Executing query 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Query executed successfully 
[2018-10-06 22:07:48] - corrId_5bb916148f64d0.02164295 - Operation getUsersForBooking was successful. 
[2018-10-06 22:07:50] - corrId_5bb9161658e7b0.23950674 - Reached CustomerManagementService API 
[2018-10-06 22:07:50] - corrId_5bb9161658e7b0.23950674 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 22:07:50] - corrId_5bb9161658e7b0.23950674 - Token is valid 
[2018-10-06 22:07:50] - corrId_5bb9161658e7b0.23950674 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:07:50] - corrId_5bb9161658e7b0.23950674 - Establishing connection to DB 
[2018-10-06 22:07:50] - corrId_5bb9161658e7b0.23950674 - Executing query 
[2018-10-06 22:07:50] - corrId_5bb9161658e7b0.23950674 - Query executed successfully 
[2018-10-06 22:07:50] - corrId_5bb9161658e7b0.23950674 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 22:07:56] - corrId_5bb9161c9bf9c5.86977369 - Reached RestitutionManagementService API 
[2018-10-06 22:07:56] - corrId_5bb9161c9bf9c5.86977369 - Establishing connection to DB 
[2018-10-06 22:07:56] - corrId_5bb9161c9bf9c5.86977369 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:07:56] - corrId_5bb9161c9bf9c5.86977369 - Token is valid 
[2018-10-06 22:07:56] - corrId_5bb9161c9bf9c5.86977369 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:07:56] - corrId_5bb9161c9bf9c5.86977369 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[2018-10-06 22:07:56] - corrId_5bb9161c9bf9c5.86977369 - Executing query 
[2018-10-06 22:07:56] - corrId_5bb9161c9bf9c5.86977369 - Query executed successfully 
[2018-10-06 22:07:58] - corrId_5bb9161ea8d455.26110723 - Reached RestitutionManagementService API 
[2018-10-06 22:07:58] - corrId_5bb9161ea8d455.26110723 - Establishing connection to DB 
[2018-10-06 22:07:58] - corrId_5bb9161ea8d455.26110723 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:07:58] - corrId_5bb9161ea8d455.26110723 - Token is valid 
[2018-10-06 22:07:58] - corrId_5bb9161ea8d455.26110723 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:07:58] - corrId_5bb9161ea8d455.26110723 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[2018-10-06 22:07:58] - corrId_5bb9161ea8d455.26110723 - Executing query 
[2018-10-06 22:07:58] - corrId_5bb9161ea8d455.26110723 - Query executed successfully 
[2018-10-06 22:08:02] - corrId_5bb91622604d39.88919320 - Reached RestitutionManagementService API 
[2018-10-06 22:08:02] - corrId_5bb91622604d39.88919320 - Establishing connection to DB 
[2018-10-06 22:08:02] - corrId_5bb91622604d39.88919320 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:08:02] - corrId_5bb91622604d39.88919320 - Token is valid 
[2018-10-06 22:08:02] - corrId_5bb91622604d39.88919320 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:08:02] - corrId_5bb91622604d39.88919320 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[2018-10-06 22:08:02] - corrId_5bb91622604d39.88919320 - Executing query 
[2018-10-06 22:08:02] - corrId_5bb91622604d39.88919320 - Query executed successfully 
[2018-10-06 22:14:04] - corrId_5bb9178c065172.89071542 - Reached RestitutionManagementService API 
[2018-10-06 22:14:04] - corrId_5bb9178c065172.89071542 - Establishing connection to DB 
[2018-10-06 22:14:04] - corrId_5bb9178c065172.89071542 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:14:04] - corrId_5bb9178c065172.89071542 - Token is valid 
[2018-10-06 22:14:04] - corrId_5bb9178c065172.89071542 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:14:04] - corrId_5bb9178c065172.89071542 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:14:04] - corrId_5bb9178c065172.89071542 - Executing query 
[2018-10-06 22:14:04] - corrId_5bb9178c065172.89071542 - Query executed successfully 
[2018-10-06 22:14:09] - corrId_5bb917912c8895.93602914 - Reached AuthenticationService API 
[2018-10-06 22:14:09] - corrId_5bb917912c8895.93602914 - Token is valid 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Reached BookingManagementService API 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Establishing connection to DB 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Processing GetComingSoonMovies request. 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Token is valid 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Executing query 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Query executed successfully 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Executing query 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Query executed successfully 
[2018-10-06 22:14:09] - corrId_5bb9179153d712.53105109 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:14:10] - corrId_5bb91792de88b6.61749201 - Reached RestitutionManagementService API 
[2018-10-06 22:14:10] - corrId_5bb91792de88b6.61749201 - Establishing connection to DB 
[2018-10-06 22:14:10] - corrId_5bb91792de88b6.61749201 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:14:10] - corrId_5bb91792de88b6.61749201 - Token is valid 
[2018-10-06 22:14:10] - corrId_5bb91792de88b6.61749201 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:14:10] - corrId_5bb91792de88b6.61749201 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:14:10] - corrId_5bb91792de88b6.61749201 - Executing query 
[2018-10-06 22:14:10] - corrId_5bb91792de88b6.61749201 - Query executed successfully 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Reached BookingManagementService API 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Establishing connection to DB 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Processing GetComingSoonMovies request. 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Token is valid 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Executing query 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Query executed successfully 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Executing query 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Query executed successfully 
[2018-10-06 22:14:12] - corrId_5bb917948ceec8.38593505 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:16:01] - corrId_5bb918017bece8.17054244 - Reached AuthenticationService API 
[2018-10-06 22:16:01] - corrId_5bb918017bece8.17054244 - Token is valid 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Reached BookingManagementService API 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Establishing connection to DB 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Processing GetComingSoonMovies request. 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Token is valid 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Executing query 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Query executed successfully 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Executing query 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Query executed successfully 
[2018-10-06 22:16:01] - corrId_5bb91801a5ac87.39018200 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:16:01] - corrId_5bb91801e98e09.71045886 - Reached CustomerManagementService API 
[2018-10-06 22:16:01] - corrId_5bb91801e98e09.71045886 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 22:16:01] - corrId_5bb91801e98e09.71045886 - Token is valid 
[2018-10-06 22:16:01] - corrId_5bb91801e98e09.71045886 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:01] - corrId_5bb91801e98e09.71045886 - Establishing connection to DB 
[2018-10-06 22:16:01] - corrId_5bb91801e98e09.71045886 - Executing query 
[2018-10-06 22:16:01] - corrId_5bb91801e98e09.71045886 - Query executed successfully 
[2018-10-06 22:16:01] - corrId_5bb91801e98e09.71045886 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 22:16:04] - corrId_5bb91804eb0578.63990638 - Reached RestitutionManagementService API 
[2018-10-06 22:16:04] - corrId_5bb91804eb0578.63990638 - Establishing connection to DB 
[2018-10-06 22:16:04] - corrId_5bb91804eb0578.63990638 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:16:04] - corrId_5bb91804eb0578.63990638 - Token is valid 
[2018-10-06 22:16:04] - corrId_5bb91804eb0578.63990638 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:04] - corrId_5bb91804eb0578.63990638 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 35 
[2018-10-06 22:16:04] - corrId_5bb91804eb0578.63990638 - Executing query 
[2018-10-06 22:16:04] - corrId_5bb91804eb0578.63990638 - Query executed successfully 
[2018-10-06 22:16:07] - corrId_5bb91807183013.92568770 - Reached RestitutionManagementService API 
[2018-10-06 22:16:07] - corrId_5bb91807183013.92568770 - Establishing connection to DB 
[2018-10-06 22:16:07] - corrId_5bb91807183013.92568770 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:16:07] - corrId_5bb91807183013.92568770 - Token is valid 
[2018-10-06 22:16:07] - corrId_5bb91807183013.92568770 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:07] - corrId_5bb91807183013.92568770 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 35 
[2018-10-06 22:16:07] - corrId_5bb91807183013.92568770 - Executing query 
[2018-10-06 22:16:07] - corrId_5bb91807183013.92568770 - Query executed successfully 
[2018-10-06 22:16:08] - corrId_5bb91808f3b9d1.34913216 - Reached RestitutionManagementService API 
[2018-10-06 22:16:08] - corrId_5bb91808f3b9d1.34913216 - Establishing connection to DB 
[2018-10-06 22:16:09] - corrId_5bb91808f3b9d1.34913216 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:16:09] - corrId_5bb91808f3b9d1.34913216 - Token is valid 
[2018-10-06 22:16:09] - corrId_5bb91808f3b9d1.34913216 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:09] - corrId_5bb91808f3b9d1.34913216 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 39 
[2018-10-06 22:16:09] - corrId_5bb91808f3b9d1.34913216 - Executing query 
[2018-10-06 22:16:09] - corrId_5bb91808f3b9d1.34913216 - Query executed successfully 
[2018-10-06 22:16:11] - corrId_5bb9180b594964.27454954 - Reached RestitutionManagementService API 
[2018-10-06 22:16:11] - corrId_5bb9180b594964.27454954 - Establishing connection to DB 
[2018-10-06 22:16:11] - corrId_5bb9180b594964.27454954 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:16:11] - corrId_5bb9180b594964.27454954 - Token is valid 
[2018-10-06 22:16:11] - corrId_5bb9180b594964.27454954 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:11] - corrId_5bb9180b594964.27454954 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:16:11] - corrId_5bb9180b594964.27454954 - Executing query 
[2018-10-06 22:16:11] - corrId_5bb9180b594964.27454954 - Query executed successfully 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Reached BookingManagementService API 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Establishing connection to DB 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Processing GetComingSoonMovies request. 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Token is valid 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Executing query 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Query executed successfully 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Executing query 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Query executed successfully 
[2018-10-06 22:16:14] - corrId_5bb9180e410410.04780846 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:16:18] - corrId_5bb918126be909.51680588 - Reached RestitutionManagementService API 
[2018-10-06 22:16:18] - corrId_5bb918126be909.51680588 - Establishing connection to DB 
[2018-10-06 22:16:18] - corrId_5bb918126be909.51680588 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:16:18] - corrId_5bb918126be909.51680588 - Token is valid 
[2018-10-06 22:16:18] - corrId_5bb918126be909.51680588 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:18] - corrId_5bb918126be909.51680588 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:16:18] - corrId_5bb918126be909.51680588 - Executing query 
[2018-10-06 22:16:18] - corrId_5bb918126be909.51680588 - Query executed successfully 
[2018-10-06 22:16:28] - corrId_5bb9181cde6d47.30250127 - Reached AuthenticationService API 
[2018-10-06 22:16:28] - corrId_5bb9181cde6d47.30250127 - Token is valid 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Reached BookingManagementService API 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Establishing connection to DB 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Processing GetComingSoonMovies request. 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Token is valid 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Executing query 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Query executed successfully 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Executing query 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Query executed successfully 
[2018-10-06 22:16:29] - corrId_5bb9181d12d041.48637791 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:16:58] - corrId_5bb9183ab47379.08177639 - Reached AuthenticationService API 
[2018-10-06 22:16:58] - corrId_5bb9183ab47379.08177639 - Token is valid 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Reached BookingManagementService API 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Establishing connection to DB 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Processing GetComingSoonMovies request. 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Token is valid 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Executing query 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Query executed successfully 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Executing query 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Query executed successfully 
[2018-10-06 22:16:58] - corrId_5bb9183ad2b973.19329711 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:16:59] - corrId_5bb9183b380403.23686525 - Reached CustomerManagementService API 
[2018-10-06 22:16:59] - corrId_5bb9183b380403.23686525 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 22:16:59] - corrId_5bb9183b380403.23686525 - Token is valid 
[2018-10-06 22:16:59] - corrId_5bb9183b380403.23686525 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:16:59] - corrId_5bb9183b380403.23686525 - Establishing connection to DB 
[2018-10-06 22:16:59] - corrId_5bb9183b380403.23686525 - Executing query 
[2018-10-06 22:16:59] - corrId_5bb9183b380403.23686525 - Query executed successfully 
[2018-10-06 22:16:59] - corrId_5bb9183b380403.23686525 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 22:17:00] - corrId_5bb9183ce5d3a3.87820265 - Reached RestitutionManagementService API 
[2018-10-06 22:17:00] - corrId_5bb9183ce5d3a3.87820265 - Establishing connection to DB 
[2018-10-06 22:17:00] - corrId_5bb9183ce5d3a3.87820265 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:17:00] - corrId_5bb9183ce5d3a3.87820265 - Token is valid 
[2018-10-06 22:17:00] - corrId_5bb9183ce5d3a3.87820265 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:17:00] - corrId_5bb9183ce5d3a3.87820265 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:17:00] - corrId_5bb9183ce5d3a3.87820265 - Executing query 
[2018-10-06 22:17:00] - corrId_5bb9183ce5d3a3.87820265 - Query executed successfully 
[2018-10-06 22:17:02] - corrId_5bb9183e4137e8.24043794 - Reached RestitutionManagementService API 
[2018-10-06 22:17:02] - corrId_5bb9183e4137e8.24043794 - Establishing connection to DB 
[2018-10-06 22:17:02] - corrId_5bb9183e4137e8.24043794 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:17:02] - corrId_5bb9183e4137e8.24043794 - Token is valid 
[2018-10-06 22:17:02] - corrId_5bb9183e4137e8.24043794 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:17:02] - corrId_5bb9183e4137e8.24043794 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:17:02] - corrId_5bb9183e4137e8.24043794 - Executing query 
[2018-10-06 22:17:02] - corrId_5bb9183e4137e8.24043794 - Query executed successfully 
[2018-10-06 22:17:03] - corrId_5bb9183ff12b41.53469539 - Reached RestitutionManagementService API 
[2018-10-06 22:17:03] - corrId_5bb9183ff12b41.53469539 - Establishing connection to DB 
[2018-10-06 22:17:03] - corrId_5bb9183ff12b41.53469539 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:17:03] - corrId_5bb9183ff12b41.53469539 - Token is valid 
[2018-10-06 22:17:03] - corrId_5bb9183ff12b41.53469539 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:17:03] - corrId_5bb9183ff12b41.53469539 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[2018-10-06 22:17:03] - corrId_5bb9183ff12b41.53469539 - Executing query 
[2018-10-06 22:17:03] - corrId_5bb9183ff12b41.53469539 - Query executed successfully 
[2018-10-06 22:17:05] - corrId_5bb918413b79f8.24694261 - Reached RestitutionManagementService API 
[2018-10-06 22:17:05] - corrId_5bb918413b79f8.24694261 - Establishing connection to DB 
[2018-10-06 22:17:05] - corrId_5bb918413b79f8.24694261 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:17:05] - corrId_5bb918413b79f8.24694261 - Token is valid 
[2018-10-06 22:17:05] - corrId_5bb918413b79f8.24694261 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:17:05] - corrId_5bb918413b79f8.24694261 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 38 
[2018-10-06 22:17:05] - corrId_5bb918413b79f8.24694261 - Executing query 
[2018-10-06 22:17:05] - corrId_5bb918413b79f8.24694261 - Query executed successfully 
[2018-10-06 22:17:09] - corrId_5bb91845ecca36.37925348 - Reached RestitutionManagementService API 
[2018-10-06 22:17:09] - corrId_5bb91845ecca36.37925348 - Establishing connection to DB 
[2018-10-06 22:17:09] - corrId_5bb91845ecca36.37925348 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:17:09] - corrId_5bb91845ecca36.37925348 - Token is valid 
[2018-10-06 22:17:09] - corrId_5bb91845ecca36.37925348 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:17:09] - corrId_5bb91845ecca36.37925348 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:17:09] - corrId_5bb91845ecca36.37925348 - Executing query 
[2018-10-06 22:17:09] - corrId_5bb91845ecca36.37925348 - Query executed successfully 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Reached RestitutionManagementService API 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Establishing connection to DB 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Processing ReturnCopies request. 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Token is valid 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - COPIES [{"id_noleggio":"74","id_copia":"157","danneggiato":1,"prezzo_extra":"16.00"}] 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Starting transaction 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Query: SELECT * FROM noleggio WHERE id_noleggio = 74 LIMIT 1 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Executing query 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Query executed successfully 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            data_effettiva_restituzione,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (3, 1, 40, 157, 1, '2018-10-03 20:41:55', '2018-10-08 00:00:00', '2018-10-06', 30.940000, 16.000000) 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Executing query 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Query executed successfully 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Error while processing ReturnCopies request: Exception: OK in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:142
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(95): RestitutionManagementService->ArchiveRent(Array, '16.00')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(186): RestitutionManagementService->ReturnCopies()
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(204): RestitutionManagementService->Init()
#3 {main} 
[2018-10-06 22:17:47] - corrId_5bb9186b8c5078.58074220 - Rolling back current transaction 
[2018-10-06 22:17:58] - corrId_5bb91876f3a229.15947731 - Reached RestitutionManagementService API 
[2018-10-06 22:17:58] - corrId_5bb91876f3a229.15947731 - Establishing connection to DB 
[2018-10-06 22:17:58] - corrId_5bb91876f3a229.15947731 - Processing ReturnCopies request. 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Token is valid 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - COPIES [{"id_noleggio":"74","id_copia":"157","danneggiato":1,"prezzo_extra":"16.00"}] 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Starting transaction 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Query: SELECT * FROM noleggio WHERE id_noleggio = 74 LIMIT 1 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Executing query 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Query executed successfully 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            data_effettiva_restituzione,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (3, 1, 40, 157, 1, '2018-10-03 20:41:55', '2018-10-08 00:00:00', '2018-10-06', 30.940000, 16.000000) 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Executing query 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Query executed successfully 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Error while processing ReturnCopies request: Exception: OK in C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php:142
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(95): RestitutionManagementService->ArchiveRent(Array, '16.00')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(186): RestitutionManagementService->ReturnCopies()
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(204): RestitutionManagementService->Init()
#3 {main} 
[2018-10-06 22:17:59] - corrId_5bb91876f3a229.15947731 - Rolling back current transaction 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Reached RestitutionManagementService API 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Establishing connection to DB 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Processing ReturnCopies request. 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Token is valid 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - COPIES [{"id_noleggio":"74","id_copia":"157","danneggiato":1,"prezzo_extra":"16.00"}] 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Starting transaction 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Query: SELECT * FROM noleggio WHERE id_noleggio = 74 LIMIT 1 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Executing query 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Query executed successfully 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Query: INSERT INTO storico_noleggio
            (id_dipendente,
            id_punto_vendita,
            id_cliente,
            id_copia,
            id_tariffa,
            data_inizio,
            data_fine,
            data_effettiva_restituzione,
            prezzo_totale,
            prezzo_extra)
            VALUES
            (3, 1, 40, 157, 1, '2018-10-03 20:41:55', '2018-10-08 00:00:00', '2018-10-06', 30.940000, 16.000000) 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Executing query 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Query executed successfully 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Rent successfully archived, Id:  
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Query: DELETE FROM noleggio WHERE id_noleggio = 74 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Executing query 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Query executed successfully 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Query: UPDATE copia 
            SET noleggiato = 0, data_prenotazione_noleggio = NULL, id_dipendente_prenotazione_noleggio = NULL
            WHERE id_copia = 157 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Executing query 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Query executed successfully 
[2018-10-06 22:18:35] - corrId_5bb9189bd62e38.44070510 - Committing transaction 
[2018-10-06 22:18:35] - corrId_5bb9189be4d447.75690763 - Reached RestitutionManagementService API 
[2018-10-06 22:18:35] - corrId_5bb9189be4d447.75690763 - Establishing connection to DB 
[2018-10-06 22:18:35] - corrId_5bb9189be4d447.75690763 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:18:35] - corrId_5bb9189be4d447.75690763 - Token is valid 
[2018-10-06 22:18:35] - corrId_5bb9189be4d447.75690763 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:18:35] - corrId_5bb9189be4d447.75690763 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:18:35] - corrId_5bb9189be4d447.75690763 - Executing query 
[2018-10-06 22:18:35] - corrId_5bb9189be4d447.75690763 - Query executed successfully 
[2018-10-06 22:18:38] - corrId_5bb9189e379749.24268026 - Reached StorageManagementService API 
[2018-10-06 22:18:38] - corrId_5bb9189e379749.24268026 - Processing GetVideosInStorage request. 
[2018-10-06 22:18:38] - corrId_5bb9189e379749.24268026 - Token is valid 
[2018-10-06 22:18:38] - corrId_5bb9189e379749.24268026 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:18:38] - corrId_5bb9189e379749.24268026 - Query: SELECT co.id_copia, co.data_scarico, co.danneggiato, co.noleggiato, fi.id_film, fi.titolo, fo.nome
            FROM copia co
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN fornitore fo
            ON co.id_fornitore = fo.id_fornitore
            WHERE co.id_punto_vendita = 1
            AND co.restituito = 0 
[2018-10-06 22:18:38] - corrId_5bb9189e379749.24268026 - Establishing connection to DB 
[2018-10-06 22:18:38] - corrId_5bb9189e379749.24268026 - Executing query 
[2018-10-06 22:18:38] - corrId_5bb9189e379749.24268026 - Query executed successfully 
[2018-10-06 22:18:40] - corrId_5bb918a08252e9.92578534 - Reached CustomerManagementService API 
[2018-10-06 22:18:40] - corrId_5bb918a08252e9.92578534 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 22:18:40] - corrId_5bb918a08252e9.92578534 - Token is valid 
[2018-10-06 22:18:40] - corrId_5bb918a08252e9.92578534 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:18:40] - corrId_5bb918a08252e9.92578534 - Establishing connection to DB 
[2018-10-06 22:18:40] - corrId_5bb918a08252e9.92578534 - Executing query 
[2018-10-06 22:18:40] - corrId_5bb918a08252e9.92578534 - Query executed successfully 
[2018-10-06 22:18:40] - corrId_5bb918a08252e9.92578534 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 22:18:45] - corrId_5bb918a53f3803.91445434 - Reached RestitutionManagementService API 
[2018-10-06 22:18:45] - corrId_5bb918a53f3803.91445434 - Establishing connection to DB 
[2018-10-06 22:18:45] - corrId_5bb918a53f3803.91445434 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:18:45] - corrId_5bb918a53f3803.91445434 - Token is valid 
[2018-10-06 22:18:45] - corrId_5bb918a53f3803.91445434 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:18:45] - corrId_5bb918a53f3803.91445434 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:18:45] - corrId_5bb918a53f3803.91445434 - Executing query 
[2018-10-06 22:18:45] - corrId_5bb918a53f3803.91445434 - Query executed successfully 
[2018-10-06 22:24:07] - corrId_5bb919e7df7400.44786399 - Reached AuthenticationService API 
[2018-10-06 22:24:07] - corrId_5bb919e7df7400.44786399 - Token is valid 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Reached BookingManagementService API 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Establishing connection to DB 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Processing GetComingSoonMovies request. 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Token is valid 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Executing query 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Query executed successfully 
[2018-10-06 22:24:07] - corrId_5bb919e7ef52a6.48213299 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:24:08] - corrId_5bb919e7ef52a6.48213299 - Executing query 
[2018-10-06 22:24:08] - corrId_5bb919e7ef52a6.48213299 - Query executed successfully 
[2018-10-06 22:24:08] - corrId_5bb919e7ef52a6.48213299 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:24:08] - corrId_5bb919e82df6b2.40985527 - Reached CustomerManagementService API 
[2018-10-06 22:24:08] - corrId_5bb919e82df6b2.40985527 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 22:24:08] - corrId_5bb919e82df6b2.40985527 - Token is valid 
[2018-10-06 22:24:08] - corrId_5bb919e82df6b2.40985527 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:24:08] - corrId_5bb919e82df6b2.40985527 - Establishing connection to DB 
[2018-10-06 22:24:08] - corrId_5bb919e82df6b2.40985527 - Executing query 
[2018-10-06 22:24:08] - corrId_5bb919e82df6b2.40985527 - Query executed successfully 
[2018-10-06 22:24:08] - corrId_5bb919e82df6b2.40985527 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 22:24:09] - corrId_5bb919e9476f25.32047935 - Reached RestitutionManagementService API 
[2018-10-06 22:24:09] - corrId_5bb919e9476f25.32047935 - Establishing connection to DB 
[2018-10-06 22:24:09] - corrId_5bb919e9476f25.32047935 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:24:09] - corrId_5bb919e9476f25.32047935 - Token is valid 
[2018-10-06 22:24:09] - corrId_5bb919e9476f25.32047935 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:24:09] - corrId_5bb919e9476f25.32047935 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:24:09] - corrId_5bb919e9476f25.32047935 - Executing query 
[2018-10-06 22:24:09] - corrId_5bb919e9476f25.32047935 - Query executed successfully 
[2018-10-06 22:24:18] - corrId_5bb919f23340d3.17964127 - Reached RestitutionManagementService API 
[2018-10-06 22:24:18] - corrId_5bb919f23340d3.17964127 - Establishing connection to DB 
[2018-10-06 22:24:18] - corrId_5bb919f23340d3.17964127 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:24:18] - corrId_5bb919f23340d3.17964127 - Token is valid 
[2018-10-06 22:24:18] - corrId_5bb919f23340d3.17964127 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:24:18] - corrId_5bb919f23340d3.17964127 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:24:18] - corrId_5bb919f23340d3.17964127 - Executing query 
[2018-10-06 22:24:18] - corrId_5bb919f23340d3.17964127 - Query executed successfully 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Reached RestitutionManagementService API 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Establishing connection to DB 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Token is valid 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, no.data_effettiva_restituzione
                fi.titolo, cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Executing query 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Error while executing query -> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.titolo, cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggi' at line 2 
[2018-10-06 22:24:19] - corrId_5bb919f356c602.36295082 - Error occured -> Exception: Exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.titolo, cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggi' at line 2 in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:69
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(75): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(182): RestitutionManagementService->GetArchivedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(203): RestitutionManagementService->Init()
#4 {main} in C:\Projects\ProgettiBDC\Videonoleggio\php\DBConnection.php:79
Stack trace:
#0 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(20): DBConnection->ExecuteQuery('SELECT co.id_co...')
#1 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(75): RestitutionManagementService->ExecuteQuery('SELECT co.id_co...')
#2 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(182): RestitutionManagementService->GetArchivedVideoForUser()
#3 C:\Projects\ProgettiBDC\Videonoleggio\php\RestitutionManagementService.php(203): RestitutionManagementService->Init()
#4 {main} 
[2018-10-06 22:25:44] - corrId_5bb91a48d794e8.11469958 - Reached AuthenticationService API 
[2018-10-06 22:25:44] - corrId_5bb91a48d794e8.11469958 - Token is valid 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Reached BookingManagementService API 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Establishing connection to DB 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Processing GetComingSoonMovies request. 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Token is valid 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Executing query 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Query executed successfully 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Executing query 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Query executed successfully 
[2018-10-06 22:25:45] - corrId_5bb91a490427c9.57336707 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:25:45] - corrId_5bb91a4930d554.33516990 - Reached CustomerManagementService API 
[2018-10-06 22:25:45] - corrId_5bb91a4930d554.33516990 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 22:25:45] - corrId_5bb91a4930d554.33516990 - Token is valid 
[2018-10-06 22:25:45] - corrId_5bb91a4930d554.33516990 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:25:45] - corrId_5bb91a4930d554.33516990 - Establishing connection to DB 
[2018-10-06 22:25:45] - corrId_5bb91a4930d554.33516990 - Executing query 
[2018-10-06 22:25:45] - corrId_5bb91a4930d554.33516990 - Query executed successfully 
[2018-10-06 22:25:45] - corrId_5bb91a4930d554.33516990 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 22:25:46] - corrId_5bb91a4a39b187.02922034 - Reached RestitutionManagementService API 
[2018-10-06 22:25:46] - corrId_5bb91a4a39b187.02922034 - Establishing connection to DB 
[2018-10-06 22:25:46] - corrId_5bb91a4a39b187.02922034 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:25:46] - corrId_5bb91a4a39b187.02922034 - Token is valid 
[2018-10-06 22:25:46] - corrId_5bb91a4a39b187.02922034 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:25:46] - corrId_5bb91a4a39b187.02922034 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, no.data_effettiva_restituzione,
                fi.titolo, cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:25:46] - corrId_5bb91a4a39b187.02922034 - Executing query 
[2018-10-06 22:25:46] - corrId_5bb91a4a39b187.02922034 - Query executed successfully 
[2018-10-06 22:27:45] - corrId_5bb91ac1c340c3.99102716 - Reached AuthenticationService API 
[2018-10-06 22:27:45] - corrId_5bb91ac1c340c3.99102716 - Token is valid 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Reached BookingManagementService API 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Establishing connection to DB 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Processing GetComingSoonMovies request. 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Token is valid 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Query: SELECT fi.id_film, fi.titolo, fi.durata, fi.prezzo_giornaliero, fi.data_uscita,
                    ge.tipo, cp.nome as casa_produttrice_nome, re.nome as regista_nome, re.cognome as regista_cognome,
                    COUNT(prenotazioni.id_prenotazione) as numero_prenotazioni
            FROM film fi        
            INNER JOIN genere ge
            ON fi.id_genere = ge.id_genere
            INNER JOIN casa_produttrice cp
            ON fi.id_casa_produttrice = cp.id_casa_produttrice
            INNER JOIN regista re
            ON fi.id_regista = re.id_regista
            LEFT JOIN (SELECT id_prenotazione, id_film 
                        FROM prenotazione 
                        WHERE id_punto_vendita = 1
                        AND ritirato = 0) as prenotazioni
            ON fi.id_film = prenotazioni.id_film           
            WHERE fi.inUscita = 1
            AND fi.data_uscita > '2018-09-29'
            GROUP BY fi.id_film 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Executing query 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Query executed successfully 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Query: SELECT ca.id_film, at.nome as attore_nome, at.cognome as attore_cognome                    
            FROM cast ca
            INNER JOIN attore at
            ON ca.id_attore = at.id_attore
            WHERE ca.id_film         
            IN (4, 5) 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Executing query 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Query executed successfully 
[2018-10-06 22:27:45] - corrId_5bb91ac1d6c912.87030492 - Operation getComingSoonMovies was successful. 
[2018-10-06 22:27:46] - corrId_5bb91ac22609d7.82215876 - Reached CustomerManagementService API 
[2018-10-06 22:27:46] - corrId_5bb91ac22609d7.82215876 - Processing GetAllCustomersWithPremiumCode request. 
[2018-10-06 22:27:46] - corrId_5bb91ac22609d7.82215876 - Token is valid 
[2018-10-06 22:27:46] - corrId_5bb91ac22609d7.82215876 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:27:46] - corrId_5bb91ac22609d7.82215876 - Establishing connection to DB 
[2018-10-06 22:27:46] - corrId_5bb91ac22609d7.82215876 - Executing query 
[2018-10-06 22:27:46] - corrId_5bb91ac22609d7.82215876 - Query executed successfully 
[2018-10-06 22:27:46] - corrId_5bb91ac22609d7.82215876 - Operation getAllCustomersWithPremiumCode was successful. 
[2018-10-06 22:27:47] - corrId_5bb91ac3568602.13082715 - Reached RestitutionManagementService API 
[2018-10-06 22:27:47] - corrId_5bb91ac3568602.13082715 - Establishing connection to DB 
[2018-10-06 22:27:47] - corrId_5bb91ac3568602.13082715 - Processing GetRentedVideoForUser request. 
[2018-10-06 22:27:47] - corrId_5bb91ac3568602.13082715 - Token is valid 
[2018-10-06 22:27:47] - corrId_5bb91ac3568602.13082715 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:27:47] - corrId_5bb91ac3568602.13082715 - Query: SELECT co.id_copia, no.id_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, fi.titolo,
                cli.nome, cli.cognome, cli.id_cliente, pd.prezzo_giornaliero, pd.tariffa, pd.percentuale
            FROM noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            INNER JOIN price_details pd
            ON no.id_noleggio = pd.id_noleggio
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:27:47] - corrId_5bb91ac3568602.13082715 - Executing query 
[2018-10-06 22:27:47] - corrId_5bb91ac3568602.13082715 - Query executed successfully 
[2018-10-06 22:27:48] - corrId_5bb91ac4b5ea71.24583909 - Reached RestitutionManagementService API 
[2018-10-06 22:27:48] - corrId_5bb91ac4b5ea71.24583909 - Establishing connection to DB 
[2018-10-06 22:27:48] - corrId_5bb91ac4b5ea71.24583909 - Processing GetArchivedVideoForUser request. 
[2018-10-06 22:27:48] - corrId_5bb91ac4b5ea71.24583909 - Token is valid 
[2018-10-06 22:27:48] - corrId_5bb91ac4b5ea71.24583909 - Validated permissions for user admin (required 10, has 30) 
[2018-10-06 22:27:48] - corrId_5bb91ac4b5ea71.24583909 - Query: SELECT co.id_copia, no.id_storico_noleggio, no.data_inizio, no.data_fine, no.prezzo_totale, no.data_effettiva_restituzione,
                fi.titolo, cli.nome, cli.cognome, cli.id_cliente
            FROM storico_noleggio no
            INNER JOIN cliente cli
            ON no.id_cliente = cli.id_cliente
            INNER JOIN copia co
            ON no.id_copia = co.id_copia
            INNER JOIN film fi
            ON co.id_film = fi.id_film
            WHERE co.id_punto_vendita = 1
            AND no.id_cliente = 40 
[2018-10-06 22:27:48] - corrId_5bb91ac4b5ea71.24583909 - Executing query 
[2018-10-06 22:27:48] - corrId_5bb91ac4b5ea71.24583909 - Query executed successfully 
